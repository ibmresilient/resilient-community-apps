<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-circuits codegen
-->

# Example: ZIA: Get Customlist

## Function - ZIA: Get URL Categories

### API Name
`funct_zia_get_url_categories`

### Output Name
`None`

### Message Destination
`zia`

### Pre-Processing Script
```python
inputs.zia_custom_only = "true"
inputs.zia_category_id = rule.properties.zia_category_id
```

### Post-Processing Script
```python
##  ZIA - wf_zia_get_customlist post processing script ##

#  Globals
FN_NAME = "funct_zia_get_url_categories"
WF_NAME = "Example: ZIA: Get Customlist"
CONTENT = results.content
INPUTS = results.inputs
QUERY_EXECUTION_DATE = results["metrics"]["timestamp"]
note_text = ''
DATA_TBL_FIELDS = ["cat_id", "configuredName", "url"]
#Processing

note_text = u''
if CONTENT:
    cat = CONTENT.pop()
    configured_name = cat.configuredNam
    customlist_urls = cat.urls
    note_text = u"ZIA Integration: Workflow <b>{0}</b>: There were <b>{1}</b> customlist URLS (s) returned for " \
                    u"SOAR function <b>{2}</b>.".format(WF_NAME, len(customlist_urls), FN_NAME)
    for url in customlist_urls:
        newrow = incident.addRow("zia_customlists")
        newrow.query_execution_date = QUERY_EXECUTION_DATE
        newrow.cat_id = cat["id"]
        newrow.configuredName = cat["configuredName"]
        newrow.url = url
else:
    note_text += u"ZIA Integration: Workflow <b>{0}</b>: There were <b>no</b> results returned " \
                 u"for SOAR function <b>{1}</b>."\
        .format(WF_NAME, FN_NAME)

    incident.addNote(helper.createRichText(note_text))

```

---

