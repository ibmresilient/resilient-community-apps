<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-sdk codegen
    Generated with resilient-sdk v51.0.2.0.974
-->

# Playbook - PagerDuty: Update PagerDuty Incident Severity (PB)

### API Name
`pagerduty_update_pagerduty_incident_pb`

### Status
`enabled`

### Activation Type
`Automatic`

### Activation Conditions
`incident.properties.pd_incident_id has_a_value AND (incident.severity_code changed OR incident.properties.pd_incident_priority changed)`

### Object Type
`incident`

### Description
Update PagerDuty Incident severity. This playbook should only trigger if a PagerDuty Incident has already been created.


---
## Function - PagerDuty Transition Incident

### API Name
`pagerduty_transition_incident`

### Output Name
`transition_output`

### Message Destination
`pagerduty`

### Function-Input Script
```python
inputs.pd_incident_id = incident.properties.pd_incident_id
if incident.severity_code in ["Low", "High"]:
  inputs.pd_severity = incident.severity_code
if incident.resolution_id:
  inputs.pd_status = 'resolved'
  inputs.pd_description = incident.resolution_summary.content
else:
  inputs.pd_status = incident.properties.pd_incident_status
inputs.pd_priority = incident.properties.pd_incident_priority
```

---

## Local script - PD Severity Post-Script

### Description


### Script Type
`Local script`

### Object Type
`incident`

### Script Content
```python
incident.addNote(f"""Incident Priority Update to {incident.properties.pd_incident_priority}""")
```

---

