<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-sdk codegen
    Generated with resilient-sdk v51.0.2.2.1096
-->

# Playbook - Sumo Logic: Add Tag to Insight

### API Name
`sumo_logic_add_tag_to_insight`

### Status
`enabled`

### Activation Type
`Manual`

### Activation Conditions
`incident.properties.sumo_logic_insight_id has_a_value`

### Activation Form Elements
| Input Field Label | API Name | Element Type | Tooltip | Requirement |
| ----------------- | -------- | ------------ | ------- | ----------- |
| Tag Name | `sumo_logic_insight_tag` | text | - | Always |

### Object Type
`incident`

### Description
Manual playbook to add a tag to a Sumo Logic insight.


---
## Function - Sumo Logic: Add Tag to Insight

### API Name
`sumo_logic_add_tag_to_insight`

### Output Name
`add_tag_results`

### Message Destination
`fn_sumo_logic`

### Function-Input Script
```python
inputs.sumo_logic_insight_id = incident.properties.sumo_logic_insight_id
inputs.sumo_logic_insight_tag = playbook.inputs.sumo_logic_insight_tag
```

---

## Local script - Sumo Logic: write add tag results to note

### Description
Write the results of add tag to insight function results to a SOAR note.

### Script Type
`Local script`

### Object Type
`incident`

### Script Content
```python
results = playbook.functions.results.add_tag_results

if results.get("success"):
    content = results.get("content")
    if content:
        data = content.get("data", None)
        tags = data.get("tags", None)
        incident.properties.sumo_logic_insight_tags = ", ".join(tags) if isinstance(tags, list) else None
        note_text = f"<b>Sumo Logic Add Tag to Insight:</b>  {playbook.inputs.sumo_logic_insight_tag} added."
    else:
        note_text = "<b>Sumo Logic: Add Tag to Insight</b> failed to post tag(s) - no content."
else:
    reason = results.get("reason")
    note_text = "<b>VMware CBC: Add Tag to Insight</b> failed to add tag(s) {reason}."
  
incident.addNote(note_text)
```

---

