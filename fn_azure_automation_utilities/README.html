<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="search" title="Search" href="../search.html" /><link rel="next" title="BigFix" href="../fn_bigfix/README.html" /><link rel="prev" title="Axonius" href="../fn_axonius/README.html" />

    <link rel="shortcut icon" href="../_static/IBM_Security_Shield.ico"/><!-- Generated with Sphinx 7.3.7 and Furo 2024.04.27 -->
        <title>Azure Automation Utilities - QRadar SOAR Apps</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=437aa6ec" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=afe95b24" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">QRadar SOAR Apps</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../_static/IBM_Security_Light.png" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../_static/IBM_Security_Dark.png" alt="Dark Logo"/>
  </div>
  
  <span class="sidebar-brand-text">QRadar SOAR Apps</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Recently Updated Apps</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../pb_sans_isc_scan_ip/README.html">ISC SANS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_rapid7_insight_idr/README.html">Rapid7 InsightIDR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_pa_panorama/README.html">Palo Alto Panorama</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_mcafee_epo/README.html">McAfee ePO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rc_data_feed_plugin_odbcfeed/README.html">Data Feeder for ODBC Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_relations/README.html">Parent/Child Relationships</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_rest_api/README.html">REST API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_salesforce/README.html">Salesforce</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">App Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../docs/python_api.html">IBM SOAR Python Documentation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">All Apps</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../fn_abuseipdb/README.html">AbuseIPDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_alienvault_otx/README.html">AlienVault OTX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_anomali_staxx/README.html">Anomali Staxx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_ansible/README.html">Ansible</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_ansible_tower/README.html">Ansible Tower</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_api_void/README.html">APIVoid Threat Analysis APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_aws_guardduty/README.html">Amazon AWS GuardDuty</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_aws_iam/README.html">AWS IAM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_aws_utilities/README.html">AWS Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_axonius/README.html">Axonius</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Azure Automation Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_bigfix/README.html">BigFix</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_bmc_helix/README.html">BMC Helix</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_calendar_invite/README.html">Calendar Invite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_cisco_amp4ep/README.html">Cisco AMP for Endpoints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_cisco_asa/README.html">Cisco ASA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_cisco_enforcement/README.html">Cisco Umbrella Enforcement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_cisco_umbrella_inv/README.html">Cisco Umbrella Investigate</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_clamav/README.html">ClamAV</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_cloud_foundry/README.html">Cloud Foundry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_components/README.html">App Host Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_create_webex_meeting/README.html">Cisco WebEx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_create_zoom_meeting/README.html">Zoom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_cve_search/README.html">CVE Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_darktrace/README.html">Darktrace <!-- omit in toc --></a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_datatable_utils/README.html">Datatable Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_elasticsearch/README.html">ElasticSearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_email_header_validation/README.html">Email Header Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_exchange/README.html">Microsoft Exchange</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_exchange_online/README.html">Microsoft Exchange Online</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_extrahop/README.html">ExtraHop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_geocoding/README.html">Google Geocoding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_github/README.html">GitHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_google_cloud_dlp/README.html">Google Cloud DLP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_google_cloud_scc/README.html">Google Cloud Security Command Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_googlesafebrowsing/README.html">Google Safe Browsing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_greynoise/README.html">GreyNoise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_grpc_interface/README.html">gRPC Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_hibp/README.html">Have I Been Pwned</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_html2pdf/README.html">HTML to PDF</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_icdx/README.html">Symantec ICDx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_incident_utils/README.html">Incident Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_ioc_parser_v2/README.html">IOC Parser</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_ipinfo/README.html">IPInfo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_isitphishing/README.html">IsItPhishing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_jira/README.html">Jira</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_joe_sandbox_analysis/README.html">Joe Sandbox Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_kafka/README.html">Kafka</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_ldap_utilities/README.html">IBM SOAR LDAP Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_maas360/README.html">MaaS360</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_mandiant/README.html">Mandiant Threat Intelligence</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_mcafee_atd/README.html">McAfee ATD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_mcafee_esm/README.html">McAfee ESM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_mcafee_opendxl/README.html">McAfee OpenDXL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_mcafee_tie/README.html">McAfee TIE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_microsoft_defender/README.html">Microsoft Defender</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_microsoft_security_graph/README.html">Microsoft Security Graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_microsoft_sentinel/README.html">Microsoft Sentinel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_misp/README.html">MISP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_mitre_integration/README.html">MITRE ATT&amp;CK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_mxtoolbox/README.html">About MxToolBox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_netdevice/README.html">netMiko</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_network_utilities/README.html">Network Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_ocr/README.html">Image OCR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_odbc_query/README.html">ODBC Query</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_outbound_email/README.html">Outbound Email</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_pagerduty/README.html">PagerDuty</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_parse_utilities/README.html">Parse Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_passivetotal/README.html">PassiveTotal</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_pastebin/README.html">PasteBin Creator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_phish_ai/README.html">Phish.AI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_phish_tank/README.html">PhishTank Lookup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_pipl/README.html">Pipl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_playbook_maker/README.html">Playbook Maker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_playbook_utils/README.html">Playbook Utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_proofpoint_tap/README.html">Proofpoint TAP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_proofpoint_trap/README.html">Proofpoint TRAP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_pulsedive/README.html">Pulsedive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_qradar_advisor/README.html">QRadar Advisor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_qradar_enhanced_data/README.html">QRadar Enhanced Data Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_qradar_integration/README.html">QRadar Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_query_tor_network/README.html">TOR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_randori/README.html">Randori</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_reaqta/README.html">QRadar EDR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_remedy/README.html">Remedy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_rsa_netwitness/README.html">RSA NetWitness</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_soar_utils/README.html">SOAR Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_scheduler/README.html">Scheduler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_secureworks_ctp/README.html">Secureworks CTP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_sentinelone/README.html">SentinelOne</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_sep/README.html">Symantec Endpoint Protection</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../fn_service_now/README.html">ServiceNow</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of ServiceNow</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../fn_service_now/docs/install_guide/README.html">ServiceNow Installation Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fn_service_now/docs/customize_snow_guide/README.html">ServiceNow Customization Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fn_service_now/docs/customize_resilient_guide/README.html">SOAR Customization Guide</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../fn_shadowserver/README.html">Shadowserver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_shodan/README.html">Shodan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_siemplify/README.html">Siemplify</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_slack/README.html">Slack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_snapshot_url/README.html">Snapshot URL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_spamhaus_query/README.html">Spamhaus Lookup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_splunk_integration/README.html">Splunk</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_symantec_dlp/README.html">Symantec DLP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_task_utils/README.html">Task Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_teams/README.html">Microsoft Teams</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_threatminer/README.html">ThreatMiner</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_timer/README.html">Timer Function</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_trusteer_ppd/README.html">Trusteer Pinpoint Detect</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_twilio/README.html">Twilio SMS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_twitter_most_popular/README.html">Twitter Search API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_url_to_dns/README.html">URL to DNS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_urlhaus/README.html">URLhaus</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_urlscanio/README.html">URLScan.io</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_utilities/README.html">Utilities (Deprecated)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_virustotal/README.html">VirusTotal</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_vmray_analyzer/README.html">VMRay Sandbox Analyzer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_watson_translate/README.html">Watson Translate</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_webex/README.html">Cisco Webex</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_whois/README.html">Whois</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_whois_rdap/README.html">Whois RDAP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_wiki/README.html">SOAR Wiki</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_xforce/README.html">IBM XForce Collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_yeti/README.html">Yeti</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_zia/README.html">Zscaler Internet Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rc_data_feed/README.html">Data Feed Extension</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rc_data_feed_plugin_elasticfeed/README.html">Data Feed Elasticsearch Plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rc_data_feed_plugin_kafkafeed/README.html">Data Feed KafkaFeed Plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rc_data_feed_plugin_resilientfeed/README.html">Data Feeder for SOAR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rc_data_feed_plugin_splunkfeed/README.html">Data Feed plugin for Splunk</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rc-cts-abuseipdb/README.html">AbuseIPDB Threat Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rc-cts-haveibeenpwned/README.html">Have I Been Pwned Threat Searcher</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rc-cts-mcafeetie/README.html">McAfee TIE Threat Searcher</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rc-cts-passivetotal/README.html">RiskIQ PassiveTotal</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rc-cts-shadowserver/README.html">ShadowServer Threat Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rc-cts-urlscanio/README.html">URLScan IO Threat Searcher</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="azure-automation-utilities">
<h1>Azure Automation Utilities<a class="headerlink" href="#azure-automation-utilities" title="Link to this heading">¶</a></h1>
<section id="table-of-contents">
<h2>Table of Contents<a class="headerlink" href="#table-of-contents" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="#release-notes"><span class="xref myst">Release Notes</span></a></p></li>
<li><p><a class="reference internal" href="#overview"><span class="xref myst">Overview</span></a></p>
<ul>
<li><p><a class="reference internal" href="#key-features"><span class="xref myst">Key Features</span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#requirements"><span class="xref myst">Requirements</span></a></p>
<ul>
<li><p><a class="reference internal" href="#soar-platform"><span class="xref myst">SOAR platform</span></a></p></li>
<li><p><a class="reference internal" href="#cloud-pak-for-security"><span class="xref myst">Cloud Pak for Security</span></a></p></li>
<li><p><a class="reference internal" href="#proxy-server"><span class="xref myst">Proxy Server</span></a></p></li>
<li><p><a class="reference internal" href="#python-environment"><span class="xref myst">Python Environment</span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#installation"><span class="xref myst">Installation</span></a></p>
<ul>
<li><p><a class="reference internal" href="#install"><span class="xref myst">Install</span></a></p></li>
<li><p><a class="reference internal" href="#app-configuration"><span class="xref myst">App Configuration</span></a></p></li>
<li><p><a class="reference internal" href="#custom-layouts"><span class="xref myst">Custom Layouts</span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#function---azure-create-account"><span class="xref myst">Function - Azure Create Account</span></a></p></li>
<li><p><a class="reference internal" href="#function---azure-create-credential"><span class="xref myst">Function - Azure Create Credential</span></a></p></li>
<li><p><a class="reference internal" href="#function---azure-create-schedule"><span class="xref myst">Function - Azure Create Schedule</span></a></p></li>
<li><p><a class="reference internal" href="#function---azure-delete-account"><span class="xref myst">Function - Azure Delete Account</span></a></p></li>
<li><p><a class="reference internal" href="#function---azure-delete-credential"><span class="xref myst">Function - Azure Delete Credential</span></a></p></li>
<li><p><a class="reference internal" href="#function---azure-delete-runbook"><span class="xref myst">Function - Azure Delete Runbook</span></a></p></li>
<li><p><a class="reference internal" href="#function---azure-delete-schedule"><span class="xref myst">Function - Azure Delete Schedule</span></a></p></li>
<li><p><a class="reference internal" href="#function---azure-execute-runbook"><span class="xref myst">Function - Azure Execute Runbook</span></a></p></li>
<li><p><a class="reference internal" href="#function---azure-get-account"><span class="xref myst">Function - Azure Get Account</span></a></p></li>
<li><p><a class="reference internal" href="#function---azure-get-agent-registration-information"><span class="xref myst">Function - Azure Get Agent Registration Information</span></a></p></li>
<li><p><a class="reference internal" href="#function---azure-get-credential"><span class="xref myst">Function - Azure Get Credential</span></a></p></li>
<li><p><a class="reference internal" href="#function---azure-get-job"><span class="xref myst">Function - Azure Get Job</span></a></p></li>
<li><p><a class="reference internal" href="#function---azure-get-module-activity"><span class="xref myst">Function - Azure Get Module Activity</span></a></p></li>
<li><p><a class="reference internal" href="#function---azure-get-node-report"><span class="xref myst">Function - Azure Get Node Report</span></a></p></li>
<li><p><a class="reference internal" href="#function---azure-get-runbook"><span class="xref myst">Function - Azure Get Runbook</span></a></p></li>
<li><p><a class="reference internal" href="#function---azure-get-schedule"><span class="xref myst">Function - Azure Get Schedule</span></a></p></li>
<li><p><a class="reference internal" href="#function---azure-list-statistics-by-automation-account"><span class="xref myst">Function - Azure List Statistics by Automation Account</span></a></p></li>
<li><p><a class="reference internal" href="#function---azure-regenerate-agent-registration-key"><span class="xref myst">Function - Azure Regenerate Agent Registration Key</span></a></p></li>
<li><p><a class="reference internal" href="#data-table---azure-automation-accounts"><span class="xref myst">Data Table - Azure Automation Accounts</span></a></p></li>
<li><p><a class="reference internal" href="#data-table---azure-automation-credentials"><span class="xref myst">Data Table - Azure Automation Credentials</span></a></p></li>
<li><p><a class="reference internal" href="#data-table---azure-automation-runbooks"><span class="xref myst">Data Table - Azure Automation Runbooks</span></a></p></li>
<li><p><a class="reference internal" href="#data-table---azure-automation-schedules"><span class="xref myst">Data Table - Azure Automation Schedules</span></a></p></li>
<li><p><a class="reference internal" href="#data-table---azure-automation-statistics"><span class="xref myst">Data Table - Azure Automation Statistics</span></a></p></li>
<li><p><a class="reference internal" href="#playbooks"><span class="xref myst">Playbooks</span></a></p></li>
<li><p><a class="reference internal" href="#troubleshooting--support"><span class="xref myst">Troubleshooting &amp; Support</span></a></p></li>
</ul>
</section>
<hr class="docutils" />
<section id="release-notes">
<h2>Release Notes<a class="headerlink" href="#release-notes" title="Link to this heading">¶</a></h2>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Version</p></th>
<th class="head"><p>Date</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1.0.0</p></td>
<td><p>11/2023</p></td>
<td><p>Initial Release</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<hr class="docutils" />
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">¶</a></h2>
<!--
  Provide a high-level description of the function itself and its remote software or application.
  The text below is parsed from the "description" and "long_description" attributes in the setup.py file
-->
<p><strong>IBM SOAR App for Azure Automation</strong></p>
<p><img alt="screenshot: main" src="../_images/main5.png" /></p>
<p>This app allows interaction with the following Azure Automation resources:</p>
<ul class="simple">
<li><p>Automation Accounts</p></li>
<li><p>Activities</p></li>
<li><p>Jobs</p></li>
<li><p>Runbooks</p></li>
<li><p>Nodes</p></li>
<li><p>Credentials</p></li>
<li><p>Schedules</p></li>
<li><p>Modules</p></li>
<li><p>Agent Registration</p></li>
<li><p>Statistics</p></li>
</ul>
<section id="key-features">
<h3>Key Features<a class="headerlink" href="#key-features" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Automation Accounts</p></li>
<li><p>Activities</p></li>
<li><p>Jobs</p></li>
<li><p>Runbooks</p></li>
<li><p>Nodes</p></li>
<li><p>Credentials</p></li>
<li><p>Schedules</p></li>
<li><p>Modules</p></li>
<li><p>Agent Registration</p></li>
<li><p>Statistics</p></li>
</ul>
</section>
</section>
<hr class="docutils" />
<section id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Link to this heading">¶</a></h2>
<p>This app supports the IBM Security QRadar SOAR Platform and the IBM Security QRadar SOAR for IBM Cloud Pak for Security.</p>
<section id="soar-platform">
<h3>SOAR platform<a class="headerlink" href="#soar-platform" title="Link to this heading">¶</a></h3>
<p>The SOAR platform supports two app deployment mechanisms, Edge Gateway (also known as App Host) and integration server.</p>
<p>If deploying to a SOAR platform with an App Host, the requirements are:</p>
<ul class="simple">
<li><p>SOAR platform &gt;= <code class="docutils literal notranslate"><span class="pre">48.0.0</span></code>.</p></li>
<li><p>The app is in a container-based format (available from the AppExchange as a <code class="docutils literal notranslate"><span class="pre">zip</span></code> file).</p></li>
</ul>
<p>If deploying to a SOAR platform with an integration server, the requirements are:</p>
<ul>
<li><p>SOAR platform &gt;= <code class="docutils literal notranslate"><span class="pre">48.0.0</span></code>.</p></li>
<li><p>The app is in the older integration format (available from the AppExchange as a <code class="docutils literal notranslate"><span class="pre">zip</span></code> file which contains a <code class="docutils literal notranslate"><span class="pre">tar.gz</span></code> file).</p></li>
<li><p>Integration server is running <code class="docutils literal notranslate"><span class="pre">resilient-circuits&gt;=48.0.0</span></code>.</p></li>
<li><p>If using an API key account, make sure the account provides the following minimum permissions:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Permissions</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Org Data</p></td>
<td><p>Read</p></td>
</tr>
<tr class="row-odd"><td><p>Function</p></td>
<td><p>Read</p></td>
</tr>
<tr class="row-even"><td><p>Layout</p></td>
<td><p>Edit, Read</p></td>
</tr>
</tbody>
</table>
</div>
</li>
</ul>
<p>The following SOAR platform guides provide additional information:</p>
<ul class="simple">
<li><p><em>Edge Gateway Deployment Guide</em> or <em>App Host Deployment Guide</em>: provides installation, configuration, and troubleshooting information, including proxy server settings.</p></li>
<li><p><em>Integration Server Guide</em>: provides installation, configuration, and troubleshooting information, including proxy server settings.</p></li>
<li><p><em>System Administrator Guide</em>: provides the procedure to install, configure and deploy apps.</p></li>
</ul>
<p>The above guides are available on the IBM Documentation website at <a class="reference external" href="https://ibm.biz/soar-docs">ibm.biz/soar-docs</a>. On this web page, select your SOAR platform version. On the follow-on page, you can find the <em>Edge Gateway Deployment Guide</em>, <em>App Host Deployment Guide</em>, or <em>Integration Server Guide</em> by expanding <strong>Apps</strong> in the Table of Contents pane. The System Administrator Guide is available by expanding <strong>System Administrator</strong>.</p>
</section>
<section id="cloud-pak-for-security">
<h3>Cloud Pak for Security<a class="headerlink" href="#cloud-pak-for-security" title="Link to this heading">¶</a></h3>
<p>If you are deploying to IBM Cloud Pak for Security, the requirements are:</p>
<ul class="simple">
<li><p>IBM Cloud Pak for Security &gt;= <code class="docutils literal notranslate"><span class="pre">1.10.15</span></code>.</p></li>
<li><p>Cloud Pak is configured with an Edge Gateway.</p></li>
<li><p>The app is in a container-based format (available from the AppExchange as a <code class="docutils literal notranslate"><span class="pre">zip</span></code> file).</p></li>
</ul>
<p>The following Cloud Pak guides provide additional information:</p>
<ul class="simple">
<li><p><em>Edge Gateway Deployment Guide</em> or <em>App Host Deployment Guide</em>: provides installation, configuration, and troubleshooting information, including proxy server settings. From the Table of Contents, select Case Management and Orchestration &amp; Automation &gt; <strong>Orchestration and Automation Apps</strong>.</p></li>
<li><p><em>System Administrator Guide</em>: provides information to install, configure, and deploy apps. From the IBM Cloud Pak for Security IBM Documentation table of contents, select Case Management and Orchestration &amp; Automation &gt; <strong>System administrator</strong>.</p></li>
</ul>
<p>These guides are available on the IBM Documentation website at <a class="reference external" href="https://ibm.biz/cp4s-docs">ibm.biz/cp4s-docs</a>. From this web page, select your IBM Cloud Pak for Security version. From the version-specific IBM Documentation page, select Case Management and Orchestration &amp; Automation.</p>
</section>
<section id="proxy-server">
<h3>Proxy Server<a class="headerlink" href="#proxy-server" title="Link to this heading">¶</a></h3>
<p>The app does support a proxy server.</p>
</section>
<section id="python-environment">
<h3>Python Environment<a class="headerlink" href="#python-environment" title="Link to this heading">¶</a></h3>
<p>Python 3.6 and Python 3.9 are supported.
Additional package dependencies may exist for each of these packages:</p>
<ul class="simple">
<li><p>resilient-circuits&gt;=48.0.0</p></li>
</ul>
</section>
</section>
<hr class="docutils" />
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Link to this heading">¶</a></h2>
<section id="install">
<h3>Install<a class="headerlink" href="#install" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>To install or uninstall an App or Integration on the <em>SOAR platform</em>, see the documentation at <a class="reference external" href="https://ibm.biz/soar-docs">ibm.biz/soar-docs</a>.</p></li>
<li><p>To install or uninstall an App on <em>IBM Cloud Pak for Security</em>, see the documentation at <a class="reference external" href="https://ibm.biz/cp4s-docs">ibm.biz/cp4s-docs</a> and follow the instructions above to navigate to Orchestration and Automation.</p></li>
</ul>
</section>
<section id="app-configuration">
<h3>App Configuration<a class="headerlink" href="#app-configuration" title="Link to this heading">¶</a></h3>
<p>The following table provides the settings you need to configure the app. These settings are made in the app.config file. See the documentation discussed in the Requirements section for the procedure.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Config</p></th>
<th class="head text-center"><p>Required</p></th>
<th class="head"><p>Example</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>auth_url</strong></p></td>
<td class="text-center"><p>Yes</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">https://login.microsoftonline.com/(tenant_id)/oauth2/v2.0/authorize</span></code></p></td>
<td><p><em>The auth_url setting is used to get a new refresh token.</em></p></td>
</tr>
<tr class="row-odd"><td><p><strong>client_id</strong></p></td>
<td class="text-center"><p>Yes</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">aaaaaaaa-bbbb-cccc-dddd-609dc6e4d76f</span></code></p></td>
<td><p><em>Azure AD Application client ID</em></p></td>
</tr>
<tr class="row-even"><td><p><strong>client_secret</strong></p></td>
<td class="text-center"><p>Yes</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">11111~D_gt~dB222226gq11111-v3333333LAaLt</span></code></p></td>
<td><p><em>Azure AD Application client secret</em></p></td>
</tr>
<tr class="row-odd"><td><p><strong>refresh_token</strong></p></td>
<td class="text-center"><p>Yes</p></td>
<td><p>``</p></td>
<td><p><em>The refresh token used to obtain a new access token (for refresh token grant)</em></p></td>
</tr>
<tr class="row-even"><td><p><strong>scope</strong></p></td>
<td class="text-center"><p>Yes</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">https://management.azure.com/user_impersonation</span> <span class="pre">openid</span> <span class="pre">profile</span> <span class="pre">offline_access</span></code></p></td>
<td><p><em>Scopes are a way to limit the amount of access that is granted to an access token.</em></p></td>
</tr>
<tr class="row-odd"><td><p><strong>subscription_id</strong></p></td>
<td class="text-center"><p>Yes</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">11111111-aaaa-2222-cccc-89e99b336784</span></code></p></td>
<td><p><em>Azure subscription ID</em></p></td>
</tr>
<tr class="row-even"><td><p><strong>tenant_id</strong></p></td>
<td class="text-center"><p>Yes</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">11111111-aaaa-2222-cccc-89e99b336784</span></code></p></td>
<td><p><em>Azure AD Application tenant ID</em></p></td>
</tr>
<tr class="row-odd"><td><p><strong>token_url</strong></p></td>
<td class="text-center"><p>Yes</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">https://login.microsoftonline.com/(tenant_id)/oauth2/v2.0/token</span></code></p></td>
<td><p><em>The token_url setting is used to get a new access token.</em></p></td>
</tr>
<tr class="row-even"><td><p><strong>https_proxy</strong></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">https://proxy:443</span></code></p></td>
<td><p><em>Proxy url and port</em></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="custom-layouts">
<h3>Custom Layouts<a class="headerlink" href="#custom-layouts" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Import the Data Tables and Custom Fields like the screenshot below:</p>
<p><img alt="screenshot: custom_layouts" src="../_images/custom_layouts3.png" /></p>
</li>
</ul>
</section>
</section>
<hr class="docutils" />
<section id="function-azure-create-account">
<h2>Function - Azure Create Account<a class="headerlink" href="#function-azure-create-account" title="Link to this heading">¶</a></h2>
<p>Create or update an automation account on Azure</p>
<p><img alt="screenshot: fn-azure-create-account " src="../_images/fn-azure-create-account.png" /></p>
<details><summary>Inputs:</summary>
<p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head text-center"><p>Type</p></th>
<th class="head text-center"><p>Required</p></th>
<th class="head"><p>Example</p></th>
<th class="head"><p>Tooltip</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">account_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Azure Automation Account Name</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">account_update</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">boolean</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>True if you are updating an account</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">input_parameters</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>string with dictionary format</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">resource_group_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Existing Azure automation resource group name</p></td>
</tr>
</tbody>
</table>
</div>
</p>
</details>
<details><summary>Outputs:</summary>
<p>
<blockquote>
<div><p><strong>NOTE:</strong> This example might be in JSON format, but <code class="docutils literal notranslate"><span class="pre">results</span></code> is a Python Dictionary on the SOAR platform.</p>
</div></blockquote>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;etag&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;/subscriptions/abcdefgh-1234-abcd-1234-a1b2c3d4e5f6/resourceGroups/demoassets/providers/Microsoft.Automation/automationAccounts/autotester24&quot;</span><span class="p">,</span>
    <span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;Canada East&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;autotester24&quot;</span><span class="p">,</span>
    <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;RegistrationUrl&quot;</span><span class="p">:</span> <span class="s2">&quot;https://55555555-3333-4444-bb0f-030397ea7fc1.agentsvc.yq.azure-automation.net/accounts/55555555-3333-4444-bb0f-030397ea7fc1&quot;</span><span class="p">,</span>
      <span class="s2">&quot;RuntimeConfiguration&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;powershell&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;builtinModules&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;Az&quot;</span><span class="p">:</span> <span class="s2">&quot;8.0.0&quot;</span>
          <span class="p">}</span>
        <span class="p">},</span>
        <span class="s2">&quot;powershell7&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;builtinModules&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;Az&quot;</span><span class="p">:</span> <span class="s2">&quot;8.0.0&quot;</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">&quot;automationHybridServiceUrl&quot;</span><span class="p">:</span> <span class="s2">&quot;https://55555555-3333-4444-bb0f-030397ea7fc1.jrds.yq.azure-automation.net/automationAccounts/55555555-3333-4444-bb0f-030397ea7fc1&quot;</span><span class="p">,</span>
      <span class="s2">&quot;creationTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-22T12:44:27.9+00:00&quot;</span><span class="p">,</span>
      <span class="s2">&quot;disableLocalAuth&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
      <span class="s2">&quot;encryption&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;identity&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;userAssignedIdentity&quot;</span><span class="p">:</span> <span class="n">null</span>
        <span class="p">},</span>
        <span class="s2">&quot;keySource&quot;</span><span class="p">:</span> <span class="s2">&quot;Microsoft.Automation&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;lastModifiedBy&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
      <span class="s2">&quot;lastModifiedTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-22T12:44:27.9+00:00&quot;</span><span class="p">,</span>
      <span class="s2">&quot;publicNetworkAccess&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
      <span class="s2">&quot;sku&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;capacity&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;family&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Basic&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;state&quot;</span><span class="p">:</span> <span class="s2">&quot;Ok&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;systemData&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;createdAt&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-22T12:44:27.9+00:00&quot;</span><span class="p">,</span>
      <span class="s2">&quot;lastModifiedAt&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-22T12:44:27.9+00:00&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;tags&quot;</span><span class="p">:</span> <span class="p">{},</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Microsoft.Automation/AutomationAccounts&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;account_name&quot;</span><span class="p">:</span> <span class="s2">&quot;autotester24&quot;</span><span class="p">,</span>
    <span class="s2">&quot;input_parameters&quot;</span><span class="p">:</span> <span class="s2">&quot;{</span><span class="se">\u0027</span><span class="s2">name</span><span class="se">\u0027</span><span class="s2">: </span><span class="se">\u0027</span><span class="s2">autotester24</span><span class="se">\u0027</span><span class="s2">, </span><span class="se">\u0027</span><span class="s2">location</span><span class="se">\u0027</span><span class="s2">: </span><span class="se">\u0027</span><span class="s2">Canada East</span><span class="se">\u0027</span><span class="s2">, </span><span class="se">\u0027</span><span class="s2">tags</span><span class="se">\u0027</span><span class="s2">: None, </span><span class="se">\u0027</span><span class="s2">properties</span><span class="se">\u0027</span><span class="s2">: {</span><span class="se">\u0027</span><span class="s2">publicNetworkAccess</span><span class="se">\u0027</span><span class="s2">: True, </span><span class="se">\u0027</span><span class="s2">disableLocalAuth</span><span class="se">\u0027</span><span class="s2">: False, </span><span class="se">\u0027</span><span class="s2">sku</span><span class="se">\u0027</span><span class="s2">: {</span><span class="se">\u0027</span><span class="s2">name</span><span class="se">\u0027</span><span class="s2">: </span><span class="se">\u0027</span><span class="s2">Basic</span><span class="se">\u0027</span><span class="s2">}}}&quot;</span><span class="p">,</span>
    <span class="s2">&quot;resource_group_name&quot;</span><span class="p">:</span> <span class="s2">&quot;demoassets&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;execution_time_ms&quot;</span><span class="p">:</span> <span class="mi">4988</span><span class="p">,</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package&quot;</span><span class="p">:</span> <span class="s2">&quot;fn-azure-automation-utilities&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package_version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-22 08:44:29&quot;</span><span class="p">,</span>
    <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;raw&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;reason&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="mf">2.0</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Input Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">inputs</span><span class="o">.</span><span class="n">account_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_account_name</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">resource_group_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_resource_group</span>

<span class="n">public_network_access</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span> <span class="s2">&quot;azure_automation_account_public_network_access&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">disable_local_auth</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span> <span class="s2">&quot;azure_automation_account_disable_local_auth&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_account_name</span><span class="p">,</span>
  <span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_account_location</span><span class="p">,</span>
  <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;publicNetworkAccess&quot;</span><span class="p">:</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">public_network_access</span> <span class="o">==</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">public_network_access</span><span class="p">,</span>
    <span class="s2">&quot;disableLocalAuth&quot;</span><span class="p">:</span> <span class="kc">False</span> <span class="k">if</span> <span class="n">disable_local_auth</span> <span class="o">==</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">disable_local_auth</span><span class="p">,</span>
    <span class="s2">&quot;sku&quot;</span><span class="p">:{</span>
      <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Basic&quot;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span> <span class="s2">&quot;azure_automation_account_tags&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
  <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span> <span class="s2">&quot;azure_automation_account_tags&quot;</span><span class="p">,</span> <span class="p">{})</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">input_parameters</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Post Process Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">account_results</span>
<span class="n">public_network_access</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span> <span class="s2">&quot;azure_automation_account_public_network_access&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">disable_local_auth</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span> <span class="s2">&quot;azure_automation_account_disable_local_auth&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

<span class="k">if</span> <span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;success&quot;</span><span class="p">):</span>
  <span class="n">incident</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">azure_automation_create_ui_tab</span> <span class="o">=</span> <span class="kc">True</span>
  <span class="n">content</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;content&quot;</span><span class="p">,</span> <span class="p">{})</span>
  <span class="n">account_id</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
  <span class="n">resourceGroup_start</span> <span class="o">=</span> <span class="n">account_id</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;resourceGroups/&quot;</span><span class="p">)</span><span class="o">+</span><span class="mi">15</span>
  <span class="n">resource_group</span> <span class="o">=</span> <span class="n">account_id</span><span class="p">[</span><span class="n">resourceGroup_start</span><span class="p">:</span><span class="n">account_id</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;/providers&quot;</span><span class="p">,</span> <span class="n">resourceGroup_start</span><span class="p">)]</span>
  
  <span class="n">row</span> <span class="o">=</span> <span class="n">incident</span><span class="o">.</span><span class="n">addRow</span><span class="p">(</span><span class="s2">&quot;azure_automation_accounts&quot;</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;account_name_accounts&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;resource_group_accounts&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">resource_group</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;location_accounts&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;location&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;tags_accounts&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">content</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tags&quot;</span><span class="p">))</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;publicnetworkaccess_accounts&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;publicNetworkAccess&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;disablelocalauth_accounts&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;disableLocalAuth&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;account_deleted_accounts&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;account_query_date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">timestamp</span><span class="p">()</span><span class="o">*</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</p>
</details>
</section>
<hr class="docutils" />
<section id="function-azure-create-credential">
<h2>Function - Azure Create Credential<a class="headerlink" href="#function-azure-create-credential" title="Link to this heading">¶</a></h2>
<p>Create or update a credential.</p>
<p><img alt="screenshot: fn-azure-create-credential " src="../_images/fn-azure-create-credential.png" /></p>
<details><summary>Inputs:</summary>
<p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head text-center"><p>Type</p></th>
<th class="head text-center"><p>Required</p></th>
<th class="head"><p>Example</p></th>
<th class="head"><p>Tooltip</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">account_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Azure Automation Account Name</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">credential_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Name of the Azure automation credential</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">credential_update</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">boolean</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>If True will update the given credential. If False will create the given credential</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">input_parameters</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>string with dictionary format</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">resource_group_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Existing Azure automation resource group name</p></td>
</tr>
</tbody>
</table>
</div>
</p>
</details>
<details><summary>Outputs:</summary>
<p>
<blockquote>
<div><p><strong>NOTE:</strong> This example might be in JSON format, but <code class="docutils literal notranslate"><span class="pre">results</span></code> is a Python Dictionary on the SOAR platform.</p>
</div></blockquote>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;/subscriptions/abcdefgh-1234-abcd-1234-a1b2c3d4e5f6/resourceGroups/demoassets/providers/Microsoft.Automation/automationAccounts/automation1/credentials/tes43&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;tes43&quot;</span><span class="p">,</span>
    <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;creationTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-21T18:14:38.87+00:00&quot;</span><span class="p">,</span>
      <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
      <span class="s2">&quot;lastModifiedTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-21T18:14:38.87+00:00&quot;</span><span class="p">,</span>
      <span class="s2">&quot;userName&quot;</span><span class="p">:</span> <span class="s2">&quot;tes43&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Microsoft.Automation/AutomationAccounts/Credentials&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;account_name&quot;</span><span class="p">:</span> <span class="s2">&quot;automation1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;credential_name&quot;</span><span class="p">:</span> <span class="s2">&quot;tes43&quot;</span><span class="p">,</span>
    <span class="s2">&quot;input_parameters&quot;</span><span class="p">:</span> <span class="s2">&quot;{</span><span class="se">\u0027</span><span class="s2">name</span><span class="se">\u0027</span><span class="s2">: </span><span class="se">\u0027</span><span class="s2">tes43</span><span class="se">\u0027</span><span class="s2">, </span><span class="se">\u0027</span><span class="s2">properties</span><span class="se">\u0027</span><span class="s2">: {</span><span class="se">\u0027</span><span class="s2">userName</span><span class="se">\u0027</span><span class="s2">: </span><span class="se">\u0027</span><span class="s2">tes43</span><span class="se">\u0027</span><span class="s2">, </span><span class="se">\u0027</span><span class="s2">password</span><span class="se">\u0027</span><span class="s2">: </span><span class="se">\u0027</span><span class="s2">password</span><span class="se">\u0027</span><span class="s2">}}&quot;</span><span class="p">,</span>
    <span class="s2">&quot;resource_group_name&quot;</span><span class="p">:</span> <span class="s2">&quot;demoassets&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;execution_time_ms&quot;</span><span class="p">:</span> <span class="mi">1506</span><span class="p">,</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package&quot;</span><span class="p">:</span> <span class="s2">&quot;fn-azure-automation-utilities&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package_version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-21 14:14:38&quot;</span><span class="p">,</span>
    <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;raw&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;reason&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="mf">2.0</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Input Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">inputs</span><span class="o">.</span><span class="n">account_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_account_name</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">resource_group_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_resource_group</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">credential_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_credential_name</span>

<span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_credential_name</span><span class="p">,</span>
  <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;userName&quot;</span><span class="p">:</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_credential_username</span><span class="p">,</span>
    <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_credential_password</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span> <span class="s2">&quot;azure_automation_credential_description&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
  <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">][</span><span class="s2">&quot;description&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span> <span class="s2">&quot;azure_automation_credential_description&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">input_parameters</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Post Process Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">create_results</span>
<span class="k">if</span> <span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;success&quot;</span><span class="p">):</span>
  <span class="n">incident</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">azure_automation_create_ui_tab</span> <span class="o">=</span> <span class="kc">True</span>
  <span class="c1"># Add information to the data table</span>
  <span class="n">row</span> <span class="o">=</span> <span class="n">incident</span><span class="o">.</span><span class="n">addRow</span><span class="p">(</span><span class="s2">&quot;azure_automation_credentials&quot;</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;credential_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_credential_name</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;credential_username&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_credential_username</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;credential_description&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span> <span class="s1">&#39;azure_automation_credential_description&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;account_name_credentials&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_account_name</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;resource_group_credentials&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_resource_group</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;credential_deleted&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;credential_query_date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">timestamp</span><span class="p">()</span><span class="o">*</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</p>
</details>
</section>
<hr class="docutils" />
<section id="function-azure-create-schedule">
<h2>Function - Azure Create Schedule<a class="headerlink" href="#function-azure-create-schedule" title="Link to this heading">¶</a></h2>
<p>Create or update a schedule.</p>
<p><img alt="screenshot: fn-azure-create-schedule " src="../_images/fn-azure-create-schedule.png" /></p>
<details><summary>Inputs:</summary>
<p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head text-center"><p>Type</p></th>
<th class="head text-center"><p>Required</p></th>
<th class="head"><p>Example</p></th>
<th class="head"><p>Tooltip</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">account_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Azure Automation Account Name</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">input_parameters</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>string with dictionary format</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">resource_group_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Existing Azure automation resource group name</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">schedule_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">The</span> <span class="pre">name</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">azure</span> <span class="pre">automation</span> <span class="pre">schedule</span></code></p></td>
<td><p>-</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">schedule_update</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">boolean</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>If True schedule will update. If False schedule will be created</p></td>
</tr>
</tbody>
</table>
</div>
</p>
</details>
<details><summary>Outputs:</summary>
<p>
<blockquote>
<div><p><strong>NOTE:</strong> This example might be in JSON format, but <code class="docutils literal notranslate"><span class="pre">results</span></code> is a Python Dictionary on the SOAR platform.</p>
</div></blockquote>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;/subscriptions/abcdefgh-1234-abcd-1234-a1b2c3d4e5f6/resourceGroups/demoassets/providers/Microsoft.Automation/automationAccounts/automation1/schedules/tester1324&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;tester1324&quot;</span><span class="p">,</span>
    <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;advancedSchedule&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
      <span class="s2">&quot;creationTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-24T15:31:44.2666667+00:00&quot;</span><span class="p">,</span>
      <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;something&quot;</span><span class="p">,</span>
      <span class="s2">&quot;expiryTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-25T08:40:00+00:00&quot;</span><span class="p">,</span>
      <span class="s2">&quot;expiryTimeOffsetMinutes&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
      <span class="s2">&quot;frequency&quot;</span><span class="p">:</span> <span class="s2">&quot;OneTime&quot;</span><span class="p">,</span>
      <span class="s2">&quot;interval&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
      <span class="s2">&quot;isEnabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
      <span class="s2">&quot;lastModifiedTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-24T15:31:44.2666667+00:00&quot;</span><span class="p">,</span>
      <span class="s2">&quot;nextRun&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-25T08:40:00+00:00&quot;</span><span class="p">,</span>
      <span class="s2">&quot;nextRunOffsetMinutes&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
      <span class="s2">&quot;startTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-25T08:40:00+00:00&quot;</span><span class="p">,</span>
      <span class="s2">&quot;startTimeOffsetMinutes&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
      <span class="s2">&quot;timeZone&quot;</span><span class="p">:</span> <span class="s2">&quot;Etc/UTC&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Microsoft.Automation/AutomationAccounts/Schedules&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;account_name&quot;</span><span class="p">:</span> <span class="s2">&quot;automation1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;input_parameters&quot;</span><span class="p">:</span> <span class="s2">&quot;{</span><span class="se">\u0027</span><span class="s2">name</span><span class="se">\u0027</span><span class="s2">: </span><span class="se">\u0027</span><span class="s2">tester1324</span><span class="se">\u0027</span><span class="s2">, </span><span class="se">\u0027</span><span class="s2">properties</span><span class="se">\u0027</span><span class="s2">: {</span><span class="se">\u0027</span><span class="s2">startTime</span><span class="se">\u0027</span><span class="s2">: 1692967200000, </span><span class="se">\u0027</span><span class="s2">frequency</span><span class="se">\u0027</span><span class="s2">: </span><span class="se">\u0027</span><span class="s2">OneTime</span><span class="se">\u0027</span><span class="s2">, </span><span class="se">\u0027</span><span class="s2">description</span><span class="se">\u0027</span><span class="s2">: </span><span class="se">\u0027</span><span class="s2">something</span><span class="se">\u0027</span><span class="s2">}}&quot;</span><span class="p">,</span>
    <span class="s2">&quot;resource_group_name&quot;</span><span class="p">:</span> <span class="s2">&quot;demoassets&quot;</span><span class="p">,</span>
    <span class="s2">&quot;schedule_name&quot;</span><span class="p">:</span> <span class="s2">&quot;tester1324&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;execution_time_ms&quot;</span><span class="p">:</span> <span class="mi">30624</span><span class="p">,</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package&quot;</span><span class="p">:</span> <span class="s2">&quot;fn-azure-automation-utilities&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package_version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-24 11:31:44&quot;</span><span class="p">,</span>
    <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;raw&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;reason&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="mf">2.0</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Input Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">inputs</span><span class="o">.</span><span class="n">account_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_account_name</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">resource_group_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_resource_group</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">schedule_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_schedule_name</span>

<span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_schedule_name</span><span class="p">,</span>
  <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;startTime&quot;</span><span class="p">:</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_schedule_start_time</span><span class="p">,</span>
    <span class="s2">&quot;frequency&quot;</span><span class="p">:</span> <span class="s2">&quot;OneTime&quot;</span><span class="p">,</span>
    <span class="s2">&quot;advancedSchedule&quot;</span><span class="p">:</span> <span class="p">{}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span> <span class="s2">&quot;azure_automation_schedule_description&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span> <span class="c1"># Set the description</span>
  <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">][</span><span class="s2">&quot;description&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span> <span class="s2">&quot;azure_automation_schedule_description&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span> <span class="s2">&quot;schedule_time_zone&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span> <span class="c1"># Set the time zone</span>
  <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">][</span><span class="s2">&quot;timeZone&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span> <span class="s2">&quot;schedule_time_zone&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="n">frequency</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span> <span class="s2">&quot;recur_frequency&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="c1"># If the frequency Recurring is selected</span>
<span class="k">if</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">schedule_recurrence</span> <span class="o">==</span> <span class="s2">&quot;Recurring&quot;</span><span class="p">:</span>
  <span class="k">if</span> <span class="n">frequency</span><span class="p">:</span>
    <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">][</span><span class="s2">&quot;frequency&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">frequency</span> <span class="c1"># Set user selected frequency</span>
  <span class="k">else</span><span class="p">:</span> <span class="c1"># Fail if not given by user</span>
    <span class="n">helper</span><span class="o">.</span><span class="n">fail</span><span class="p">(</span><span class="s2">&quot;If Schedule Recurrence equals Recurring than Recur Frequency must be given.&quot;</span><span class="p">)</span>
  <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">][</span><span class="s2">&quot;interval&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span> <span class="s2">&quot;recur_interval&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span> <span class="c1"># Add user given interval to payload</span>
  <span class="c1"># If an expiration date time is given then add it to the payload</span>
  <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span> <span class="s2">&quot;schedule_expiration&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
    <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">][</span><span class="s2">&quot;expiryTime&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span> <span class="s2">&quot;schedule_expiration&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
  <span class="c1"># If the frequency selected equals Week, then add the user selected days to the payload</span>
  <span class="k">if</span> <span class="n">frequency</span> <span class="o">==</span> <span class="s2">&quot;Week&quot;</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span> <span class="s2">&quot;recur_week_days&quot;</span><span class="p">,</span> <span class="p">[]):</span>
      <span class="c1"># List of selected days</span>
      <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">][</span><span class="s2">&quot;advancedSchedule&quot;</span><span class="p">][</span><span class="s2">&quot;weekDays&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span> <span class="s2">&quot;recur_week_days&quot;</span><span class="p">,</span> <span class="p">[])</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">helper</span><span class="o">.</span><span class="n">fail</span><span class="p">(</span><span class="s2">&quot;If Recur Frequency Week is selected than Recur Week Days must be given.&quot;</span><span class="p">)</span>

<span class="n">inputs</span><span class="o">.</span><span class="n">input_parameters</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Post Process Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">schedule</span>
<span class="k">if</span> <span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;success&quot;</span><span class="p">):</span>
  <span class="n">incident</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">azure_automation_create_ui_tab</span> <span class="o">=</span> <span class="kc">True</span>
  <span class="c1"># Add information to the data table</span>
  <span class="n">schedule</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;content&quot;</span><span class="p">,</span> <span class="p">{})</span>
  <span class="n">row</span> <span class="o">=</span> <span class="n">incident</span><span class="o">.</span><span class="n">addRow</span><span class="p">(</span><span class="s2">&quot;azure_automation_schedules&quot;</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;schedule_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;schedule_description&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;schedule_enabled&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;isEnabled&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;schedule_start_time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;startTime&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;schedule_expiry_time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;expiryTime&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;schedule_frequency&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;frequency&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;schedule_interval&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">schedule</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;interval&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;schedule_time_zone&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;timeZone&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;advanced_schedule&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">schedule</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;advancedSchedule&quot;</span><span class="p">,</span> <span class="p">{}))</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;account_name_schedules&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_account_name</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;resource_group_schedules&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_resource_group</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;schedule_deleted&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;schedule_query_row&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">timestamp</span><span class="p">()</span><span class="o">*</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</p>
</details>
</section>
<hr class="docutils" />
<section id="function-azure-delete-account">
<h2>Function - Azure Delete Account<a class="headerlink" href="#function-azure-delete-account" title="Link to this heading">¶</a></h2>
<p>Delete an Azure automation account.</p>
<p><img alt="screenshot: fn-azure-delete-account " src="../_images/fn-azure-delete-account.png" /></p>
<details><summary>Inputs:</summary>
<p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head text-center"><p>Type</p></th>
<th class="head text-center"><p>Required</p></th>
<th class="head"><p>Example</p></th>
<th class="head"><p>Tooltip</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">account_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Azure Automation Account Name</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">resource_group_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Existing Azure automation resource group name</p></td>
</tr>
</tbody>
</table>
</div>
</p>
</details>
<details><summary>Outputs:</summary>
<p>
<blockquote>
<div><p><strong>NOTE:</strong> This example might be in JSON format, but <code class="docutils literal notranslate"><span class="pre">results</span></code> is a Python Dictionary on the SOAR platform.</p>
</div></blockquote>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">200</span>
  <span class="p">},</span>
  <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;account_name&quot;</span><span class="p">:</span> <span class="s2">&quot;test-account&quot;</span><span class="p">,</span>
    <span class="s2">&quot;resource_group_name&quot;</span><span class="p">:</span> <span class="s2">&quot;DemoAssets&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;execution_time_ms&quot;</span><span class="p">:</span> <span class="mi">5098</span><span class="p">,</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package&quot;</span><span class="p">:</span> <span class="s2">&quot;fn-azure-automation-utilities&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package_version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-07-25 08:24:31&quot;</span><span class="p">,</span>
    <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;raw&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;reason&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="mf">2.0</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Input Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">inputs</span><span class="o">.</span><span class="n">account_name</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">account_name_accounts</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">resource_group_name</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">resource_group_accounts</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Post Process Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">account_delete</span>

<span class="k">if</span> <span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;success&quot;</span><span class="p">):</span>
  <span class="n">incident</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">azure_automation_create_ui_tab</span> <span class="o">=</span> <span class="kc">True</span>
  <span class="n">status</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;content&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;status&quot;</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
    <span class="n">row</span><span class="o">.</span><span class="n">account_deleted_accounts</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">row</span><span class="o">.</span><span class="n">account_query_date</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">timestamp</span><span class="p">()</span><span class="o">*</span><span class="mi">1000</span><span class="p">)</span>
  <span class="k">elif</span> <span class="n">status</span> <span class="o">==</span> <span class="mi">204</span><span class="p">:</span>
    <span class="n">incident</span><span class="o">.</span><span class="n">addNote</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;Azure Automation: Account Delete - Example (PB)</span>
<span class="s2">Inputs -</span>
<span class="s2">  Account Name: </span><span class="si">{</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_account_name</span><span class="si">}</span>
<span class="s2">  Resource Group: </span><span class="si">{</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_account_resource_group</span><span class="si">}</span>

<span class="s2">Results -</span>
<span class="s2">  Azure automation account &#39;</span><span class="si">{</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_account_name</span><span class="si">}</span><span class="s2">&#39; not found.&quot;&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</p>
</details>
</section>
<hr class="docutils" />
<section id="function-azure-delete-credential">
<h2>Function - Azure Delete Credential<a class="headerlink" href="#function-azure-delete-credential" title="Link to this heading">¶</a></h2>
<p>Delete the credential.</p>
<p><img alt="screenshot: fn-azure-delete-credential " src="../_images/fn-azure-delete-credential.png" /></p>
<details><summary>Inputs:</summary>
<p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head text-center"><p>Type</p></th>
<th class="head text-center"><p>Required</p></th>
<th class="head"><p>Example</p></th>
<th class="head"><p>Tooltip</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">account_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Azure Automation Account Name</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">credential_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Name of the Azure automation credential</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">resource_group_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Existing Azure automation resource group name</p></td>
</tr>
</tbody>
</table>
</div>
</p>
</details>
<details><summary>Outputs:</summary>
<p>
<blockquote>
<div><p><strong>NOTE:</strong> This example might be in JSON format, but <code class="docutils literal notranslate"><span class="pre">results</span></code> is a Python Dictionary on the SOAR platform.</p>
</div></blockquote>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">200</span>
  <span class="p">},</span>
  <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;account_name&quot;</span><span class="p">:</span> <span class="s2">&quot;automation1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;credential_name&quot;</span><span class="p">:</span> <span class="s2">&quot;tes43&quot;</span><span class="p">,</span>
    <span class="s2">&quot;resource_group_name&quot;</span><span class="p">:</span> <span class="s2">&quot;demoassets&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;execution_time_ms&quot;</span><span class="p">:</span> <span class="mi">1570</span><span class="p">,</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package&quot;</span><span class="p">:</span> <span class="s2">&quot;fn-azure-automation-utilities&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package_version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-21 14:16:11&quot;</span><span class="p">,</span>
    <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;raw&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;reason&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="mf">2.0</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Input Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">inputs</span><span class="o">.</span><span class="n">account_name</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">account_name_credentials</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">resource_group_name</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">resource_group_credentials</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">credential_name</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">credential_name</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Post Process Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">delete_cred</span>

<span class="k">if</span> <span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;success&quot;</span><span class="p">):</span>
  <span class="n">incident</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">azure_automation_create_ui_tab</span> <span class="o">=</span> <span class="kc">True</span>
  <span class="n">status</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;content&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;status&quot;</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
    <span class="n">row</span><span class="p">[</span><span class="s2">&quot;credential_deleted&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">row</span><span class="p">[</span><span class="s2">&quot;credential_query_date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">timestamp</span><span class="p">()</span><span class="o">*</span><span class="mi">1000</span><span class="p">)</span>
  <span class="k">elif</span> <span class="n">status</span> <span class="o">==</span> <span class="mi">204</span><span class="p">:</span>
    <span class="n">incident</span><span class="o">.</span><span class="n">addNote</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;Azure Automation: Credential Delete - Example (PB)</span>
<span class="s2">Inputs -</span>
<span class="s2">  Account Name: </span><span class="si">{</span><span class="n">row</span><span class="o">.</span><span class="n">account_name</span><span class="si">}</span>
<span class="s2">  Resource Group: </span><span class="si">{</span><span class="n">row</span><span class="o">.</span><span class="n">resource_group</span><span class="si">}</span>
<span class="s2">  Credential Name: </span><span class="si">{</span><span class="n">row</span><span class="o">.</span><span class="n">credential_name</span><span class="si">}</span>

<span class="s2">Results -</span>
<span class="s2">  Azure automation credential &#39;</span><span class="si">{</span><span class="n">row</span><span class="o">.</span><span class="n">credential_name</span><span class="si">}</span><span class="s2">&#39; not found.&quot;&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</p>
</details>
</section>
<hr class="docutils" />
<section id="function-azure-delete-runbook">
<h2>Function - Azure Delete Runbook<a class="headerlink" href="#function-azure-delete-runbook" title="Link to this heading">¶</a></h2>
<p>Delete the runbook by name.</p>
<p><img alt="screenshot: fn-azure-delete-runbook " src="../_images/fn-azure-delete-runbook.png" /></p>
<details><summary>Inputs:</summary>
<p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head text-center"><p>Type</p></th>
<th class="head text-center"><p>Required</p></th>
<th class="head"><p>Example</p></th>
<th class="head"><p>Tooltip</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">account_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Azure Automation Account Name</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">resource_group_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Existing Azure automation resource group name</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">runbook_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Runbook name in Azure Automation</p></td>
</tr>
</tbody>
</table>
</div>
</p>
</details>
<details><summary>Outputs:</summary>
<p>
<blockquote>
<div><p><strong>NOTE:</strong> This example might be in JSON format, but <code class="docutils literal notranslate"><span class="pre">results</span></code> is a Python Dictionary on the SOAR platform.</p>
</div></blockquote>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">200</span>
  <span class="p">},</span>
  <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;account_name&quot;</span><span class="p">:</span> <span class="s2">&quot;automation1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;resource_group_name&quot;</span><span class="p">:</span> <span class="s2">&quot;demoassets&quot;</span><span class="p">,</span>
    <span class="s2">&quot;runbook_name&quot;</span><span class="p">:</span> <span class="s2">&quot;test_fail&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;execution_time_ms&quot;</span><span class="p">:</span> <span class="mi">3220</span><span class="p">,</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package&quot;</span><span class="p">:</span> <span class="s2">&quot;fn-azure-automation-utilities&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package_version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-16 14:09:43&quot;</span><span class="p">,</span>
    <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;raw&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;reason&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="mf">2.0</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Input Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">inputs</span><span class="o">.</span><span class="n">account_name</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">account_name_runbooks</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">resource_group_name</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">resource_group_runbooks</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">runbook_name</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">runbook_name</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Post Process Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">delete_runbook</span>
<span class="k">if</span> <span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;success&quot;</span><span class="p">):</span>
  <span class="n">incident</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">azure_automation_create_ui_tab</span> <span class="o">=</span> <span class="kc">True</span>
  <span class="n">row</span><span class="o">.</span><span class="n">runbook_deleted</span> <span class="o">=</span> <span class="kc">True</span>
  <span class="n">row</span><span class="o">.</span><span class="n">runbook_query_date</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">timestamp</span><span class="p">()</span><span class="o">*</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</p>
</details>
</section>
<hr class="docutils" />
<section id="function-azure-delete-schedule">
<h2>Function - Azure Delete Schedule<a class="headerlink" href="#function-azure-delete-schedule" title="Link to this heading">¶</a></h2>
<p>Delete the schedule identified by schedule name.</p>
<p><img alt="screenshot: fn-azure-delete-schedule " src="../_images/fn-azure-delete-schedule.png" /></p>
<details><summary>Inputs:</summary>
<p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head text-center"><p>Type</p></th>
<th class="head text-center"><p>Required</p></th>
<th class="head"><p>Example</p></th>
<th class="head"><p>Tooltip</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">account_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Azure Automation Account Name</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">resource_group_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Existing Azure automation resource group name</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">schedule_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">The</span> <span class="pre">name</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">azure</span> <span class="pre">automation</span> <span class="pre">schedule</span></code></p></td>
<td><p>-</p></td>
</tr>
</tbody>
</table>
</div>
</p>
</details>
<details><summary>Outputs:</summary>
<p>
<blockquote>
<div><p><strong>NOTE:</strong> This example might be in JSON format, but <code class="docutils literal notranslate"><span class="pre">results</span></code> is a Python Dictionary on the SOAR platform.</p>
</div></blockquote>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">200</span>
  <span class="p">},</span>
  <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;account_name&quot;</span><span class="p">:</span> <span class="s2">&quot;automation1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;resource_group_name&quot;</span><span class="p">:</span> <span class="s2">&quot;demoassets&quot;</span><span class="p">,</span>
    <span class="s2">&quot;schedule_name&quot;</span><span class="p">:</span> <span class="s2">&quot;tester1324&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;execution_time_ms&quot;</span><span class="p">:</span> <span class="mi">1244</span><span class="p">,</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package&quot;</span><span class="p">:</span> <span class="s2">&quot;fn-azure-automation-utilities&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package_version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-24 11:38:33&quot;</span><span class="p">,</span>
    <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;raw&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;reason&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="mf">2.0</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Input Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">inputs</span><span class="o">.</span><span class="n">account_name</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">account_name_schedules</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">resource_group_name</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">resource_group_schedules</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">schedule_name</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">schedule_name</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Post Process Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">delete_schedule</span>

<span class="k">if</span> <span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;success&quot;</span><span class="p">):</span>
  <span class="n">incident</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">azure_automation_create_ui_tab</span> <span class="o">=</span> <span class="kc">True</span>
  <span class="n">status</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;content&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;status&quot;</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
    <span class="n">row</span><span class="p">[</span><span class="s2">&quot;schedule_deleted&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">row</span><span class="p">[</span><span class="s2">&quot;schedule_query_date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">timestamp</span><span class="p">()</span><span class="o">*</span><span class="mi">1000</span><span class="p">)</span>
  <span class="k">elif</span> <span class="n">status</span> <span class="o">==</span> <span class="mi">204</span><span class="p">:</span>
    <span class="n">incident</span><span class="o">.</span><span class="n">addNote</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;Azure Automation: Schedule Delete - Example (PB)</span>
<span class="s2">Inputs -</span>
<span class="s2">  Account Name: </span><span class="si">{</span><span class="n">row</span><span class="o">.</span><span class="n">account_name</span><span class="si">}</span>
<span class="s2">  Resource Group: </span><span class="si">{</span><span class="n">row</span><span class="o">.</span><span class="n">resource_group</span><span class="si">}</span>
<span class="s2">  Schedule Name: </span><span class="si">{</span><span class="n">row</span><span class="o">.</span><span class="n">schedule_name</span><span class="si">}</span>

<span class="s2">Results -</span>
<span class="s2">  Schedule &#39;</span><span class="si">{</span><span class="n">row</span><span class="o">.</span><span class="n">schedule_name</span><span class="si">}</span><span class="s2">&#39; not found.&quot;&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</p>
</details>
</section>
<hr class="docutils" />
<section id="function-azure-execute-runbook">
<h2>Function - Azure Execute Runbook<a class="headerlink" href="#function-azure-execute-runbook" title="Link to this heading">¶</a></h2>
<p>Execute a given Azure runbook and retrieve the results</p>
<p><img alt="screenshot: fn-azure-execute-runbook " src="../_images/fn-azure-execute-runbook.png" /></p>
<details><summary>Inputs:</summary>
<p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head text-center"><p>Type</p></th>
<th class="head text-center"><p>Required</p></th>
<th class="head"><p>Example</p></th>
<th class="head"><p>Tooltip</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">account_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Azure Automation Account Name</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">input_parameters</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>string with dictionary format</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">resource_group_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Existing Azure automation resource group name</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">runbook_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Runbook name in Azure Automation</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">time_to_wait</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">number</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Amount of seconds to wait in between Azure automation job status checks. This should be hold long it takes the given runbook to complete.</p></td>
</tr>
</tbody>
</table>
</div>
</p>
</details>
<details><summary>Outputs:</summary>
<p>
<blockquote>
<div><p><strong>NOTE:</strong> This example might be in JSON format, but <code class="docutils literal notranslate"><span class="pre">results</span></code> is a Python Dictionary on the SOAR platform.</p>
</div></blockquote>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">Location              : eastus</span><span class="se">\r\n</span><span class="s2">Tags                  : </span><span class="si">{}</span><span class="se">\r\n</span><span class="s2">JobCount              : 0</span><span class="se">\r\n</span><span class="s2">RunbookType           : PowerShell</span><span class="se">\r\n</span><span class="s2">Parameters            : </span><span class="si">{}</span><span class="se">\r\n</span><span class="s2">LogVerbose            : False</span><span class="se">\r\n</span><span class="s2">LogProgress           : False</span><span class="se">\r\n</span><span class="s2">LastModifiedBy        : </span><span class="se">\r\n</span><span class="s2">State                 : Published</span><span class="se">\r\n</span><span class="s2">ResourceGroupName     : DemoAssets</span><span class="se">\r\n</span><span class="s2">AutomationAccountName : automation1</span><span class="se">\r\n</span><span class="s2">Name                  : get_all_runbooks</span><span class="se">\r\n</span><span class="s2">CreationTime          : 7/19/2023 3:39:27 PM +00:00</span><span class="se">\r\n</span><span class="s2">LastModifiedTime      : 7/19/2023 4:03:24 PM +00:00</span><span class="se">\r\n</span><span class="s2">Description           : Return all runbooks</span><span class="se">\r\n\r\n\r\n</span><span class="s2">Environments                                                                                                            </span><span class="se">\r\n</span><span class="s2">------------                                                                                                            </span><span class="se">\r\n</span><span class="s2">{[AzureChinaCloud, AzureChinaCloud], [AzureCloud, AzureCloud], [AzureGermanCloud, AzureGermanCloud], [AzureUSGovernme...</span><span class="se">\r\n\r\n</span><span class="s2">&quot;</span><span class="p">,</span>
  <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;account_name&quot;</span><span class="p">:</span> <span class="s2">&quot;automation1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;input_parameters&quot;</span><span class="p">:</span> <span class="s2">&quot;{</span><span class="se">\u0027</span><span class="s2">runbook_name</span><span class="se">\u0027</span><span class="s2">: </span><span class="se">\u0027</span><span class="s2">get_all_runbooks</span><span class="se">\u0027</span><span class="s2">}&quot;</span><span class="p">,</span>
    <span class="s2">&quot;resource_group_name&quot;</span><span class="p">:</span> <span class="s2">&quot;DemoAssets&quot;</span><span class="p">,</span>
    <span class="s2">&quot;runbook_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Get_given_runbook&quot;</span><span class="p">,</span>
    <span class="s2">&quot;time_to_wait&quot;</span><span class="p">:</span> <span class="mi">20</span>
  <span class="p">},</span>
  <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;execution_time_ms&quot;</span><span class="p">:</span> <span class="mi">41660</span><span class="p">,</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package&quot;</span><span class="p">:</span> <span class="s2">&quot;fn-azure-automation-utilities&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package_version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-07-25 08:29:24&quot;</span><span class="p">,</span>
    <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;raw&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;reason&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="mf">2.0</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Input Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">inputs</span><span class="o">.</span><span class="n">account_name</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">account_name_runbooks</span>
<span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span> <span class="s2">&quot;azure_automation_runbook_input_parameters&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
  <span class="n">inputs</span><span class="o">.</span><span class="n">input_parameters</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_runbook_input_parameters</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">resource_group_name</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">resource_group_runbooks</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">runbook_name</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">runbook_name</span>

<span class="n">time_to_wait</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span> <span class="s2">&quot;time_to_wait&quot;</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
<span class="c1"># If no time_to_wait is given then default to 30 seconds</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">time_to_wait</span> <span class="o">=</span> <span class="n">time_to_wait</span> <span class="k">if</span> <span class="n">time_to_wait</span> <span class="k">else</span> <span class="mi">30</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Post Process Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">runbook_results</span>
<span class="k">if</span> <span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;success&quot;</span><span class="p">):</span>
  <span class="n">incident</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">azure_automation_create_ui_tab</span> <span class="o">=</span> <span class="kc">True</span>
  <span class="n">incident</span><span class="o">.</span><span class="n">addNote</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;Azure Automation: Runbook Execute - Example (PB)</span>
<span class="s2">Inputs -</span>
<span class="s2">  Account Name: </span><span class="si">{</span><span class="n">row</span><span class="o">.</span><span class="n">account_name_runbooks</span><span class="si">}</span>
<span class="s2">  Resource Group: </span><span class="si">{</span><span class="n">row</span><span class="o">.</span><span class="n">resource_group_runbooks</span><span class="si">}</span>
<span class="s2">  Runbook Name: </span><span class="si">{</span><span class="n">row</span><span class="o">.</span><span class="n">runbook_name</span><span class="si">}</span>
<span class="s2">  Time to Wait: </span><span class="si">{</span><span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;time_to_wait&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">)</span><span class="si">}</span>
<span class="s2">  Input Parameters: </span><span class="si">{</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_runbook_input_parameters</span><span class="si">}</span>

<span class="s2">Results -  </span>
<span class="s2">  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;content&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{}))</span><span class="si">}</span><span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</p>
</details>
</section>
<hr class="docutils" />
<section id="function-azure-get-account">
<h2>Function - Azure Get Account<a class="headerlink" href="#function-azure-get-account" title="Link to this heading">¶</a></h2>
<p>Get a specified Azure automation account information or list accounts.</p>
<p><img alt="screenshot: fn-azure-get-account " src="../_images/fn-azure-get-account.png" /></p>
<details><summary>Inputs:</summary>
<p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head text-center"><p>Type</p></th>
<th class="head text-center"><p>Required</p></th>
<th class="head"><p>Example</p></th>
<th class="head"><p>Tooltip</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">account_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Azure Automation Account Name</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">resource_group_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Existing Azure automation resource group name</p></td>
</tr>
</tbody>
</table>
</div>
</p>
</details>
<details><summary>Outputs:</summary>
<p>
<blockquote>
<div><p><strong>NOTE:</strong> This example might be in JSON format, but <code class="docutils literal notranslate"><span class="pre">results</span></code> is a Python Dictionary on the SOAR platform.</p>
</div></blockquote>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;etag&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;/subscriptions/abcdefgh-1234-abcd-1234-a1b2c3d4e5f6/resourceGroups/DemoAssets/providers/Microsoft.Automation/automationAccounts/testing352&quot;</span><span class="p">,</span>
    <span class="s2">&quot;identity&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;principalId&quot;</span><span class="p">:</span> <span class="s2">&quot;ee616124-e026-4ca0-8c64-d34bae779faf&quot;</span><span class="p">,</span>
      <span class="s2">&quot;tenantId&quot;</span><span class="p">:</span> <span class="s2">&quot;50ad7d3e-b889-434d-802d-13b87c68047b&quot;</span><span class="p">,</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;SystemAssigned&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;eastus&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;testing352&quot;</span><span class="p">,</span>
    <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;RegistrationUrl&quot;</span><span class="p">:</span> <span class="s2">&quot;https://99f846f3-c84d-4c96-af2b-cd0f7a5bd5d5.agentsvc.eus.azure-automation.net/accounts/99f846f3-c84d-4c96-af2b-cd0f7a5bd5d5&quot;</span><span class="p">,</span>
      <span class="s2">&quot;RuntimeConfiguration&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;powershell&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;builtinModules&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;Az&quot;</span><span class="p">:</span> <span class="s2">&quot;8.0.0&quot;</span>
          <span class="p">}</span>
        <span class="p">},</span>
        <span class="s2">&quot;powershell7&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;builtinModules&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;Az&quot;</span><span class="p">:</span> <span class="s2">&quot;8.0.0&quot;</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">&quot;automationHybridServiceUrl&quot;</span><span class="p">:</span> <span class="s2">&quot;https://99f846f3-c84d-4c96-af2b-cd0f7a5bd5d5.jrds.eus.azure-automation.net/automationAccounts/99f846f3-c84d-4c96-af2b-cd0f7a5bd5d5&quot;</span><span class="p">,</span>
      <span class="s2">&quot;creationTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-07-25T12:05:22.16+00:00&quot;</span><span class="p">,</span>
      <span class="s2">&quot;disableLocalAuth&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
      <span class="s2">&quot;encryption&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;identity&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;userAssignedIdentity&quot;</span><span class="p">:</span> <span class="n">null</span>
        <span class="p">},</span>
        <span class="s2">&quot;keySource&quot;</span><span class="p">:</span> <span class="s2">&quot;Microsoft.Automation&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;lastModifiedBy&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
      <span class="s2">&quot;lastModifiedTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-07-25T12:05:22.16+00:00&quot;</span><span class="p">,</span>
      <span class="s2">&quot;privateEndpointConnections&quot;</span><span class="p">:</span> <span class="p">[],</span>
      <span class="s2">&quot;publicNetworkAccess&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
      <span class="s2">&quot;sku&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;capacity&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;family&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Basic&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;state&quot;</span><span class="p">:</span> <span class="s2">&quot;Ok&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;systemData&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;createdAt&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-07-25T12:05:22.16+00:00&quot;</span><span class="p">,</span>
      <span class="s2">&quot;lastModifiedAt&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-07-25T12:05:22.16+00:00&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;tags&quot;</span><span class="p">:</span> <span class="p">{},</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Microsoft.Automation/AutomationAccounts&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;account_name&quot;</span><span class="p">:</span> <span class="s2">&quot;testing352&quot;</span><span class="p">,</span>
    <span class="s2">&quot;resource_group_name&quot;</span><span class="p">:</span> <span class="s2">&quot;DemoAssets&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;execution_time_ms&quot;</span><span class="p">:</span> <span class="mi">1433</span><span class="p">,</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package&quot;</span><span class="p">:</span> <span class="s2">&quot;fn-azure-automation-utilities&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package_version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-07-27 14:14:45&quot;</span><span class="p">,</span>
    <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;raw&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;reason&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="mf">2.0</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Input Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span> <span class="s2">&quot;azure_automation_account_name&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
  <span class="n">inputs</span><span class="o">.</span><span class="n">account_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_account_name</span>
<span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span> <span class="s2">&quot;azure_automation_resource_group_name&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
  <span class="n">inputs</span><span class="o">.</span><span class="n">resource_group_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_resource_group_name</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Post Process Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">account_info</span>

<span class="k">def</span> <span class="nf">add_to_row</span><span class="p">(</span><span class="n">account</span><span class="p">):</span>
  <span class="n">account_id</span> <span class="o">=</span> <span class="n">account</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
  <span class="n">resourceGroup_start</span> <span class="o">=</span> <span class="n">account_id</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;resourceGroups/&quot;</span><span class="p">)</span><span class="o">+</span><span class="mi">15</span>
  <span class="n">resource_group</span> <span class="o">=</span> <span class="n">account_id</span><span class="p">[</span><span class="n">resourceGroup_start</span><span class="p">:</span><span class="n">account_id</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;/providers&quot;</span><span class="p">,</span> <span class="n">resourceGroup_start</span><span class="p">)]</span>

  <span class="n">row</span> <span class="o">=</span> <span class="n">incident</span><span class="o">.</span><span class="n">addRow</span><span class="p">(</span><span class="s2">&quot;azure_automation_accounts&quot;</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;account_name_accounts&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">account</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;resource_group_accounts&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">resource_group</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;location_accounts&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">account</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;location&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;tags_accounts&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">account</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tags&quot;</span><span class="p">))</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;publicnetworkaccess_accounts&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">account</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;publicNetworkAccess&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;disablelocalauth_accounts&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">account</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;disableLocalAuth&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;account_deleted_accounts&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;account_query_date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">timestamp</span><span class="p">()</span><span class="o">*</span><span class="mi">1000</span><span class="p">)</span>

<span class="k">if</span> <span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;success&quot;</span><span class="p">):</span>
  <span class="n">incident</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">azure_automation_create_ui_tab</span> <span class="o">=</span> <span class="kc">True</span>
  <span class="n">content</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;content&quot;</span><span class="p">,</span> <span class="p">{})</span>
  <span class="k">if</span> <span class="n">content</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">account</span> <span class="ow">in</span> <span class="n">content</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="p">[]):</span>
      <span class="n">add_to_row</span><span class="p">(</span><span class="n">account</span><span class="p">)</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="n">add_to_row</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</pre></div>
</div>
</p>
</details>
</section>
<hr class="docutils" />
<section id="function-azure-get-agent-registration-information">
<h2>Function - Azure Get Agent Registration Information<a class="headerlink" href="#function-azure-get-agent-registration-information" title="Link to this heading">¶</a></h2>
<p>Retrieve the automation agent registration information.</p>
<p><img alt="screenshot: fn-azure-get-agent-registration-information " src="../_images/fn-azure-get-agent-registration-information.png" /></p>
<details><summary>Inputs:</summary>
<p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head text-center"><p>Type</p></th>
<th class="head text-center"><p>Required</p></th>
<th class="head"><p>Example</p></th>
<th class="head"><p>Tooltip</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">account_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Azure Automation Account Name</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">resource_group_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Existing Azure automation resource group name</p></td>
</tr>
</tbody>
</table>
</div>
</p>
</details>
<details><summary>Outputs:</summary>
<p>
<blockquote>
<div><p><strong>NOTE:</strong> This example might be in JSON format, but <code class="docutils literal notranslate"><span class="pre">results</span></code> is a Python Dictionary on the SOAR platform.</p>
</div></blockquote>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;dscMetaConfiguration&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\r\n\t</span><span class="s2">instance of MSFT_WebDownloadManager as $MSFT_WebDownloadManager1ref</span><span class="se">\r\n\t</span><span class="s2">{</span><span class="se">\r\n\t</span><span class="s2">ResourceID = </span><span class="se">\&quot;</span><span class="s2">[ConfigurationRepositoryWeb]AzureAutomationDSC</span><span class="se">\&quot;</span><span class="s2">;</span><span class="se">\r\n\t</span><span class="s2"> SourceInfo = </span><span class="se">\&quot;</span><span class="s2">C:</span><span class="se">\\\\</span><span class="s2">OaaS-RegistrationMetaConfig2.ps1::20::9::ConfigurationRepositoryWeb</span><span class="se">\&quot;</span><span class="s2">;</span><span class="se">\r\n\t</span><span class="s2"> RegistrationKey = </span><span class="se">\&quot;</span><span class="s2">1234RYKSRuyfmINzCvic0Oz7DpGskIbty5W12345QbKWlsYT0BGp6qzfwz12345678vuh28cqRMoxDD39Iut7w==</span><span class="se">\&quot;</span><span class="s2">; </span><span class="se">\r\n\t</span><span class="s2"> ServerURL = </span><span class="se">\&quot;</span><span class="s2">https://abcdefgh-1234-abcd-1234-a1b2c3d4e5f6.agentsvc.eus.azure-automation.net/accounts/abcdefgh-1234-abcd-1234-a1b2c3d4e5f6</span><span class="se">\&quot;</span><span class="s2">;</span><span class="se">\r\n\t</span><span class="s2">};</span><span class="se">\r\n\r\n\t</span><span class="s2">instance of MSFT_WebResourceManager as $MSFT_WebResourceManager1ref</span><span class="se">\r\n\t</span><span class="s2">{</span><span class="se">\r\n\t</span><span class="s2"> SourceInfo = </span><span class="se">\&quot;</span><span class="s2">C:</span><span class="se">\\\\</span><span class="s2">OaaS-RegistrationMetaConfig2.ps1::27::9::ResourceRepositoryWeb</span><span class="se">\&quot;</span><span class="s2">;</span><span class="se">\r\n\t</span><span class="s2"> ServerURL = </span><span class="se">\&quot;</span><span class="s2">https://abcdefgh-1234-abcd-1234-a1b2c3d4e5f6.agentsvc.eus.azure-automation.net/accounts/abcdefgh-1234-abcd-1234-a1b2c3d4e5f6</span><span class="se">\&quot;</span><span class="s2">;</span><span class="se">\r\n\t</span><span class="s2"> ResourceID = </span><span class="se">\&quot;</span><span class="s2">[ResourceRepositoryWeb]AzureAutomationDSC</span><span class="se">\&quot;</span><span class="s2">;</span><span class="se">\r\n\t</span><span class="s2"> RegistrationKey = </span><span class="se">\&quot;</span><span class="s2">1234RYKSRuyfmINzCvic0Oz7DpGskIbty5W12345QbKWlsYT0BGp6qzfwz12345678vuh28cqRMoxDD39Iut7w==</span><span class="se">\&quot;</span><span class="s2">; </span><span class="se">\r\n\t</span><span class="s2">};</span><span class="se">\r\n\r\n\t</span><span class="s2">instance of MSFT_WebReportManager as $MSFT_WebReportManager1ref</span><span class="se">\r\n\t</span><span class="s2">{</span><span class="se">\r\n\t</span><span class="s2"> SourceInfo = </span><span class="se">\&quot;</span><span class="s2">C:</span><span class="se">\\\\</span><span class="s2">OaaS-RegistrationMetaConfig2.ps1::34::9::ReportServerWeb</span><span class="se">\&quot;</span><span class="s2">;</span><span class="se">\r\n\t</span><span class="s2"> ServerURL = </span><span class="se">\&quot;</span><span class="s2">https://abcdefgh-1234-abcd-1234-a1b2c3d4e5f6.agentsvc.eus.azure-automation.net/accounts/abcdefgh-1234-abcd-1234-a1b2c3d4e5f6</span><span class="se">\&quot;</span><span class="s2">;</span><span class="se">\r\n\t</span><span class="s2"> ResourceID = </span><span class="se">\&quot;</span><span class="s2">[ReportServerWeb]AzureAutomationDSC</span><span class="se">\&quot;</span><span class="s2">;</span><span class="se">\r\n\t</span><span class="s2"> RegistrationKey = </span><span class="se">\&quot;</span><span class="s2">1234RYKSRuyfmINzCvic0Oz7DpGskIbty5W12345QbKWlsYT0BGp6qzfwz12345678vuh28cqRMoxDD39Iut7w==</span><span class="se">\&quot;</span><span class="s2">; </span><span class="se">\r\n\t</span><span class="s2">};</span><span class="se">\r\n\r\n\t</span><span class="s2">instance of MSFT_DSCMetaConfiguration as $MSFT_DSCMetaConfiguration1ref</span><span class="se">\r\n\t</span><span class="s2">{</span><span class="se">\r\n\t</span><span class="s2"> RefreshMode = </span><span class="se">\&quot;</span><span class="s2">Pull</span><span class="se">\&quot;</span><span class="s2">;</span><span class="se">\r\n\t</span><span class="s2"> AllowModuleOverwrite = False;</span><span class="se">\r\n\t</span><span class="s2"> ActionAfterReboot = </span><span class="se">\&quot;</span><span class="s2">ContinueConfiguration</span><span class="se">\&quot;</span><span class="s2">;</span><span class="se">\r\n\t</span><span class="s2"> RefreshFrequencyMins = 30;</span><span class="se">\r\n\t</span><span class="s2"> RebootNodeIfNeeded = False;</span><span class="se">\r\n\t</span><span class="s2"> ConfigurationModeFrequencyMins = 15;</span><span class="se">\r\n\t</span><span class="s2"> ConfigurationMode = </span><span class="se">\&quot;</span><span class="s2">ApplyAndMonitor</span><span class="se">\&quot;</span><span class="s2">;</span><span class="se">\r\n\r\n\t</span><span class="s2">  ResourceModuleManagers = {</span><span class="se">\r\n\t</span><span class="s2">  $MSFT_WebResourceManager1ref  </span><span class="se">\r\n\t</span><span class="s2">};</span><span class="se">\r\n\t</span><span class="s2">  ReportManagers = {</span><span class="se">\r\n\t</span><span class="s2">  $MSFT_WebReportManager1ref  </span><span class="se">\r\n\t</span><span class="s2"> };</span><span class="se">\r\n\t</span><span class="s2">  ConfigurationDownloadManagers = {</span><span class="se">\r\n\t</span><span class="s2">  $MSFT_WebDownloadManager1ref  </span><span class="se">\r\n\t</span><span class="s2"> };</span><span class="se">\r\n\t</span><span class="s2">};</span><span class="se">\r\n\r\n\t</span><span class="s2">instance of OMI_ConfigurationDocument</span><span class="se">\r\n\t</span><span class="s2">{</span><span class="se">\r\n\t</span><span class="s2"> Version=</span><span class="se">\&quot;</span><span class="s2">2.0.0</span><span class="se">\&quot;</span><span class="s2">;</span><span class="se">\r\n\t</span><span class="s2"> MinimumCompatibleVersion = </span><span class="se">\&quot;</span><span class="s2">2.0.0</span><span class="se">\&quot;</span><span class="s2">;</span><span class="se">\r\n\t</span><span class="s2"> CompatibleVersionAdditionalProperties= { </span><span class="se">\&quot;</span><span class="s2">MSFT_DSCMetaConfiguration:StatusRetentionTimeInDays</span><span class="se">\&quot;</span><span class="s2"> };</span><span class="se">\r\n\t</span><span class="s2"> Author=</span><span class="se">\&quot;</span><span class="s2">azureautomation</span><span class="se">\&quot;</span><span class="s2">;</span><span class="se">\r\n\t</span><span class="s2"> GenerationDate=</span><span class="se">\&quot;</span><span class="s2">04/17/2015 11:41:09</span><span class="se">\&quot;</span><span class="s2">;</span><span class="se">\r\n\t</span><span class="s2"> GenerationHost=</span><span class="se">\&quot;</span><span class="s2">azureautomation-01</span><span class="se">\&quot;</span><span class="s2">;</span><span class="se">\r\n\t</span><span class="s2"> Name=</span><span class="se">\&quot;</span><span class="s2">RegistrationMetaConfig</span><span class="se">\&quot;</span><span class="s2">;</span><span class="se">\r\n\t</span><span class="s2">};</span><span class="se">\r\n\t</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="s2">&quot;endpoint&quot;</span><span class="p">:</span> <span class="s2">&quot;https://abcdefgh-1234-abcd-1234-a1b2c3d4e5f6.agentsvc.eus.azure-automation.net/accounts/abcdefgh-1234-abcd-1234-a1b2c3d4e5f6&quot;</span><span class="p">,</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;/subscriptions/abcdefgh-1234-abcd-1234-a1b2c3d4e5f6/resourceGroups/demoassets/providers/Microsoft.Automation/automationAccounts/automation1/agentRegistrationInformation/https://abcdefgh-1234-abcd-1234-a1b2c3d4e5f6.agentsvc.eus.azure-automation.net/accounts/abcdefgh-1234-abcd-1234-a1b2c3d4e5f6&quot;</span><span class="p">,</span>
    <span class="s2">&quot;keys&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;primary&quot;</span><span class="p">:</span> <span class="s2">&quot;1234RYKSRuyfmINzCvic0Oz7DpGskIbty5W12345QbKWlsYT0BGp6qzfwz12345678vuh28cqRMoxDD39Iut7w==&quot;</span><span class="p">,</span>
      <span class="s2">&quot;secondary&quot;</span><span class="p">:</span> <span class="s2">&quot;bC6hr123456789qPD2eeowEt9rDRqfJMnJmUOhP123450/x53Vezc3rqDhherrLzb123456MWhub+86IKwxssg==&quot;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;account_name&quot;</span><span class="p">:</span> <span class="s2">&quot;automation1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;resource_group_name&quot;</span><span class="p">:</span> <span class="s2">&quot;demoassets&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;execution_time_ms&quot;</span><span class="p">:</span> <span class="mi">1725</span><span class="p">,</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package&quot;</span><span class="p">:</span> <span class="s2">&quot;fn-azure-automation-utilities&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package_version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-21 09:45:31&quot;</span><span class="p">,</span>
    <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;raw&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;reason&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="mf">2.0</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Input Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">inputs</span><span class="o">.</span><span class="n">account_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_account_name</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">resource_group_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_resource_group_name</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Post Process Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">json</span> <span class="kn">import</span> <span class="n">dumps</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">registration_info</span>

<span class="k">if</span> <span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;success&quot;</span><span class="p">):</span>
  <span class="n">incident</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">azure_automation_create_ui_tab</span> <span class="o">=</span> <span class="kc">True</span>
  <span class="n">incident</span><span class="o">.</span><span class="n">addNote</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;Azure Automation: Agent Registration Get Information - Example (PB)</span>
<span class="s2">Inputs -</span>
<span class="s2">  Account Name: </span><span class="si">{</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_account_name</span><span class="si">}</span>
<span class="s2">  Resource Group Name: </span><span class="si">{</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_resource_group_name</span><span class="si">}</span>

<span class="s2">Results -</span>
<span class="s2">  </span><span class="si">{</span><span class="n">dumps</span><span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;content&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{}),</span><span class="w"> </span><span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</p>
</details>
</section>
<hr class="docutils" />
<section id="function-azure-get-credential">
<h2>Function - Azure Get Credential<a class="headerlink" href="#function-azure-get-credential" title="Link to this heading">¶</a></h2>
<p>Get credential from given credential name or list all credentials on given resource group.</p>
<p><img alt="screenshot: fn-azure-get-credential " src="../_images/fn-azure-get-credential.png" /></p>
<details><summary>Inputs:</summary>
<p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head text-center"><p>Type</p></th>
<th class="head text-center"><p>Required</p></th>
<th class="head"><p>Example</p></th>
<th class="head"><p>Tooltip</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">account_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Azure Automation Account Name</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">credential_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Name of the Azure automation credential</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">resource_group_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Existing Azure automation resource group name</p></td>
</tr>
</tbody>
</table>
</div>
</p>
</details>
<details><summary>Outputs:</summary>
<p>
<blockquote>
<div><p><strong>NOTE:</strong> This example might be in JSON format, but <code class="docutils literal notranslate"><span class="pre">results</span></code> is a Python Dictionary on the SOAR platform.</p>
</div></blockquote>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;/subscriptions/abcdefgh-1234-abcd-1234-a1b2c3d4e5f6/resourceGroups/demoassets/providers/Microsoft.Automation/automationAccounts/automation1/credentials/tes43&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;tes43&quot;</span><span class="p">,</span>
    <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;creationTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-21T18:14:38.87+00:00&quot;</span><span class="p">,</span>
      <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
      <span class="s2">&quot;lastModifiedTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-21T18:14:38.87+00:00&quot;</span><span class="p">,</span>
      <span class="s2">&quot;userName&quot;</span><span class="p">:</span> <span class="s2">&quot;tes43&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Microsoft.Automation/AutomationAccounts/Credentials&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;account_name&quot;</span><span class="p">:</span> <span class="s2">&quot;automation1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;credential_name&quot;</span><span class="p">:</span> <span class="s2">&quot;tes43&quot;</span><span class="p">,</span>
    <span class="s2">&quot;resource_group_name&quot;</span><span class="p">:</span> <span class="s2">&quot;demoassets&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;execution_time_ms&quot;</span><span class="p">:</span> <span class="mi">1393</span><span class="p">,</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package&quot;</span><span class="p">:</span> <span class="s2">&quot;fn-azure-automation-utilities&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package_version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-21 14:15:23&quot;</span><span class="p">,</span>
    <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;raw&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;reason&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="mf">2.0</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Input Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">inputs</span><span class="o">.</span><span class="n">account_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_account_name</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">resource_group_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_resource_group</span>
<span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span> <span class="s2">&quot;azure_automation_credential_name&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
  <span class="n">inputs</span><span class="o">.</span><span class="n">credential_name</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span> <span class="s2">&quot;azure_automation_credential_name&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Post Process Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">cred</span>

<span class="c1"># Add credential information to data table</span>
<span class="k">def</span> <span class="nf">add_to_row</span><span class="p">(</span><span class="n">credential</span><span class="p">):</span>
  <span class="n">row</span> <span class="o">=</span> <span class="n">incident</span><span class="o">.</span><span class="n">addRow</span><span class="p">(</span><span class="s2">&quot;azure_automation_credentials&quot;</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;credential_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">credential</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;credential_username&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">credential</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;userName&quot;</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;credential_description&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">credential</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;description&quot;</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;account_name_credentials&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_account_name</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;resource_group_credentials&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_resource_group</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;credential_deleted&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;credential_query_date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">timestamp</span><span class="p">()</span><span class="o">*</span><span class="mi">1000</span><span class="p">)</span>

<span class="k">if</span> <span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;success&quot;</span><span class="p">):</span>
  <span class="n">incident</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">azure_automation_create_ui_tab</span> <span class="o">=</span> <span class="kc">True</span>
  <span class="n">content</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;content&#39;</span><span class="p">,</span> <span class="p">{})</span>
  <span class="k">if</span> <span class="n">content</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="p">[]):</span>
    <span class="c1"># If list of credentials returned</span>
    <span class="k">for</span> <span class="n">credential</span> <span class="ow">in</span> <span class="n">content</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="p">[]):</span>
      <span class="n">add_to_row</span><span class="p">(</span><span class="n">credential</span><span class="p">)</span>
  <span class="k">elif</span> <span class="n">content</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span> <span class="c1"># If single credential returned</span>
    <span class="n">add_to_row</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</pre></div>
</div>
</p>
</details>
</section>
<hr class="docutils" />
<section id="function-azure-get-job">
<h2>Function - Azure Get Job<a class="headerlink" href="#function-azure-get-job" title="Link to this heading">¶</a></h2>
<p>Retrieve the job info or job output identified by job name or list jobs.</p>
<p><img alt="screenshot: fn-azure-get-job " src="../_images/fn-azure-get-job.png" /></p>
<details><summary>Inputs:</summary>
<p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head text-center"><p>Type</p></th>
<th class="head text-center"><p>Required</p></th>
<th class="head"><p>Example</p></th>
<th class="head"><p>Tooltip</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">account_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Azure Automation Account Name</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">job_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Azure Automation job name</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">job_output</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">boolean</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>If True will return Job output. If False will return job details</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">resource_group_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Existing Azure automation resource group name</p></td>
</tr>
</tbody>
</table>
</div>
</p>
</details>
<details><summary>Outputs:</summary>
<p>
<blockquote>
<div><p><strong>NOTE:</strong> This example might be in JSON format, but <code class="docutils literal notranslate"><span class="pre">results</span></code> is a Python Dictionary on the SOAR platform.</p>
</div></blockquote>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;/subscriptions/abcdefgh-1234-abcd-1234-a1b2c3d4e5f6/resourceGroups/demoassets/providers/Microsoft.Automation/automationAccounts/automation1/jobs/1692024049238&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;1692024049238&quot;</span><span class="p">,</span>
    <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;creationTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-14T14:42:29.5306946+00:00&quot;</span><span class="p">,</span>
      <span class="s2">&quot;endTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-14T14:42:55.9297673+00:00&quot;</span><span class="p">,</span>
      <span class="s2">&quot;exception&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
      <span class="s2">&quot;jobId&quot;</span><span class="p">:</span> <span class="s2">&quot;efe4db52-a124-4bea-9582-7b0c7f7133e4&quot;</span><span class="p">,</span>
      <span class="s2">&quot;lastModifiedTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-14T14:42:55.9297673+00:00&quot;</span><span class="p">,</span>
      <span class="s2">&quot;lastStatusModifiedTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-14T14:42:55.9297673+00:00&quot;</span><span class="p">,</span>
      <span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;runbook_name&quot;</span><span class="p">:</span> <span class="s2">&quot;get_all_runbooks&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;provisioningState&quot;</span><span class="p">:</span> <span class="s2">&quot;Succeeded&quot;</span><span class="p">,</span>
      <span class="s2">&quot;runOn&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
      <span class="s2">&quot;runbook&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Get_given_runbook&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;startTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-14T14:42:41.9604553+00:00&quot;</span><span class="p">,</span>
      <span class="s2">&quot;startedBy&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{scrubbed}</span><span class="s2">&quot;</span><span class="p">,</span>
      <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;Completed&quot;</span><span class="p">,</span>
      <span class="s2">&quot;statusDetails&quot;</span><span class="p">:</span> <span class="s2">&quot;None&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Microsoft.Automation/AutomationAccounts/Jobs&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;account_name&quot;</span><span class="p">:</span> <span class="s2">&quot;automation1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;job_name&quot;</span><span class="p">:</span> <span class="s2">&quot;1692024049238&quot;</span><span class="p">,</span>
    <span class="s2">&quot;resource_group_name&quot;</span><span class="p">:</span> <span class="s2">&quot;demoassets&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;execution_time_ms&quot;</span><span class="p">:</span> <span class="mi">533</span><span class="p">,</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package&quot;</span><span class="p">:</span> <span class="s2">&quot;fn-azure-automation-utilities&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package_version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-16 14:52:41&quot;</span><span class="p">,</span>
    <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;raw&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;reason&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="mf">2.0</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Input Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">inputs</span><span class="o">.</span><span class="n">account_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_account_name</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">resource_group_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_resource_group_name</span>
<span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span> <span class="s2">&quot;azure_automation_job_name&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
  <span class="n">inputs</span><span class="o">.</span><span class="n">job_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_job_name</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Post Process Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">json</span> <span class="kn">import</span> <span class="n">dumps</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">job_results</span>
<span class="k">if</span> <span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;success&quot;</span><span class="p">):</span>
  <span class="n">incident</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">azure_automation_create_ui_tab</span> <span class="o">=</span> <span class="kc">True</span>
  <span class="n">incident</span><span class="o">.</span><span class="n">addNote</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;Azure Automation: Job Get - Example (PB)</span>
<span class="s2">Inputs -</span>
<span class="s2">  Account Name: </span><span class="si">{</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_account_name</span><span class="si">}</span>
<span class="s2">  Resource Group: </span><span class="si">{</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_resource_group_name</span><span class="si">}</span>
<span class="s2">  Job Name: </span><span class="si">{</span><span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;azure_automation_job_name&#39;</span><span class="p">,</span><span class="w"> </span><span class="kc">None</span><span class="p">)</span><span class="si">}</span>

<span class="s2">Results -</span>
<span class="s2">  </span><span class="si">{</span><span class="n">dumps</span><span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;content&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{}),</span><span class="w"> </span><span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</p>
</details>
</section>
<hr class="docutils" />
<section id="function-azure-get-module-activity">
<h2>Function - Azure Get Module Activity<a class="headerlink" href="#function-azure-get-module-activity" title="Link to this heading">¶</a></h2>
<p>Retrieve the activity in the module identified by module name and activity name or
Retrieve a list of activities in the module identified by module name.</p>
<p><img alt="screenshot: fn-azure-get-module-activity " src="../_images/fn-azure-get-module-activity.png" /></p>
<details><summary>Inputs:</summary>
<p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head text-center"><p>Type</p></th>
<th class="head text-center"><p>Required</p></th>
<th class="head"><p>Example</p></th>
<th class="head"><p>Tooltip</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">account_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Azure Automation Account Name</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">activity_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>The Azure automation module activity name</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">module_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>The name of the Azure automation module.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">resource_group_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Existing Azure automation resource group name</p></td>
</tr>
</tbody>
</table>
</div>
</p>
</details>
<details><summary>Outputs:</summary>
<p>
<blockquote>
<div><p><strong>NOTE:</strong> This example might be in JSON format, but <code class="docutils literal notranslate"><span class="pre">results</span></code> is a Python Dictionary on the SOAR platform.</p>
</div></blockquote>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;/subscriptions/abcdefgh-1234-abcd-1234-a1b2c3d4e5f6/resourceGroups/demoassets/providers/Microsoft.Automation/automationAccounts/automation1/modules/Az.Advisor/activities/Set-AzAdvisorConfiguration&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Set-AzAdvisorConfiguration&quot;</span><span class="p">,</span>
    <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;creationTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2022-07-06T10:01:53.9133333+00:00&quot;</span><span class="p">,</span>
      <span class="s2">&quot;definition&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
      <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Updates or creates the Azure Advisor Configuration. ^https://docs.microsoft.com/powershell/module/az.advisor/set-azadvisorConfiguration^&quot;</span><span class="p">,</span>
      <span class="s2">&quot;lastModifiedTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2022-07-06T10:01:53.9133333+00:00&quot;</span><span class="p">,</span>
      <span class="s2">&quot;outputTypes&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Microsoft.Azure.Commands.Advisor.Cmdlets.Models.PsAzureAdvisorConfigurationData&quot;</span><span class="p">,</span>
          <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Microsoft.Azure.Commands.Advisor.Cmdlets.Models.PsAzureAdvisorConfigurationData&quot;</span>
        <span class="p">}</span>
      <span class="p">],</span>
      <span class="s2">&quot;parameterSets&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;InputObjectLowCpuExcludeParameterSet&quot;</span><span class="p">,</span>
          <span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
              <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
              <span class="s2">&quot;isDynamic&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;isMandatory&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;DefaultProfile&quot;</span><span class="p">,</span>
              <span class="s2">&quot;position&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">2147483648</span><span class="p">,</span>
              <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Microsoft.Azure.Commands.Common.Authentication.Abstractions.Core.IAzureContextContainer&quot;</span><span class="p">,</span>
              <span class="s2">&quot;validationSet&quot;</span><span class="p">:</span> <span class="p">[],</span>
              <span class="s2">&quot;valueFromPipeline&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;valueFromPipelineByPropertyName&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;valueFromRemainingArguments&quot;</span><span class="p">:</span> <span class="n">false</span>
            <span class="p">},</span>
            <span class="p">{</span>
              <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
              <span class="s2">&quot;isDynamic&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;isMandatory&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Exclude&quot;</span><span class="p">,</span>
              <span class="s2">&quot;position&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
              <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;System.Management.Automation.SwitchParameter&quot;</span><span class="p">,</span>
              <span class="s2">&quot;validationSet&quot;</span><span class="p">:</span> <span class="p">[],</span>
              <span class="s2">&quot;valueFromPipeline&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;valueFromPipelineByPropertyName&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;valueFromRemainingArguments&quot;</span><span class="p">:</span> <span class="n">false</span>
            <span class="p">},</span>
            <span class="p">{</span>
              <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
              <span class="s2">&quot;isDynamic&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;isMandatory&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
              <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;LowCpuThreshold&quot;</span><span class="p">,</span>
              <span class="s2">&quot;position&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
              <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;System.Int32&quot;</span><span class="p">,</span>
              <span class="s2">&quot;validationSet&quot;</span><span class="p">:</span> <span class="p">[],</span>
              <span class="s2">&quot;valueFromPipeline&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;valueFromPipelineByPropertyName&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;valueFromRemainingArguments&quot;</span><span class="p">:</span> <span class="n">false</span>
            <span class="p">},</span>
            <span class="p">{</span>
              <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
              <span class="s2">&quot;isDynamic&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;isMandatory&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;WhatIf&quot;</span><span class="p">,</span>
              <span class="s2">&quot;position&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">2147483648</span><span class="p">,</span>
              <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;System.Management.Automation.SwitchParameter&quot;</span><span class="p">,</span>
              <span class="s2">&quot;validationSet&quot;</span><span class="p">:</span> <span class="p">[],</span>
              <span class="s2">&quot;valueFromPipeline&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;valueFromPipelineByPropertyName&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;valueFromRemainingArguments&quot;</span><span class="p">:</span> <span class="n">false</span>
            <span class="p">},</span>
            <span class="p">{</span>
              <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
              <span class="s2">&quot;isDynamic&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;isMandatory&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;InputObject&quot;</span><span class="p">,</span>
              <span class="s2">&quot;position&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
              <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Microsoft.Azure.Commands.Advisor.Cmdlets.Models.PsAzureAdvisorConfigurationData&quot;</span><span class="p">,</span>
              <span class="s2">&quot;validationSet&quot;</span><span class="p">:</span> <span class="p">[],</span>
              <span class="s2">&quot;valueFromPipeline&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
              <span class="s2">&quot;valueFromPipelineByPropertyName&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;valueFromRemainingArguments&quot;</span><span class="p">:</span> <span class="n">false</span>
            <span class="p">},</span>
            <span class="p">{</span>
              <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
              <span class="s2">&quot;isDynamic&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;isMandatory&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Confirm&quot;</span><span class="p">,</span>
              <span class="s2">&quot;position&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">2147483648</span><span class="p">,</span>
              <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;System.Management.Automation.SwitchParameter&quot;</span><span class="p">,</span>
              <span class="s2">&quot;validationSet&quot;</span><span class="p">:</span> <span class="p">[],</span>
              <span class="s2">&quot;valueFromPipeline&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;valueFromPipelineByPropertyName&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;valueFromRemainingArguments&quot;</span><span class="p">:</span> <span class="n">false</span>
            <span class="p">}</span>
          <span class="p">]</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;InputObjectRgExcludeParameterSet&quot;</span><span class="p">,</span>
          <span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
              <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
              <span class="s2">&quot;isDynamic&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;isMandatory&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;InputObject&quot;</span><span class="p">,</span>
              <span class="s2">&quot;position&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
              <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Microsoft.Azure.Commands.Advisor.Cmdlets.Models.PsAzureAdvisorConfigurationData&quot;</span><span class="p">,</span>
              <span class="s2">&quot;validationSet&quot;</span><span class="p">:</span> <span class="p">[],</span>
              <span class="s2">&quot;valueFromPipeline&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
              <span class="s2">&quot;valueFromPipelineByPropertyName&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;valueFromRemainingArguments&quot;</span><span class="p">:</span> <span class="n">false</span>
            <span class="p">},</span>
            <span class="p">{</span>
              <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
              <span class="s2">&quot;isDynamic&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;isMandatory&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Exclude&quot;</span><span class="p">,</span>
              <span class="s2">&quot;position&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
              <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;System.Management.Automation.SwitchParameter&quot;</span><span class="p">,</span>
              <span class="s2">&quot;validationSet&quot;</span><span class="p">:</span> <span class="p">[],</span>
              <span class="s2">&quot;valueFromPipeline&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;valueFromPipelineByPropertyName&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;valueFromRemainingArguments&quot;</span><span class="p">:</span> <span class="n">false</span>
            <span class="p">},</span>
            <span class="p">{</span>
              <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
              <span class="s2">&quot;isDynamic&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;isMandatory&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Confirm&quot;</span><span class="p">,</span>
              <span class="s2">&quot;position&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">2147483648</span><span class="p">,</span>
              <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;System.Management.Automation.SwitchParameter&quot;</span><span class="p">,</span>
              <span class="s2">&quot;validationSet&quot;</span><span class="p">:</span> <span class="p">[],</span>
              <span class="s2">&quot;valueFromPipeline&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;valueFromPipelineByPropertyName&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;valueFromRemainingArguments&quot;</span><span class="p">:</span> <span class="n">false</span>
            <span class="p">},</span>
            <span class="p">{</span>
              <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
              <span class="s2">&quot;isDynamic&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;isMandatory&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;ResourceGroupName&quot;</span><span class="p">,</span>
              <span class="s2">&quot;position&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
              <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;System.String&quot;</span><span class="p">,</span>
              <span class="s2">&quot;validationSet&quot;</span><span class="p">:</span> <span class="p">[],</span>
              <span class="s2">&quot;valueFromPipeline&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;valueFromPipelineByPropertyName&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;valueFromRemainingArguments&quot;</span><span class="p">:</span> <span class="n">false</span>
            <span class="p">},</span>
            <span class="p">{</span>
              <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
              <span class="s2">&quot;isDynamic&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;isMandatory&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;WhatIf&quot;</span><span class="p">,</span>
              <span class="s2">&quot;position&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">2147483648</span><span class="p">,</span>
              <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;System.Management.Automation.SwitchParameter&quot;</span><span class="p">,</span>
              <span class="s2">&quot;validationSet&quot;</span><span class="p">:</span> <span class="p">[],</span>
              <span class="s2">&quot;valueFromPipeline&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;valueFromPipelineByPropertyName&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;valueFromRemainingArguments&quot;</span><span class="p">:</span> <span class="n">false</span>
            <span class="p">},</span>
            <span class="p">{</span>
              <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
              <span class="s2">&quot;isDynamic&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;isMandatory&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;DefaultProfile&quot;</span><span class="p">,</span>
              <span class="s2">&quot;position&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">2147483648</span><span class="p">,</span>
              <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Microsoft.Azure.Commands.Common.Authentication.Abstractions.Core.IAzureContextContainer&quot;</span><span class="p">,</span>
              <span class="s2">&quot;validationSet&quot;</span><span class="p">:</span> <span class="p">[],</span>
              <span class="s2">&quot;valueFromPipeline&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;valueFromPipelineByPropertyName&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
              <span class="s2">&quot;valueFromRemainingArguments&quot;</span><span class="p">:</span> <span class="n">false</span>
            <span class="p">}</span>
          <span class="p">]</span>
        <span class="p">}</span>
      <span class="p">],</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">null</span>
    <span class="p">},</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">null</span>
  <span class="p">},</span>
  <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;account_name&quot;</span><span class="p">:</span> <span class="s2">&quot;automation1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;activity_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Set-AzAdvisorConfiguration&quot;</span><span class="p">,</span>
    <span class="s2">&quot;module_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Az.Advisor&quot;</span><span class="p">,</span>
    <span class="s2">&quot;resource_group_name&quot;</span><span class="p">:</span> <span class="s2">&quot;demoassets&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;execution_time_ms&quot;</span><span class="p">:</span> <span class="mi">2203</span><span class="p">,</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package&quot;</span><span class="p">:</span> <span class="s2">&quot;fn-azure-automation-utilities&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package_version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-14 10:52:19&quot;</span><span class="p">,</span>
    <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;raw&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;reason&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="mf">2.0</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Input Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">inputs</span><span class="o">.</span><span class="n">account_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_account_name</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">module_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_module_name</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">resource_group_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_resource_group_name</span>

<span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span> <span class="s2">&quot;azure_automation_activity_name&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
  <span class="n">inputs</span><span class="o">.</span><span class="n">activity_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_activity_name</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Post Process Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">json</span> <span class="kn">import</span> <span class="n">dumps</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">module_activity</span>

<span class="k">if</span> <span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;success&quot;</span><span class="p">):</span>
  <span class="n">incident</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">azure_automation_create_ui_tab</span> <span class="o">=</span> <span class="kc">True</span>
  <span class="n">incident</span><span class="o">.</span><span class="n">addNote</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;Azure Automation: Module Get Activity - Example (PB)</span>
<span class="s2">Inputs -</span>
<span class="s2">  Account Name: </span><span class="si">{</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_account_name</span><span class="si">}</span>
<span class="s2">  Resource Group: </span><span class="si">{</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_resource_group_name</span><span class="si">}</span>
<span class="s2">  Module Name: </span><span class="si">{</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_module_name</span><span class="si">}</span>
<span class="s2">  Activity Name: </span><span class="si">{</span><span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;azure_automation_activity_name&#39;</span><span class="p">,</span><span class="w"> </span><span class="kc">None</span><span class="p">)</span><span class="si">}</span>

<span class="s2">Results -</span>
<span class="s2">  </span><span class="si">{</span><span class="n">dumps</span><span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;content&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{}),</span><span class="w"> </span><span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</p>
</details>
</section>
<hr class="docutils" />
<section id="function-azure-get-node-report">
<h2>Function - Azure Get Node Report<a class="headerlink" href="#function-azure-get-node-report" title="Link to this heading">¶</a></h2>
<p>Retrieve the Dsc node report data by node id and report id or
List Dsc node reports by node id.</p>
<p><img alt="screenshot: fn-azure-get-node-report " src="../_images/fn-azure-get-node-report.png" /></p>
<details><summary>Inputs:</summary>
<p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head text-center"><p>Type</p></th>
<th class="head text-center"><p>Required</p></th>
<th class="head"><p>Example</p></th>
<th class="head"><p>Tooltip</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">account_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Azure Automation Account Name</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">node_id</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>Yes</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Azure Automation Dsc node ID</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">report_id</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Azure Automation Dsc node report ID</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">resource_group_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Existing Azure automation resource group name</p></td>
</tr>
</tbody>
</table>
</div>
</p>
</details>
<details><summary>Outputs:</summary>
<p>
<blockquote>
<div><p><strong>NOTE:</strong> This example might be in JSON format, but <code class="docutils literal notranslate"><span class="pre">results</span></code> is a Python Dictionary on the SOAR platform.</p>
</div></blockquote>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;configurationVersion&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;endTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-09-06T13:30:02.1606975+00:00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;errors&quot;</span><span class="p">:</span> <span class="p">[],</span>
    <span class="s2">&quot;hostName&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s2">&quot;iPV4Addresses&quot;</span><span class="p">:</span> <span class="p">[],</span>
    <span class="s2">&quot;iPV6Addresses&quot;</span><span class="p">:</span> <span class="p">[],</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;/subscriptions/abcdefgh-1234-abcd-1234-a1b2c3d4e5f6/resourceGroups/DemoAssets/providers/Microsoft.Automation/automationAccounts/automation1/nodes/24939717-e819-4059-aa08-82862c65f3c8/reports/3c47f0b6-aeb7-429a-a656-70f2a19ab22a&quot;</span><span class="p">,</span>
    <span class="s2">&quot;lastModifiedTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-09-06T13:30:02.2533333+00:00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;metaConfiguration&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s2">&quot;numberOfResources&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;rawErrors&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s2">&quot;rebootRequested&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s2">&quot;refreshMode&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s2">&quot;reportFormatVersion&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;reportId&quot;</span><span class="p">:</span> <span class="s2">&quot;3c47f0b6-aeb7-429a-a656-70f2a19ab22a&quot;</span><span class="p">,</span>
    <span class="s2">&quot;resources&quot;</span><span class="p">:</span> <span class="p">[],</span>
    <span class="s2">&quot;startTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-09-06T13:30:01.9451859+00:00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;Compliant&quot;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Consistency&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;account_name&quot;</span><span class="p">:</span> <span class="s2">&quot;automation1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;node_id&quot;</span><span class="p">:</span> <span class="s2">&quot;24939717-e819-4059-aa08-82862c65f3c8&quot;</span><span class="p">,</span>
    <span class="s2">&quot;report_id&quot;</span><span class="p">:</span> <span class="s2">&quot;3c47f0b6-aeb7-429a-a656-70f2a19ab22a&quot;</span><span class="p">,</span>
    <span class="s2">&quot;resource_group_name&quot;</span><span class="p">:</span> <span class="s2">&quot;DemoAssets&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;execution_time_ms&quot;</span><span class="p">:</span> <span class="mi">1084</span><span class="p">,</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package&quot;</span><span class="p">:</span> <span class="s2">&quot;fn-azure-automation-utilities&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package_version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-09-06 09:55:00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;raw&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;reason&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="mf">2.0</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Input Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">inputs</span><span class="o">.</span><span class="n">account_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_account_name</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">node_id</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_node_id</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">resource_group_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_resource_group_name</span>
<span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span> <span class="s2">&quot;azure_automation_report_id&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
  <span class="n">inputs</span><span class="o">.</span><span class="n">report_id</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_report_id</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Post Process Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">json</span> <span class="kn">import</span> <span class="n">dumps</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">node_report</span>

<span class="k">if</span> <span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;success&quot;</span><span class="p">):</span>
  <span class="n">incident</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">azure_automation_create_ui_tab</span> <span class="o">=</span> <span class="kc">True</span>
  <span class="n">incident</span><span class="o">.</span><span class="n">addNote</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;Azure Automation: Node Get Report - Example (PB)</span>
<span class="s2">Inputs -</span>
<span class="s2">  Account Name: </span><span class="si">{</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_account_name</span><span class="si">}</span>
<span class="s2">  Resource Group: </span><span class="si">{</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_resource_group_name</span><span class="si">}</span>
<span class="s2">  Node ID: </span><span class="si">{</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_node_id</span><span class="si">}</span>
<span class="s2">  Report ID: </span><span class="si">{</span><span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;azure_automation_report_id&#39;</span><span class="p">,</span><span class="w"> </span><span class="kc">None</span><span class="p">)</span><span class="si">}</span>

<span class="s2">Results -</span>
<span class="s2">  </span><span class="si">{</span><span class="n">dumps</span><span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;content&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{}),</span><span class="w"> </span><span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</p>
</details>
</section>
<hr class="docutils" />
<section id="function-azure-get-runbook">
<h2>Function - Azure Get Runbook<a class="headerlink" href="#function-azure-get-runbook" title="Link to this heading">¶</a></h2>
<p>Retrieve the runbook identified by runbook name or list runbooks on given account.</p>
<p><img alt="screenshot: fn-azure-get-runbook " src="../_images/fn-azure-get-runbook.png" /></p>
<details><summary>Inputs:</summary>
<p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head text-center"><p>Type</p></th>
<th class="head text-center"><p>Required</p></th>
<th class="head"><p>Example</p></th>
<th class="head"><p>Tooltip</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">account_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Azure Automation Account Name</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">resource_group_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Existing Azure automation resource group name</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">runbook_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Runbook name in Azure Automation</p></td>
</tr>
</tbody>
</table>
</div>
</p>
</details>
<details><summary>Outputs:</summary>
<p>
<blockquote>
<div><p><strong>NOTE:</strong> This example might be in JSON format, but <code class="docutils literal notranslate"><span class="pre">results</span></code> is a Python Dictionary on the SOAR platform.</p>
</div></blockquote>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;etag&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">638246066435733333</span><span class="se">\&quot;</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;/subscriptions/abcdefgh-1234-abcd-1234-a1b2c3d4e5f6/resourceGroups/demoassets/providers/Microsoft.Automation/automationAccounts/automation1/runbooks/Hello_world&quot;</span><span class="p">,</span>
    <span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;eastus&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Hello_world&quot;</span><span class="p">,</span>
    <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;creationTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-07-10T17:22:53.7066667+00:00&quot;</span><span class="p">,</span>
      <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;My first python 3 runbook&quot;</span><span class="p">,</span>
      <span class="s2">&quot;draft&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
      <span class="s2">&quot;jobCount&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;lastModifiedBy&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
      <span class="s2">&quot;lastModifiedTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-07-10T17:24:03.5733333+00:00&quot;</span><span class="p">,</span>
      <span class="s2">&quot;logActivityTrace&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;logProgress&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
      <span class="s2">&quot;logVerbose&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
      <span class="s2">&quot;outputTypes&quot;</span><span class="p">:</span> <span class="p">[],</span>
      <span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="p">{},</span>
      <span class="s2">&quot;provisioningState&quot;</span><span class="p">:</span> <span class="s2">&quot;Succeeded&quot;</span><span class="p">,</span>
      <span class="s2">&quot;runbookType&quot;</span><span class="p">:</span> <span class="s2">&quot;Python3&quot;</span><span class="p">,</span>
      <span class="s2">&quot;serviceManagementTags&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
      <span class="s2">&quot;state&quot;</span><span class="p">:</span> <span class="s2">&quot;Published&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;tags&quot;</span><span class="p">:</span> <span class="p">{},</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Microsoft.Automation/AutomationAccounts/Runbooks&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;account_name&quot;</span><span class="p">:</span> <span class="s2">&quot;automation1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;resource_group_name&quot;</span><span class="p">:</span> <span class="s2">&quot;demoassets&quot;</span><span class="p">,</span>
    <span class="s2">&quot;runbook_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Hello_world&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;execution_time_ms&quot;</span><span class="p">:</span> <span class="mi">7989</span><span class="p">,</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package&quot;</span><span class="p">:</span> <span class="s2">&quot;fn-azure-automation-utilities&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package_version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-16 10:20:00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;raw&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;reason&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="mf">2.0</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Input Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">inputs</span><span class="o">.</span><span class="n">account_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_account_name</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">resource_group_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_resource_group</span>
<span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span> <span class="s1">&#39;azure_automation_runbook_name&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
  <span class="n">inputs</span><span class="o">.</span><span class="n">runbook_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_runbook_name</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Post Process Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">runbook_results</span>

<span class="c1"># Add runbooks info to the data table</span>
<span class="k">def</span> <span class="nf">add_to_row</span><span class="p">(</span><span class="n">runbook</span><span class="p">):</span>
  <span class="n">row</span> <span class="o">=</span> <span class="n">incident</span><span class="o">.</span><span class="n">addRow</span><span class="p">(</span><span class="s2">&quot;azure_automation_runbooks&quot;</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;runbook_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">runbook</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;runbook_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">runbook</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;runbookType&quot;</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;runbook_state&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">runbook</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;state&quot;</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;runbook_tags&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">runbook</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tags&quot;</span><span class="p">))</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;account_name_runbooks&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_account_name</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;resource_group_runbooks&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_resource_group</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;runbook_deleted&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;runbook_query_date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">timestamp</span><span class="p">()</span><span class="o">*</span><span class="mi">1000</span><span class="p">)</span>

<span class="k">if</span> <span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;success&quot;</span><span class="p">):</span>
  <span class="n">incident</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">azure_automation_create_ui_tab</span> <span class="o">=</span> <span class="kc">True</span>
  <span class="n">content</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;content&quot;</span><span class="p">,</span> <span class="p">{})</span>
  <span class="k">if</span> <span class="n">content</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
    <span class="c1"># If list of runbooks returned</span>
    <span class="k">for</span> <span class="n">runbook</span> <span class="ow">in</span> <span class="n">content</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="p">[]):</span>
      <span class="n">add_to_row</span><span class="p">(</span><span class="n">runbook</span><span class="p">)</span>
  <span class="k">else</span><span class="p">:</span> <span class="c1"># If single runbook returned</span>
    <span class="n">add_to_row</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</pre></div>
</div>
</p>
</details>
</section>
<hr class="docutils" />
<section id="function-azure-get-schedule">
<h2>Function - Azure Get Schedule<a class="headerlink" href="#function-azure-get-schedule" title="Link to this heading">¶</a></h2>
<p>Retrieve the schedule identified by schedule name or list schedules.</p>
<p><img alt="screenshot: fn-azure-get-schedule " src="../_images/fn-azure-get-schedule.png" /></p>
<details><summary>Inputs:</summary>
<p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head text-center"><p>Type</p></th>
<th class="head text-center"><p>Required</p></th>
<th class="head"><p>Example</p></th>
<th class="head"><p>Tooltip</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">account_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Azure Automation Account Name</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">resource_group_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Existing Azure automation resource group name</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">schedule_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">The</span> <span class="pre">name</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">azure</span> <span class="pre">automation</span> <span class="pre">schedule</span></code></p></td>
<td><p>-</p></td>
</tr>
</tbody>
</table>
</div>
</p>
</details>
<details><summary>Outputs:</summary>
<p>
<blockquote>
<div><p><strong>NOTE:</strong> This example might be in JSON format, but <code class="docutils literal notranslate"><span class="pre">results</span></code> is a Python Dictionary on the SOAR platform.</p>
</div></blockquote>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;/subscriptions/abcdefgh-1234-abcd-1234-a1b2c3d4e5f6/resourceGroups/demoassets/providers/Microsoft.Automation/automationAccounts/automation1/schedules/tester1324&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;tester1324&quot;</span><span class="p">,</span>
    <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;advancedSchedule&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
      <span class="s2">&quot;creationTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-24T15:31:44.2666667+00:00&quot;</span><span class="p">,</span>
      <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;something&quot;</span><span class="p">,</span>
      <span class="s2">&quot;expiryTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-25T08:40:00+00:00&quot;</span><span class="p">,</span>
      <span class="s2">&quot;expiryTimeOffsetMinutes&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
      <span class="s2">&quot;frequency&quot;</span><span class="p">:</span> <span class="s2">&quot;OneTime&quot;</span><span class="p">,</span>
      <span class="s2">&quot;interval&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
      <span class="s2">&quot;isEnabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
      <span class="s2">&quot;lastModifiedTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-24T15:31:44.2666667+00:00&quot;</span><span class="p">,</span>
      <span class="s2">&quot;nextRun&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-25T08:40:00+00:00&quot;</span><span class="p">,</span>
      <span class="s2">&quot;nextRunOffsetMinutes&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
      <span class="s2">&quot;startTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-25T08:40:00+00:00&quot;</span><span class="p">,</span>
      <span class="s2">&quot;startTimeOffsetMinutes&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
      <span class="s2">&quot;timeZone&quot;</span><span class="p">:</span> <span class="s2">&quot;Etc/UTC&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Microsoft.Automation/AutomationAccounts/Schedules&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;account_name&quot;</span><span class="p">:</span> <span class="s2">&quot;automation1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;resource_group_name&quot;</span><span class="p">:</span> <span class="s2">&quot;demoassets&quot;</span><span class="p">,</span>
    <span class="s2">&quot;schedule_name&quot;</span><span class="p">:</span> <span class="s2">&quot;tester1324&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;execution_time_ms&quot;</span><span class="p">:</span> <span class="mi">1586</span><span class="p">,</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package&quot;</span><span class="p">:</span> <span class="s2">&quot;fn-azure-automation-utilities&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package_version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-24 11:33:14&quot;</span><span class="p">,</span>
    <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;raw&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;reason&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="mf">2.0</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Input Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">inputs</span><span class="o">.</span><span class="n">account_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_account_name</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">resource_group_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_resource_group</span>
<span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span> <span class="s2">&quot;azure_automation_schedule_name&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
  <span class="n">inputs</span><span class="o">.</span><span class="n">schedule_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_schedule_name</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Post Process Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">get_schedule</span>

<span class="c1"># Add schedule information to data table</span>
<span class="k">def</span> <span class="nf">row_to_add</span><span class="p">(</span><span class="n">schedule</span><span class="p">):</span>
  <span class="n">row</span> <span class="o">=</span> <span class="n">incident</span><span class="o">.</span><span class="n">addRow</span><span class="p">(</span><span class="s2">&quot;azure_automation_schedules&quot;</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;schedule_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;schedule_description&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;schedule_enabled&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;isEnabled&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;schedule_start_time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;startTime&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;schedule_expiry_time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;expiryTime&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;schedule_frequency&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;frequency&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;schedule_interval&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;interval&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;schedule_time_zone&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;timeZone&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;advanced_schedule&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">schedule</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;advancedSchedule&quot;</span><span class="p">,</span> <span class="p">{}))</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;account_name_schedules&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_account_name</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;resource_group_schedules&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_resource_group</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;schedule_deleted&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;schedule_query_date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">timestamp</span><span class="p">()</span><span class="o">*</span><span class="mi">1000</span><span class="p">)</span>

<span class="k">if</span> <span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;success&quot;</span><span class="p">):</span>
  <span class="n">incident</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">azure_automation_create_ui_tab</span> <span class="o">=</span> <span class="kc">True</span>
  <span class="n">content</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;content&quot;</span><span class="p">,</span> <span class="p">{})</span>
  <span class="k">if</span> <span class="n">content</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
    <span class="c1"># If list of schedules returned</span>
    <span class="k">for</span> <span class="n">schedule</span> <span class="ow">in</span> <span class="n">content</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="p">[]):</span>
      <span class="n">row_to_add</span><span class="p">(</span><span class="n">schedule</span><span class="p">)</span>
  <span class="k">else</span><span class="p">:</span> <span class="c1"># If single schedule returned</span>
    <span class="n">row_to_add</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</pre></div>
</div>
</p>
</details>
</section>
<hr class="docutils" />
<section id="function-azure-list-statistics-by-automation-account">
<h2>Function - Azure List Statistics by Automation Account<a class="headerlink" href="#function-azure-list-statistics-by-automation-account" title="Link to this heading">¶</a></h2>
<p>Retrieve the statistics for the account.</p>
<p><img alt="screenshot: fn-azure-list-statistics-by-automation-account " src="../_images/fn-azure-list-statistics-by-automation-account.png" /></p>
<details><summary>Inputs:</summary>
<p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head text-center"><p>Type</p></th>
<th class="head text-center"><p>Required</p></th>
<th class="head"><p>Example</p></th>
<th class="head"><p>Tooltip</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">account_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Azure Automation Account Name</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">resource_group_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Existing Azure automation resource group name</p></td>
</tr>
</tbody>
</table>
</div>
</p>
</details>
<details><summary>Outputs:</summary>
<p>
<blockquote>
<div><p><strong>NOTE:</strong> This example might be in JSON format, but <code class="docutils literal notranslate"><span class="pre">results</span></code> is a Python Dictionary on the SOAR platform.</p>
</div></blockquote>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">&quot;counterProperty&quot;</span><span class="p">:</span> <span class="s2">&quot;New&quot;</span><span class="p">,</span>
        <span class="s2">&quot;counterValue&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;endTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-09-06T13:58:01.5985342+00:00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;/subscriptions/abcdefgh-1234-abcd-1234-a1b2c3d4e5f6/resourceGroups/DemoAssets/providers/Microsoft.Automation/automationAccounts/automation1/statistics/New&quot;</span><span class="p">,</span>
        <span class="s2">&quot;startTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-30T13:58:01.5985342+00:00&quot;</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">&quot;counterProperty&quot;</span><span class="p">:</span> <span class="s2">&quot;Activating&quot;</span><span class="p">,</span>
        <span class="s2">&quot;counterValue&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;endTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-09-06T13:58:01.5985342+00:00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;/subscriptions/abcdefgh-1234-abcd-1234-a1b2c3d4e5f6/resourceGroups/DemoAssets/providers/Microsoft.Automation/automationAccounts/automation1/statistics/Activating&quot;</span><span class="p">,</span>
        <span class="s2">&quot;startTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-30T13:58:01.5985342+00:00&quot;</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">&quot;counterProperty&quot;</span><span class="p">:</span> <span class="s2">&quot;Running&quot;</span><span class="p">,</span>
        <span class="s2">&quot;counterValue&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;endTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-09-06T13:58:01.5985342+00:00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;/subscriptions/abcdefgh-1234-abcd-1234-a1b2c3d4e5f6/resourceGroups/DemoAssets/providers/Microsoft.Automation/automationAccounts/automation1/statistics/Running&quot;</span><span class="p">,</span>
        <span class="s2">&quot;startTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-30T13:58:01.5985342+00:00&quot;</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">&quot;counterProperty&quot;</span><span class="p">:</span> <span class="s2">&quot;Completed&quot;</span><span class="p">,</span>
        <span class="s2">&quot;counterValue&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;endTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-09-06T13:58:01.5985342+00:00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;/subscriptions/abcdefgh-1234-abcd-1234-a1b2c3d4e5f6/resourceGroups/DemoAssets/providers/Microsoft.Automation/automationAccounts/automation1/statistics/Completed&quot;</span><span class="p">,</span>
        <span class="s2">&quot;startTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-30T13:58:01.5985342+00:00&quot;</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">&quot;counterProperty&quot;</span><span class="p">:</span> <span class="s2">&quot;Failed&quot;</span><span class="p">,</span>
        <span class="s2">&quot;counterValue&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;endTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-09-06T13:58:01.5985342+00:00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;/subscriptions/abcdefgh-1234-abcd-1234-a1b2c3d4e5f6/resourceGroups/DemoAssets/providers/Microsoft.Automation/automationAccounts/automation1/statistics/Failed&quot;</span><span class="p">,</span>
        <span class="s2">&quot;startTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-30T13:58:01.5985342+00:00&quot;</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;account_name&quot;</span><span class="p">:</span> <span class="s2">&quot;automation1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;resource_group_name&quot;</span><span class="p">:</span> <span class="s2">&quot;DemoAssets&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;execution_time_ms&quot;</span><span class="p">:</span> <span class="mi">773</span><span class="p">,</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package&quot;</span><span class="p">:</span> <span class="s2">&quot;fn-azure-automation-utilities&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package_version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-09-06 09:58:01&quot;</span><span class="p">,</span>
    <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;raw&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;reason&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="mf">2.0</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Input Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">inputs</span><span class="o">.</span><span class="n">account_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_account_name</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">resource_group_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_resource_group_name</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Post Process Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">statistics</span>

<span class="k">if</span> <span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;success&quot;</span><span class="p">):</span>
  <span class="n">incident</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">azure_automation_create_ui_tab</span> <span class="o">=</span> <span class="kc">True</span>
  <span class="k">for</span> <span class="n">stat</span> <span class="ow">in</span> <span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;content&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="p">[]):</span>
    <span class="n">row</span> <span class="o">=</span> <span class="n">incident</span><span class="o">.</span><span class="n">addRow</span><span class="p">(</span><span class="s2">&quot;azure_automation_statistics&quot;</span><span class="p">)</span>
    <span class="n">row</span><span class="p">[</span><span class="s2">&quot;statistic_counter_property&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">stat</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;counterProperty&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">row</span><span class="p">[</span><span class="s2">&quot;statistic_counter_value&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">stat</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;counterValue&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">row</span><span class="p">[</span><span class="s2">&quot;account_name_statistics&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_account_name</span>
    <span class="n">row</span><span class="p">[</span><span class="s2">&quot;resource_group_statistics&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_resource_group_name</span>
    <span class="n">row</span><span class="p">[</span><span class="s2">&quot;statistic_query_date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">timestamp</span><span class="p">()</span><span class="o">*</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</p>
</details>
</section>
<hr class="docutils" />
<section id="function-azure-regenerate-agent-registration-key">
<h2>Function - Azure Regenerate Agent Registration Key<a class="headerlink" href="#function-azure-regenerate-agent-registration-key" title="Link to this heading">¶</a></h2>
<p>Regenerate a primary or secondary agent registration key</p>
<p><img alt="screenshot: fn-azure-regenerate-agent-registration-key " src="../_images/fn-azure-regenerate-agent-registration-key.png" /></p>
<details><summary>Inputs:</summary>
<p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head text-center"><p>Type</p></th>
<th class="head text-center"><p>Required</p></th>
<th class="head"><p>Example</p></th>
<th class="head"><p>Tooltip</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">account_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Azure Automation Account Name</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">input_parameters</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>string with dictionary format</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">resource_group_name</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Existing Azure automation resource group name</p></td>
</tr>
</tbody>
</table>
</div>
</p>
</details>
<details><summary>Outputs:</summary>
<p>
<blockquote>
<div><p><strong>NOTE:</strong> This example might be in JSON format, but <code class="docutils literal notranslate"><span class="pre">results</span></code> is a Python Dictionary on the SOAR platform.</p>
</div></blockquote>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;dscMetaConfiguration&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s2">&quot;endpoint&quot;</span><span class="p">:</span> <span class="s2">&quot;https://abcdefgh-1234-abcd-1234-a1b2c3d4e5f6.agentsvc.eus.azure-automation.net/accounts/abcdefgh-1234-abcd-1234-a1b2c3d4e5f6&quot;</span><span class="p">,</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s2">&quot;keys&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;primary&quot;</span><span class="p">:</span> <span class="s2">&quot;g+Z4E/12345678c/YbuFnwTe4yI12EYPRTdmFHVj+SI12345b0R8ghU8YNWe7BM3hjYDCzkqWhZGd0r5V4YHag==&quot;</span><span class="p">,</span>
      <span class="s2">&quot;secondary&quot;</span><span class="p">:</span> <span class="s2">&quot;bC6hr123456789qPD2eeowEt9rDRqfJMnJmUOhP123450/x53Vezc3rqDhherrLzb123456MWhub+86IKwxssg==&quot;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;account_name&quot;</span><span class="p">:</span> <span class="s2">&quot;automation1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;input_parameters&quot;</span><span class="p">:</span> <span class="s2">&quot;{</span><span class="se">\u0027</span><span class="s2">keyName</span><span class="se">\u0027</span><span class="s2">: </span><span class="se">\u0027</span><span class="s2">primary</span><span class="se">\u0027</span><span class="s2">}&quot;</span><span class="p">,</span>
    <span class="s2">&quot;resource_group_name&quot;</span><span class="p">:</span> <span class="s2">&quot;demoassets&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;execution_time_ms&quot;</span><span class="p">:</span> <span class="mi">1104</span><span class="p">,</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package&quot;</span><span class="p">:</span> <span class="s2">&quot;fn-azure-automation-utilities&quot;</span><span class="p">,</span>
    <span class="s2">&quot;package_version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-08-21 09:53:13&quot;</span><span class="p">,</span>
    <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;raw&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;reason&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="mf">2.0</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Input Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">inputs</span><span class="o">.</span><span class="n">account_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_account_name</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">resource_group_name</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_resource_group</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">input_parameters</span> <span class="o">=</span> <span class="nb">str</span><span class="p">({</span><span class="s2">&quot;keyName&quot;</span><span class="p">:</span> <span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_agent_key_to_regenerate</span><span class="p">})</span>
</pre></div>
</div>
</p>
</details>
<details><summary>Example Function Post Process Script:</summary>
<p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">json</span> <span class="kn">import</span> <span class="n">dumps</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">playbook</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">registration_key</span>

<span class="k">if</span> <span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;success&quot;</span><span class="p">):</span>
  <span class="n">incident</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">azure_automation_create_ui_tab</span> <span class="o">=</span> <span class="kc">True</span>
  <span class="n">incident</span><span class="o">.</span><span class="n">addNote</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;Azure Automation: Agent Registration Regenerate Key - Example (PB)</span>
<span class="s2">Inputs -</span>
<span class="s2">  Account Name: </span><span class="si">{</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_account_name</span><span class="si">}</span>
<span class="s2">  Resource Group: </span><span class="si">{</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_resource_group</span><span class="si">}</span>
<span class="s2">  Key to Regenerate: </span><span class="si">{</span><span class="n">playbook</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">azure_automation_agent_key_to_regenerate</span><span class="si">}</span>

<span class="s2">Results -</span>
<span class="s2">  </span><span class="si">{</span><span class="n">dumps</span><span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;content&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{}),</span><span class="w"> </span><span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</p>
</details>
</section>
<hr class="docutils" />
<section id="playbooks">
<h2>Playbooks<a class="headerlink" href="#playbooks" title="Link to this heading">¶</a></h2>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Playbook Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Activation Type</p></th>
<th class="head"><p>Object</p></th>
<th class="head"><p>Status</p></th>
<th class="head"><p>Condition</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Azure Automation: Account Delete - Example (PB)</p></td>
<td><p>Delete an Azure automation account</p></td>
<td><p>Manual</p></td>
<td><p>azure_automation_accounts</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">azure_automation_accounts.account_deleted_accounts</span> <span class="pre">not_equals</span> <span class="pre">True</span> <span class="pre">AND</span> <span class="pre">azure_automation_accounts.account_name_accounts</span> <span class="pre">has_a_value</span> <span class="pre">AND</span> <span class="pre">azure_automation_accounts.resource_group_accounts</span> <span class="pre">has_a_value</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Azure Automation: Account Update - Example (PB)</p></td>
<td><p>Update an automation account.</p></td>
<td><p>Manual</p></td>
<td><p>azure_automation_accounts</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">azure_automation_accounts.account_deleted_accounts</span> <span class="pre">not_equals</span> <span class="pre">True</span> <span class="pre">AND</span> <span class="pre">azure_automation_accounts.account_name_accounts</span> <span class="pre">has_a_value</span> <span class="pre">AND</span> <span class="pre">azure_automation_accounts.resource_group_accounts</span> <span class="pre">has_a_value</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Azure Automation: Credential Delete - Example (PB)</p></td>
<td><p>Delete a credential</p></td>
<td><p>Manual</p></td>
<td><p>azure_automation_credentials</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">azure_automation_credentials.account_name_credentials</span> <span class="pre">has_a_value</span> <span class="pre">AND</span> <span class="pre">azure_automation_credentials.credential_deleted</span> <span class="pre">not_equals</span> <span class="pre">True</span> <span class="pre">AND</span> <span class="pre">azure_automation_credentials.credential_name</span> <span class="pre">has_a_value</span> <span class="pre">AND</span> <span class="pre">azure_automation_credentials.resource_group_credentials</span> <span class="pre">has_a_value</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Azure Automation: Credential Update - Example (PB)</p></td>
<td><p>Update a credential.</p></td>
<td><p>Manual</p></td>
<td><p>azure_automation_credentials</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">azure_automation_credentials.account_name_credentials</span> <span class="pre">has_a_value</span> <span class="pre">AND</span> <span class="pre">azure_automation_credentials.credential_deleted</span> <span class="pre">not_equals</span> <span class="pre">True</span> <span class="pre">AND</span> <span class="pre">azure_automation_credentials.credential_name</span> <span class="pre">has_a_value</span> <span class="pre">AND</span> <span class="pre">azure_automation_credentials.resource_group_credentials</span> <span class="pre">has_a_value</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Azure Automation: Runbook Delete - Example (PB)</p></td>
<td><p>Delete an Azure runbook</p></td>
<td><p>Manual</p></td>
<td><p>azure_automation_runbooks</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">azure_automation_runbooks.account_name_runbooks</span> <span class="pre">has_a_value</span> <span class="pre">AND</span> <span class="pre">azure_automation_runbooks.resource_group_runbooks</span> <span class="pre">has_a_value</span> <span class="pre">AND</span> <span class="pre">azure_automation_runbooks.runbook_deleted</span> <span class="pre">not_equals</span> <span class="pre">True</span> <span class="pre">AND</span> <span class="pre">azure_automation_runbooks.runbook_name</span> <span class="pre">has_a_value</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Azure Automation: Runbook Execute - Example (PB)</p></td>
<td><p>Execute a runbook on Azure</p></td>
<td><p>Manual</p></td>
<td><p>azure_automation_runbooks</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">azure_automation_runbooks.account_name_runbooks</span> <span class="pre">has_a_value</span> <span class="pre">AND</span> <span class="pre">azure_automation_runbooks.resource_group_runbooks</span> <span class="pre">has_a_value</span> <span class="pre">AND</span> <span class="pre">azure_automation_runbooks.runbook_name</span> <span class="pre">has_a_value</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Azure Automation: Schedule Delete - Example (PB)</p></td>
<td><p>Delete the schedule identified by schedule name.</p></td>
<td><p>Manual</p></td>
<td><p>azure_automation_schedules</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">azure_automation_schedules.account_name_schedules</span> <span class="pre">has_a_value</span> <span class="pre">AND</span> <span class="pre">azure_automation_schedules.resource_group_schedules</span> <span class="pre">has_a_value</span> <span class="pre">AND</span> <span class="pre">azure_automation_schedules.schedule_deleted</span> <span class="pre">not_equals</span> <span class="pre">True</span> <span class="pre">AND</span> <span class="pre">azure_automation_schedules.schedule_name</span> <span class="pre">has_a_value</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Azure Automation: Schedule Update - Example (PB)</p></td>
<td><p>Update the schedule identified by schedule name.</p></td>
<td><p>Manual</p></td>
<td><p>azure_automation_schedules</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">azure_automation_schedules.account_name_schedules</span> <span class="pre">has_a_value</span> <span class="pre">AND</span> <span class="pre">azure_automation_schedules.resource_group_schedules</span> <span class="pre">has_a_value</span> <span class="pre">AND</span> <span class="pre">azure_automation_schedules.schedule_deleted</span> <span class="pre">not_equals</span> <span class="pre">True</span> <span class="pre">AND</span> <span class="pre">azure_automation_schedules.schedule_name</span> <span class="pre">has_a_value</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Azure Automation: Account Create - Example (PB)</p></td>
<td><p>Create an Azure automation account</p></td>
<td><p>Manual</p></td>
<td><p>incident</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Azure Automation: Credential Create - Example (PB)</p></td>
<td><p>Create a credential</p></td>
<td><p>Manual</p></td>
<td><p>incident</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Azure Automation: Schedule Create - Example (PB)</p></td>
<td><p>Create a schedule.</p></td>
<td><p>Manual</p></td>
<td><p>incident</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Azure Automation: Account Get - Example (PB)</p></td>
<td><p>Get the details of the given Azure automation account.</p></td>
<td><p>Manual</p></td>
<td><p>incident</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Azure Automation: Agent Registration Get Information - Example (PB)</p></td>
<td><p>Retrieve the automation agent registration information.</p></td>
<td><p>Manual</p></td>
<td><p>incident</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Azure Automation: Credential Get - Example (PB)</p></td>
<td><p>Get credential from given credential name or list all credentials on given resource group.</p></td>
<td><p>Manual</p></td>
<td><p>incident</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Azure Automation: Job Get - Example (PB)</p></td>
<td><p>Retrieve the job identified by job name.</p></td>
<td><p>Manual</p></td>
<td><p>incident</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Azure Automation: Job Get Output - Example (PB)</p></td>
<td><p>Retrieve the job output identified by job name.</p></td>
<td><p>Manual</p></td>
<td><p>incident</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Azure Automation: Module Get Activity - Example (PB)</p></td>
<td><p>Retrieve the activity in the module identified by module name and activity name.</p></td>
<td><p>Manual</p></td>
<td><p>incident</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Azure Automation: DSC Node Get Report - Example (PB)</p></td>
<td><p>Retrieve the Dsc node report data by node id and report id or List Dsc node reports by node id.</p></td>
<td><p>Manual</p></td>
<td><p>incident</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Azure Automation: Runbook Get - Example (PB)</p></td>
<td><p>Retrieve the runbook identified by runbook name.</p></td>
<td><p>Manual</p></td>
<td><p>incident</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Azure Automation: Schedule Get - Example (PB)</p></td>
<td><p>Retrieve the schedule identified by schedule name.</p></td>
<td><p>Manual</p></td>
<td><p>incident</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Azure Automation: Statistics List by Automation Account - Example (PB)</p></td>
<td><p>Retrieve the statistics for the account.</p></td>
<td><p>Manual</p></td>
<td><p>incident</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Azure Automation: Agent Registration Regenerate Key - Example (PB)</p></td>
<td><p>Regenerate a primary or secondary agent registration key</p></td>
<td><p>Manual</p></td>
<td><p>incident</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<hr class="docutils" />
<section id="data-table-azure-automation-accounts">
<h2>Data Table - Azure Automation Accounts<a class="headerlink" href="#data-table-azure-automation-accounts" title="Link to this heading">¶</a></h2>
<p><img alt="screenshot: dt-azure-automation-accounts" src="../_images/dt-azure-automation-accounts.png" /></p>
<section id="api-name">
<h3>API Name:<a class="headerlink" href="#api-name" title="Link to this heading">¶</a></h3>
<p>azure_automation_accounts</p>
</section>
<section id="columns">
<h3>Columns:<a class="headerlink" href="#columns" title="Link to this heading">¶</a></h3>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Column Name</p></th>
<th class="head"><p>API Access Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Tooltip</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Deleted</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">account_deleted_accounts</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">boolean</span></code></p></td>
<td><p>If the account has been deleted or not</p></td>
</tr>
<tr class="row-odd"><td><p>disableLocalAuth</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">disablelocalauth_accounts</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">boolean</span></code></p></td>
<td><p>Either disable or enable local Auth. A value of True would mean local auth is disabled.</p></td>
</tr>
<tr class="row-even"><td><p>Location</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">location_accounts</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td><p>The region the account is in</p></td>
</tr>
<tr class="row-odd"><td><p>Name</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">account_name_accounts</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td><p>Azure Automation Account Name</p></td>
</tr>
<tr class="row-even"><td><p>publicNetworkAccess</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">publicnetworkaccess_accounts</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">boolean</span></code></p></td>
<td><p>Either allow or deny access to public network from account</p></td>
</tr>
<tr class="row-odd"><td><p>Query Date</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">account_query_date</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">datetimepicker</span></code></p></td>
<td><p>Time the query to get this information was run</p></td>
</tr>
<tr class="row-even"><td><p>Resource Group</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">resource_group_accounts</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td><p>Azure Automation resource group name</p></td>
</tr>
<tr class="row-odd"><td><p>Tags</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">tags_accounts</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td><p>dictionary of Azure automation account tags</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<hr class="docutils" />
<section id="data-table-azure-automation-credentials">
<h2>Data Table - Azure Automation Credentials<a class="headerlink" href="#data-table-azure-automation-credentials" title="Link to this heading">¶</a></h2>
<p><img alt="screenshot: dt-azure-automation-credentials" src="../_images/dt-azure-automation-credentials.png" /></p>
<section id="id1">
<h3>API Name:<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h3>
<p>azure_automation_credentials</p>
</section>
<section id="id2">
<h3>Columns:<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Column Name</p></th>
<th class="head"><p>API Access Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Tooltip</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Account Name</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">account_name_credentials</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td><p>Name fo the account the credential is on</p></td>
</tr>
<tr class="row-odd"><td><p>Deleted</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">credential_deleted</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">boolean</span></code></p></td>
<td><p>If the credential is deleted</p></td>
</tr>
<tr class="row-even"><td><p>Description</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">credential_description</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td><p>Description for the credential</p></td>
</tr>
<tr class="row-odd"><td><p>Name</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">credential_name</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td><p>Name of the credential</p></td>
</tr>
<tr class="row-even"><td><p>Query Date</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">credential_query_date</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">datetimepicker</span></code></p></td>
<td><p>Time the query was run to get this information</p></td>
</tr>
<tr class="row-odd"><td><p>Resource Group</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">resource_group_credentials</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td><p>Resource group the credential is on</p></td>
</tr>
<tr class="row-even"><td><p>Username</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">credential_username</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td><p>Username for the credential</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<hr class="docutils" />
<section id="data-table-azure-automation-runbooks">
<h2>Data Table - Azure Automation Runbooks<a class="headerlink" href="#data-table-azure-automation-runbooks" title="Link to this heading">¶</a></h2>
<p><img alt="screenshot: dt-azure-automation-runbooks" src="../_images/dt-azure-automation-runbooks.png" /></p>
<section id="id3">
<h3>API Name:<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h3>
<p>azure_automation_runbooks</p>
</section>
<section id="id4">
<h3>Columns:<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h3>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Column Name</p></th>
<th class="head"><p>API Access Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Tooltip</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Account Name</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">account_name_runbooks</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td><p>Name of the account the runbook is on</p></td>
</tr>
<tr class="row-odd"><td><p>Deleted</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">runbook_deleted</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">boolean</span></code></p></td>
<td><p>If the runbook as been deleted or not</p></td>
</tr>
<tr class="row-even"><td><p>Name</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">runbook_name</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td><p>Name of the runbook</p></td>
</tr>
<tr class="row-odd"><td><p>Query Date</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">runbook_query_date</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">datetimepicker</span></code></p></td>
<td><p>Time the query to get this information was run</p></td>
</tr>
<tr class="row-even"><td><p>Resource Group</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">resource_group_runbooks</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td><p>The resource group the account is on</p></td>
</tr>
<tr class="row-odd"><td><p>State</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">runbook_state</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td><p>State of the runbook</p></td>
</tr>
<tr class="row-even"><td><p>Tags</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">runbook_tags</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td><p>Tags given to the runbook</p></td>
</tr>
<tr class="row-odd"><td><p>Type</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">runbook_type</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td><p>Type of runbook</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<hr class="docutils" />
<section id="data-table-azure-automation-schedules">
<h2>Data Table - Azure Automation Schedules<a class="headerlink" href="#data-table-azure-automation-schedules" title="Link to this heading">¶</a></h2>
<p><img alt="screenshot: dt-azure-automation-schedules" src="../_images/dt-azure-automation-schedules.png" /></p>
<section id="id5">
<h3>API Name:<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h3>
<p>azure_automation_schedules</p>
</section>
<section id="id6">
<h3>Columns:<a class="headerlink" href="#id6" title="Link to this heading">¶</a></h3>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Column Name</p></th>
<th class="head"><p>API Access Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Tooltip</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Account Name</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">account_name_schedules</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td><p>Azure automation account name</p></td>
</tr>
<tr class="row-odd"><td><p>Advanced Schedule</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">advanced_schedule</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td><p>The advanced schedule properties</p></td>
</tr>
<tr class="row-even"><td><p>Deleted</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">schedule_deleted</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">boolean</span></code></p></td>
<td><p>If the schedule is deleted or not</p></td>
</tr>
<tr class="row-odd"><td><p>Description</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">schedule_description</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td><p>Description of the schedule</p></td>
</tr>
<tr class="row-even"><td><p>Enabled</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">schedule_enabled</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">boolean</span></code></p></td>
<td><p>Is the schedule enabled</p></td>
</tr>
<tr class="row-odd"><td><p>Expiry Time</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">schedule_expiry_time</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td><p>The time the schedule expires</p></td>
</tr>
<tr class="row-even"><td><p>Frequency</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">schedule_frequency</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td><p>The frequency of the schedule</p></td>
</tr>
<tr class="row-odd"><td><p>Interval</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">schedule_interval</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td><p>The execute intervals of the schedule</p></td>
</tr>
<tr class="row-even"><td><p>Name</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">schedule_name</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td><p>Name of the schedule</p></td>
</tr>
<tr class="row-odd"><td><p>Query Date</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">schedule_query_date</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">datetimepicker</span></code></p></td>
<td><p>Time the query to get this information was run</p></td>
</tr>
<tr class="row-even"><td><p>Resource Group</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">resource_group_schedules</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td><p>Azure Automation resource group</p></td>
</tr>
<tr class="row-odd"><td><p>Start Time</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">schedule_start_time</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td><p>The time the schedule starts</p></td>
</tr>
<tr class="row-even"><td><p>Time Zone</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">schedule_time_zone</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td><p>The time zone the schedule is in</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<hr class="docutils" />
<section id="data-table-azure-automation-statistics">
<h2>Data Table - Azure Automation Statistics<a class="headerlink" href="#data-table-azure-automation-statistics" title="Link to this heading">¶</a></h2>
<p><img alt="screenshot: dt-azure-automation-statistics" src="../_images/dt-azure-automation-statistics.png" /></p>
<section id="id7">
<h3>API Name:<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h3>
<p>azure_automation_statistics</p>
</section>
<section id="id8">
<h3>Columns:<a class="headerlink" href="#id8" title="Link to this heading">¶</a></h3>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Column Name</p></th>
<th class="head"><p>API Access Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Tooltip</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Account Name</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">account_name_statistics</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td><p>Azure Automation Account Name</p></td>
</tr>
<tr class="row-odd"><td><p>Counter Property</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">statistic_counter_property</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td><p>Property of the counter statistic</p></td>
</tr>
<tr class="row-even"><td><p>Counter Value</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">statistic_counter_value</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">number</span></code></p></td>
<td><p>The value of the counter statistic</p></td>
</tr>
<tr class="row-odd"><td><p>Query Date</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">statistic_query_date</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">datetimepicker</span></code></p></td>
<td><p>Time the query to get this information was run</p></td>
</tr>
<tr class="row-even"><td><p>Resource Group</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">resource_group_statistics</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td><p>Azure Automation resource group</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<hr class="docutils" />
<section id="custom-fields">
<h2>Custom Fields<a class="headerlink" href="#custom-fields" title="Link to this heading">¶</a></h2>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Label</p></th>
<th class="head"><p>API Access Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Prefix</p></th>
<th class="head"><p>Placeholder</p></th>
<th class="head"><p>Tooltip</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Create UI Tab</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">azure_automation_create_ui_tab</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">boolean</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">properties</span></code></p></td>
<td><p>-</p></td>
<td><p>If true the Azure Automation UI Tab will be created</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<hr class="docutils" />
<section id="troubleshooting-support">
<h2>Troubleshooting &amp; Support<a class="headerlink" href="#troubleshooting-support" title="Link to this heading">¶</a></h2>
<p>Refer to the documentation listed in the Requirements section for troubleshooting information.</p>
<section id="for-support">
<h3>For Support<a class="headerlink" href="#for-support" title="Link to this heading">¶</a></h3>
<p>This is an IBM supported app. Please search <a class="reference external" href="https://ibm.com/mysupport">ibm.com/mysupport</a> for assistance.</p>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../fn_bigfix/README.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">BigFix</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../fn_axonius/README.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Axonius</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Azure Automation Utilities</a><ul>
<li><a class="reference internal" href="#table-of-contents">Table of Contents</a></li>
<li><a class="reference internal" href="#release-notes">Release Notes</a></li>
<li><a class="reference internal" href="#overview">Overview</a><ul>
<li><a class="reference internal" href="#key-features">Key Features</a></li>
</ul>
</li>
<li><a class="reference internal" href="#requirements">Requirements</a><ul>
<li><a class="reference internal" href="#soar-platform">SOAR platform</a></li>
<li><a class="reference internal" href="#cloud-pak-for-security">Cloud Pak for Security</a></li>
<li><a class="reference internal" href="#proxy-server">Proxy Server</a></li>
<li><a class="reference internal" href="#python-environment">Python Environment</a></li>
</ul>
</li>
<li><a class="reference internal" href="#installation">Installation</a><ul>
<li><a class="reference internal" href="#install">Install</a></li>
<li><a class="reference internal" href="#app-configuration">App Configuration</a></li>
<li><a class="reference internal" href="#custom-layouts">Custom Layouts</a></li>
</ul>
</li>
<li><a class="reference internal" href="#function-azure-create-account">Function - Azure Create Account</a></li>
<li><a class="reference internal" href="#function-azure-create-credential">Function - Azure Create Credential</a></li>
<li><a class="reference internal" href="#function-azure-create-schedule">Function - Azure Create Schedule</a></li>
<li><a class="reference internal" href="#function-azure-delete-account">Function - Azure Delete Account</a></li>
<li><a class="reference internal" href="#function-azure-delete-credential">Function - Azure Delete Credential</a></li>
<li><a class="reference internal" href="#function-azure-delete-runbook">Function - Azure Delete Runbook</a></li>
<li><a class="reference internal" href="#function-azure-delete-schedule">Function - Azure Delete Schedule</a></li>
<li><a class="reference internal" href="#function-azure-execute-runbook">Function - Azure Execute Runbook</a></li>
<li><a class="reference internal" href="#function-azure-get-account">Function - Azure Get Account</a></li>
<li><a class="reference internal" href="#function-azure-get-agent-registration-information">Function - Azure Get Agent Registration Information</a></li>
<li><a class="reference internal" href="#function-azure-get-credential">Function - Azure Get Credential</a></li>
<li><a class="reference internal" href="#function-azure-get-job">Function - Azure Get Job</a></li>
<li><a class="reference internal" href="#function-azure-get-module-activity">Function - Azure Get Module Activity</a></li>
<li><a class="reference internal" href="#function-azure-get-node-report">Function - Azure Get Node Report</a></li>
<li><a class="reference internal" href="#function-azure-get-runbook">Function - Azure Get Runbook</a></li>
<li><a class="reference internal" href="#function-azure-get-schedule">Function - Azure Get Schedule</a></li>
<li><a class="reference internal" href="#function-azure-list-statistics-by-automation-account">Function - Azure List Statistics by Automation Account</a></li>
<li><a class="reference internal" href="#function-azure-regenerate-agent-registration-key">Function - Azure Regenerate Agent Registration Key</a></li>
<li><a class="reference internal" href="#playbooks">Playbooks</a></li>
<li><a class="reference internal" href="#data-table-azure-automation-accounts">Data Table - Azure Automation Accounts</a><ul>
<li><a class="reference internal" href="#api-name">API Name:</a></li>
<li><a class="reference internal" href="#columns">Columns:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#data-table-azure-automation-credentials">Data Table - Azure Automation Credentials</a><ul>
<li><a class="reference internal" href="#id1">API Name:</a></li>
<li><a class="reference internal" href="#id2">Columns:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#data-table-azure-automation-runbooks">Data Table - Azure Automation Runbooks</a><ul>
<li><a class="reference internal" href="#id3">API Name:</a></li>
<li><a class="reference internal" href="#id4">Columns:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#data-table-azure-automation-schedules">Data Table - Azure Automation Schedules</a><ul>
<li><a class="reference internal" href="#id5">API Name:</a></li>
<li><a class="reference internal" href="#id6">Columns:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#data-table-azure-automation-statistics">Data Table - Azure Automation Statistics</a><ul>
<li><a class="reference internal" href="#id7">API Name:</a></li>
<li><a class="reference internal" href="#id8">Columns:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#custom-fields">Custom Fields</a></li>
<li><a class="reference internal" href="#troubleshooting-support">Troubleshooting &amp; Support</a><ul>
<li><a class="reference internal" href="#for-support">For Support</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=4e2eecee"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script src="../_static/js/custom.js?v=a365c389"></script>
    </body>
</html>