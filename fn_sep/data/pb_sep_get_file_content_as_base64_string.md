<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-sdk codegen
    Generated with resilient-sdk v51.0.2.2.1096
-->

# Playbook - SEP: Get File Content as Base64 string - Example (PB)

### API Name
`sep_get_file_content_as_base64_string`

### Status
`enabled`

### Activation Type
`Manual`

### Activation Conditions
`sep_eoc_scan_results.file_id has_a_value AND sep_eoc_scan_results.file_upload_status contains Completed AND sep_eoc_scan_results.scan_command_state contains Completed AND sep_eoc_scan_results.scan_commandid has_a_value`

### Object Type
`sep_eoc_scan_results`

### Description
Get contents of a file uploaded to SEPM server as a Base64 string.


---
## Function - SEP - Get File Content as Base64

### API Name
`fn_sep_get_file_content_as_base64`

### Output Name
`get_file_content_as_base65_results`

### Message Destination
`fn_sep`

### Function-Input Script
```python
inputs.sep_file_id = row.file_id
```

---

## Local script - get file content as base64 output

### Description


### Script Type
`Local script`

### Object Type
`sep_eoc_scan_results`

### Script Content
```python
## Symantec Endpoint Protection - fn_sep_get_file_content_as_base64 ##
# Globals
DATA_TBL_FIELDS = []
FN_NAME = "fn_sep_get_file_content_as_base64"
WF_NAME = "Get File Content as Base64 string"
# List of fields in datatable fn_amp_get_computers script
DATA_TBL_FIELDS = []
results = playbook.functions.results.get_file_content_as_base65_results
CONTENT = results.get("content")
QUERY_EXECUTION_DATE = results.get("metrics", {}).get("timestamp")

# Processing
note_text = ''
if CONTENT:
    note_text = "Symantec SEP Integration:\nPlaybook <b>{0}</b>:\nReturned Base64 string of size <b>{1}</b> returned " \
                "for SOAR function <b>{2}</b>".format(WF_NAME, len(CONTENT), FN_NAME)
else:
    note_text = "Symantec SEP Integration:\nPlaybook <b>{0}</b>:\nThere was <b>no</b> result returned for " \
                "SOAR function <b>{1}</b>".format(WF_NAME, FN_NAME)

incident.addNote(helper.createRichText(note_text))
```

---

