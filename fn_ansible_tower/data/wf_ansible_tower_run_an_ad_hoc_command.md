<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-circuits codegen
-->

# Ansible Tower Run an Ad Hoc Command

## Function - Ansible Tower Run an Ad Hoc Command

### API Name
`ansible_tower_run_an_ad_hoc_command`

### Output Name
`None`

### Message Destination
`fn_ansible_tower`

### Pre-Processing Script
```python
inputs.tower_module = rule.properties.ansible_tower_module
inputs.tower_arguments = rule.properties.ansible_tower_module_arguments
inputs.tower_hosts = rule.properties.ansible_tower_hosts

inventory = rule.properties.ansible_tower_inventory
if inventory.find('-') != -1:
  inv_split = inventory.split("-")
else:
  inv_split = inventory.split(" ")
inputs.tower_inventory = int(inv_split[0])

credential = rule.properties.ansible_tower_credential
if credential.find('-') != -1:
  cred_split = credential.split("-")
else:
  cred_split = credential.split(" ")
inputs.tower_credential = int(cred_split[0])
```

### Post-Processing Script
```python
import java.util.Date as Date

run_row = incident.addRow('ansible_tower_launched_jobs')

run_row["reported_on"] = str(Date())
run_row['type'] = 'ad hoc'
run_row['launch_date'] = results.content['created'].replace('T', ' ')
run_row['status'] = results.content['status']
run_row['job_id'] = results.content['id']
run_row['template_name'] = results.content['name']
run_row['inventory'] = results.content['limit']
run_row['arguments'] = str(results.content['module_args']).replace("{", "").replace("}", "")

```

---

