{
  "action_order": [],
  "actions": [
    {
      "automations": [],
      "conditions": [],
      "enabled": true,
      "export_key": "SNOW: Add Attachment to Record",
      "id": 66,
      "logic_type": "all",
      "message_destinations": [],
      "name": "SNOW: Add Attachment to Record",
      "object_type": "attachment",
      "tags": [],
      "timeout_seconds": 86400,
      "type": 1,
      "uuid": "8d27481b-06ac-41f0-b56a-daa297d2f09a",
      "view_items": [],
      "workflows": [
        "example_snow_add_attachment_to_record"
      ]
    },
    {
      "automations": [],
      "conditions": [
        {
          "evaluation_id": null,
          "field_name": "incident.properties.sn_snow_record_id",
          "method": "not_has_a_value",
          "type": null,
          "value": null
        }
      ],
      "enabled": true,
      "export_key": "SNOW: Create Record [Incident]",
      "id": 67,
      "logic_type": "all",
      "message_destinations": [],
      "name": "SNOW: Create Record [Incident]",
      "object_type": "incident",
      "tags": [],
      "timeout_seconds": 86400,
      "type": 1,
      "uuid": "41655e65-023c-463a-84e1-8e15595539cf",
      "view_items": [
        {
          "content": "42f6657f-24a6-46f2-a0bf-003922887c2b",
          "element": "field_uuid",
          "field_type": "actioninvocation",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "e0a387ef-2ae3-492e-877d-8d80b0ccf72b",
          "element": "field_uuid",
          "field_type": "actioninvocation",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        }
      ],
      "workflows": [
        "example_snow_create_record_incident"
      ]
    },
    {
      "automations": [],
      "conditions": [],
      "enabled": true,
      "export_key": "SNOW: Create Record [Task]",
      "id": 68,
      "logic_type": "all",
      "message_destinations": [],
      "name": "SNOW: Create Record [Task]",
      "object_type": "task",
      "tags": [],
      "timeout_seconds": 86400,
      "type": 1,
      "uuid": "8b7390de-e566-475f-9883-ac3e6be268d3",
      "view_items": [
        {
          "content": "42f6657f-24a6-46f2-a0bf-003922887c2b",
          "element": "field_uuid",
          "field_type": "actioninvocation",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "e0a387ef-2ae3-492e-877d-8d80b0ccf72b",
          "element": "field_uuid",
          "field_type": "actioninvocation",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        }
      ],
      "workflows": [
        "example_snow_create_record_task"
      ]
    },
    {
      "automations": [],
      "conditions": [
        {
          "evaluation_id": null,
          "field_name": "incident.properties.sn_snow_record_id",
          "method": "has_a_value",
          "type": null,
          "value": null
        },
        {
          "evaluation_id": null,
          "field_name": "incident.properties.sn_snow_record_id",
          "method": "not_contains",
          "type": null,
          "value": "SIR"
        },
        {
          "evaluation_id": null,
          "field_name": "incident.severity_code",
          "method": "changed",
          "type": null,
          "value": null
        }
      ],
      "enabled": true,
      "export_key": "SNOW: [INC] Update Record on Severity Change",
      "id": 64,
      "logic_type": "all",
      "message_destinations": [],
      "name": "SNOW: [INC] Update Record on Severity Change",
      "object_type": "incident",
      "tags": [],
      "timeout_seconds": 86400,
      "type": 0,
      "uuid": "254f43e7-5f51-476f-82a4-160928c8b90f",
      "view_items": [],
      "workflows": [
        "example_snow_update_record_on_severity_change"
      ]
    },
    {
      "automations": [],
      "conditions": [
        {
          "evaluation_id": null,
          "field_name": "note.text",
          "method": "not_contains",
          "type": null,
          "value": "Sent to ServiceNow at"
        }
      ],
      "enabled": true,
      "export_key": "SNOW: Send as Additional Comment",
      "id": 69,
      "logic_type": "all",
      "message_destinations": [],
      "name": "SNOW: Send as Additional Comment",
      "object_type": "note",
      "tags": [],
      "timeout_seconds": 86400,
      "type": 1,
      "uuid": "17ec918d-8ed3-4ef7-9d56-8ec1c4164479",
      "view_items": [],
      "workflows": [
        "example_snow_add_comment_to_record"
      ]
    },
    {
      "automations": [],
      "conditions": [
        {
          "evaluation_id": null,
          "field_name": "note.text",
          "method": "not_contains",
          "type": null,
          "value": "Sent to ServiceNow at"
        }
      ],
      "enabled": true,
      "export_key": "SNOW: Send as Work Note",
      "id": 70,
      "logic_type": "all",
      "message_destinations": [],
      "name": "SNOW: Send as Work Note",
      "object_type": "note",
      "tags": [],
      "timeout_seconds": 86400,
      "type": 1,
      "uuid": "d51ba137-4245-4084-8888-0f4054f95414",
      "view_items": [],
      "workflows": [
        "example_snow_add_worknote_to_record"
      ]
    },
    {
      "automations": [],
      "conditions": [
        {
          "evaluation_id": null,
          "field_name": "incident.properties.sn_snow_record_id",
          "method": "contains",
          "type": null,
          "value": "SIR"
        },
        {
          "evaluation_id": null,
          "field_name": "incident.properties.sn_snow_record_id",
          "method": "has_a_value",
          "type": null,
          "value": null
        },
        {
          "evaluation_id": null,
          "field_name": "incident.severity_code",
          "method": "changed",
          "type": null,
          "value": null
        }
      ],
      "enabled": true,
      "export_key": "SNOW: [SIR] Update Record on Severity Change",
      "id": 65,
      "logic_type": "all",
      "message_destinations": [],
      "name": "SNOW: [SIR] Update Record on Severity Change",
      "object_type": "incident",
      "tags": [],
      "timeout_seconds": 86400,
      "type": 0,
      "uuid": "846aa497-fb72-46b3-90ee-72da19c4e0c5",
      "view_items": [],
      "workflows": [
        "example_sir_snow_update_record_on_severity_change"
      ]
    },
    {
      "automations": [],
      "conditions": [],
      "enabled": true,
      "export_key": "SNOW: Update/Close Record",
      "id": 73,
      "logic_type": "all",
      "message_destinations": [],
      "name": "SNOW: Update/Close Record",
      "object_type": "sn_records_dt",
      "tags": [],
      "timeout_seconds": 86400,
      "type": 1,
      "uuid": "5aaa032a-d1d0-4105-9178-bcfa24539eb6",
      "view_items": [
        {
          "content": "8b55ecc9-196d-48fc-8835-1bdeae2ad3c9",
          "element": "field_uuid",
          "field_type": "actioninvocation",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "2932e505-42d9-4a52-8790-980f20d5318a",
          "element": "field_uuid",
          "field_type": "actioninvocation",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "2898c8f2-8b28-410b-b1b2-6d78feeb6132",
          "element": "field_uuid",
          "field_type": "actioninvocation",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        }
      ],
      "workflows": [
        "example_snow_close_record_from_data_table"
      ]
    },
    {
      "automations": [],
      "conditions": [
        {
          "evaluation_id": null,
          "field_name": "incident.properties.sn_snow_record_id",
          "method": "has_a_value",
          "type": null,
          "value": null
        }
      ],
      "enabled": true,
      "export_key": "SNOW: Update/Close Record [Incident]",
      "id": 74,
      "logic_type": "all",
      "message_destinations": [],
      "name": "SNOW: Update/Close Record [Incident]",
      "object_type": "incident",
      "tags": [],
      "timeout_seconds": 86400,
      "type": 1,
      "uuid": "d91f9799-007b-4a56-97ec-d147f3bc3729",
      "view_items": [
        {
          "content": "8b55ecc9-196d-48fc-8835-1bdeae2ad3c9",
          "element": "field_uuid",
          "field_type": "actioninvocation",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "2932e505-42d9-4a52-8790-980f20d5318a",
          "element": "field_uuid",
          "field_type": "actioninvocation",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "2898c8f2-8b28-410b-b1b2-6d78feeb6132",
          "element": "field_uuid",
          "field_type": "actioninvocation",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        }
      ],
      "workflows": [
        "example_snow_close_record_incident"
      ]
    },
    {
      "automations": [],
      "conditions": [],
      "enabled": true,
      "export_key": "SNOW: Update/Close Record [Task]",
      "id": 75,
      "logic_type": "all",
      "message_destinations": [],
      "name": "SNOW: Update/Close Record [Task]",
      "object_type": "task",
      "tags": [],
      "timeout_seconds": 86400,
      "type": 1,
      "uuid": "56679e21-e578-483e-ab79-6b9952356969",
      "view_items": [
        {
          "content": "8b55ecc9-196d-48fc-8835-1bdeae2ad3c9",
          "element": "field_uuid",
          "field_type": "actioninvocation",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "2932e505-42d9-4a52-8790-980f20d5318a",
          "element": "field_uuid",
          "field_type": "actioninvocation",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "2898c8f2-8b28-410b-b1b2-6d78feeb6132",
          "element": "field_uuid",
          "field_type": "actioninvocation",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        }
      ],
      "workflows": [
        "example_snow_close_record_task"
      ]
    },
    {
      "automations": [],
      "conditions": [
        {
          "evaluation_id": null,
          "field_name": "incident.plan_status",
          "method": "changed",
          "type": null,
          "value": null
        }
      ],
      "enabled": true,
      "export_key": "SNOW: Update Data Table on Status Change [Incident]",
      "id": 71,
      "logic_type": "all",
      "message_destinations": [],
      "name": "SNOW: Update Data Table on Status Change [Incident]",
      "object_type": "incident",
      "tags": [],
      "timeout_seconds": 86400,
      "type": 0,
      "uuid": "26b2828d-d9ce-4e4d-be8a-3814da119f7a",
      "view_items": [],
      "workflows": [
        "example_snow_update_datatable_on_status_change_incident"
      ]
    },
    {
      "automations": [],
      "conditions": [
        {
          "evaluation_id": null,
          "field_name": "task.status",
          "method": "changed",
          "type": null,
          "value": null
        }
      ],
      "enabled": true,
      "export_key": "SNOW: Update Data Table on Status Change [Task]",
      "id": 72,
      "logic_type": "all",
      "message_destinations": [],
      "name": "SNOW: Update Data Table on Status Change [Task]",
      "object_type": "task",
      "tags": [],
      "timeout_seconds": 86400,
      "type": 0,
      "uuid": "98412e80-3f02-49d7-8c39-718515ae382a",
      "view_items": [],
      "workflows": [
        "example_snow_update_datatable_on_status_change_task"
      ]
    }
  ],
  "apps": [],
  "automatic_tasks": [],
  "export_date": 1645198103500,
  "export_format_version": 2,
  "fields": [
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/incident_id",
      "hide_notification": false,
      "id": 262,
      "input_type": "number",
      "internal": false,
      "is_tracked": false,
      "name": "incident_id",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "required": "always",
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "incident_id",
      "tooltip": "",
      "type_id": 11,
      "uuid": "811e99d7-d194-4ce8-86cc-aff5e01ab85c",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/sn_note_text",
      "hide_notification": false,
      "id": 365,
      "input_type": "text",
      "internal": false,
      "is_tracked": false,
      "name": "sn_note_text",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "required": "always",
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "sn_note_text",
      "tooltip": "The text of the Comment",
      "type_id": 11,
      "uuid": "908e2bd1-d682-44e1-9240-efb5c2bf23a1",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/sn_close_work_note",
      "hide_notification": false,
      "id": 366,
      "input_type": "text",
      "internal": false,
      "is_tracked": false,
      "name": "sn_close_work_note",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "sn_close_work_note",
      "tooltip": "A optional note to add to the ServiceNow Record when it is closed from within IBM SOAR",
      "type_id": 11,
      "uuid": "9939f061-85a2-42ac-875a-46168998f3b6",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/sn_init_work_note",
      "hide_notification": false,
      "id": 367,
      "input_type": "text",
      "internal": false,
      "is_tracked": false,
      "name": "sn_init_work_note",
      "operation_perms": {},
      "operations": [],
      "placeholder": "This Incident originated from our Cyber Security Team using the IBM SOAR platform",
      "prefix": null,
      "read_only": false,
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "sn_init_work_note",
      "tooltip": "A custom string of text to be added as initial work_note in ServiceNow",
      "type_id": 11,
      "uuid": "9fb070d7-fc5a-4ca1-8e2e-fc940e53c857",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/sn_query_field",
      "hide_notification": false,
      "id": 368,
      "input_type": "text",
      "internal": false,
      "is_tracked": false,
      "name": "sn_query_field",
      "operation_perms": {},
      "operations": [],
      "placeholder": "state",
      "prefix": null,
      "read_only": false,
      "required": "always",
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "sn_query_field",
      "tooltip": "The name of the ServiceNow Field to query",
      "type_id": 11,
      "uuid": "a483a5fb-0064-4760-9fe8-7d8312ed1dd2",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/sn_query_value",
      "hide_notification": false,
      "id": 369,
      "input_type": "text",
      "internal": false,
      "is_tracked": false,
      "name": "sn_query_value",
      "operation_perms": {},
      "operations": [],
      "placeholder": "\"In Progress\"",
      "prefix": null,
      "read_only": false,
      "required": "always",
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "sn_query_value",
      "tooltip": "The value to be compared",
      "type_id": 11,
      "uuid": "ad37c004-da73-4b49-9575-a33093897343",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/task_id",
      "hide_notification": false,
      "id": 277,
      "input_type": "number",
      "internal": false,
      "is_tracked": false,
      "name": "task_id",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "task_id",
      "tooltip": "",
      "type_id": 11,
      "uuid": "ba318261-ed6a-4a38-a187-9e0b68d1604f",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/sn_close_code",
      "hide_notification": false,
      "id": 370,
      "input_type": "text",
      "internal": false,
      "is_tracked": false,
      "name": "sn_close_code",
      "operation_perms": {},
      "operations": [],
      "placeholder": "Solved (Permanently)",
      "prefix": null,
      "read_only": false,
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "sn_close_code",
      "tooltip": "The ServiceNow close_code i.e. \"Solved (Permanently)\"",
      "type_id": 11,
      "uuid": "bffdd765-d0c1-42bd-8b93-798436cfab93",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/sn_record_state",
      "hide_notification": false,
      "id": 371,
      "input_type": "number",
      "internal": false,
      "is_tracked": false,
      "name": "sn_record_state",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "required": "always",
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "sn_record_state",
      "tooltip": "The numeric value of the state of the record in ServiceNow",
      "type_id": 11,
      "uuid": "f0eb15f5-fb36-4c6d-b489-352befbe3ea3",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/sn_close_notes",
      "hide_notification": false,
      "id": 372,
      "input_type": "text",
      "internal": false,
      "is_tracked": false,
      "name": "sn_close_notes",
      "operation_perms": {},
      "operations": [],
      "placeholder": "Incident resolved in SOAR. No further action needed",
      "prefix": null,
      "read_only": false,
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "sn_close_notes",
      "tooltip": "The reason for resolving this record",
      "type_id": 11,
      "uuid": "f234db2f-dfe8-401f-a3b9-f5f87921e21f",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/sn_optional_fields",
      "hide_notification": false,
      "id": 373,
      "input_type": "text",
      "internal": false,
      "is_tracked": false,
      "name": "sn_optional_fields",
      "operation_perms": {},
      "operations": [],
      "placeholder": "\"\"\"{\"assignment_group\": \"IT Security\"}\"\"\"",
      "prefix": null,
      "read_only": false,
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "sn_optional_fields",
      "tooltip": "JSON string containing the api_name and value of the fields you want to set within ServiceNow after creating the record",
      "type_id": 11,
      "uuid": "0b739213-0896-4ee8-bd5a-fd26286185ba",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/sn_table_name",
      "hide_notification": false,
      "id": 374,
      "input_type": "text",
      "internal": false,
      "is_tracked": false,
      "name": "sn_table_name",
      "operation_perms": {},
      "operations": [],
      "placeholder": "incident",
      "prefix": null,
      "read_only": false,
      "required": "always",
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "sn_table_name",
      "tooltip": "Name of the table in ServiceNow",
      "type_id": 11,
      "uuid": "107edc5d-e444-4398-a596-00d61db4c3fd",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/attachment_id",
      "hide_notification": false,
      "id": 265,
      "input_type": "number",
      "internal": false,
      "is_tracked": false,
      "name": "attachment_id",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "attachment_id",
      "tooltip": "",
      "type_id": 11,
      "uuid": "1677716a-a95e-4f55-8e3e-5399e6d3bd96",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/sn_note_type",
      "hide_notification": false,
      "id": 375,
      "input_type": "select",
      "internal": false,
      "is_tracked": false,
      "name": "sn_note_type",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "required": "always",
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "sn_note_type",
      "tooltip": "When sending a Note, should it be added as a \"work_note\" or \"additional_comment\" in ServiceNow. Default: \"work_note\"",
      "type_id": 11,
      "uuid": "19d5e854-dc64-43d4-9a39-7be914920ad6",
      "values": [
        {
          "default": true,
          "enabled": true,
          "hidden": false,
          "label": "work_note",
          "properties": null,
          "uuid": "c65de77d-f6b2-4c19-94eb-cdfa5cf5037f",
          "value": 277
        },
        {
          "default": false,
          "enabled": true,
          "hidden": false,
          "label": "additional_comment",
          "properties": null,
          "uuid": "3cb448e0-48d2-4afb-b509-59e9dc19168e",
          "value": 278
        }
      ]
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/sn_res_id",
      "hide_notification": false,
      "id": 376,
      "input_type": "text",
      "internal": false,
      "is_tracked": false,
      "name": "sn_res_id",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "sn_res_id",
      "tooltip": "The res_id of a SNOW record in sn_records_dt Data Table",
      "type_id": 11,
      "uuid": "33155d23-83f5-4a2b-b013-0baa7866c62d",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/sn_update_fields",
      "hide_notification": false,
      "id": 377,
      "input_type": "text",
      "internal": false,
      "is_tracked": false,
      "name": "sn_update_fields",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "required": "always",
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "sn_update_fields",
      "tooltip": "A JSON String of SNOW field names and values to update",
      "type_id": 11,
      "uuid": "4bf00b16-c289-4a96-9066-7422fc18b78a",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/sn_resilient_status",
      "hide_notification": false,
      "id": 378,
      "input_type": "text",
      "internal": false,
      "is_tracked": false,
      "name": "sn_resilient_status",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "sn_resilient_status",
      "tooltip": "",
      "type_id": 11,
      "uuid": "72a4e5ad-6df7-4839-a114-f081d4c00973",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "actioninvocation/sn_record_state",
      "hide_notification": false,
      "id": 360,
      "input_type": "select",
      "internal": false,
      "is_tracked": false,
      "name": "sn_record_state",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": "properties",
      "read_only": false,
      "required": "always",
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "SN Record State",
      "tooltip": "Use INC state for SNOW Incident tables and SIR States for Security Incident Response tables",
      "type_id": 6,
      "uuid": "8b55ecc9-196d-48fc-8835-1bdeae2ad3c9",
      "values": [
        {
          "default": false,
          "enabled": true,
          "hidden": false,
          "label": "[INC] Resolved",
          "properties": null,
          "uuid": "a3a8a92d-5ede-418e-8ea2-d843e24dd412",
          "value": 246
        },
        {
          "default": false,
          "enabled": true,
          "hidden": false,
          "label": "[INC] Closed",
          "properties": null,
          "uuid": "6b5793d7-da58-4015-90e2-0ab847b8a31c",
          "value": 247
        },
        {
          "default": false,
          "enabled": true,
          "hidden": false,
          "label": "[INC] Canceled",
          "properties": null,
          "uuid": "948a8299-9da0-4d96-b1cf-4ede8e32ce12",
          "value": 248
        },
        {
          "default": false,
          "enabled": true,
          "hidden": false,
          "label": "[SIR] Analysis",
          "properties": null,
          "uuid": "fa5fd229-81a6-42b6-88fc-2cfe8161d3d2",
          "value": 249
        },
        {
          "default": false,
          "enabled": true,
          "hidden": false,
          "label": "[SIR] Contain",
          "properties": null,
          "uuid": "5234c57a-4545-4748-81fa-b071e14d74e7",
          "value": 250
        },
        {
          "default": false,
          "enabled": true,
          "hidden": false,
          "label": "[SIR] Eradicate",
          "properties": null,
          "uuid": "943f8047-25f7-4950-bc7a-00a352dccf80",
          "value": 251
        },
        {
          "default": false,
          "enabled": true,
          "hidden": false,
          "label": "[SIR] Recover",
          "properties": null,
          "uuid": "dce62ffd-8b7e-42fe-9e68-c3e87a502af7",
          "value": 252
        },
        {
          "default": false,
          "enabled": true,
          "hidden": false,
          "label": "[SIR] Review",
          "properties": null,
          "uuid": "fe4c447e-d7b1-4a14-b5d4-919366e96026",
          "value": 253
        },
        {
          "default": false,
          "enabled": true,
          "hidden": false,
          "label": "[SIR] Closed",
          "properties": null,
          "uuid": "b6cb4b36-4a2a-42f9-bad5-5db68ff58e1e",
          "value": 254
        },
        {
          "default": false,
          "enabled": true,
          "hidden": false,
          "label": "[SIR] Canceled",
          "properties": null,
          "uuid": "b75ec4d8-4295-414d-af5f-36ebba143094",
          "value": 255
        }
      ]
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "actioninvocation/sn_initial_note",
      "hide_notification": false,
      "id": 361,
      "input_type": "textarea",
      "internal": false,
      "is_tracked": false,
      "name": "sn_initial_note",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": "properties",
      "read_only": false,
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "SN Initial Note",
      "tooltip": "",
      "type_id": 6,
      "uuid": "e0a387ef-2ae3-492e-877d-8d80b0ccf72b",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "actioninvocation/sn_close_notes",
      "hide_notification": false,
      "id": 362,
      "input_type": "text",
      "internal": false,
      "is_tracked": false,
      "name": "sn_close_notes",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": "properties",
      "read_only": false,
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "SN Close Notes",
      "tooltip": "Optional. Note to be added to record when state is CLOSED",
      "type_id": 6,
      "uuid": "2898c8f2-8b28-410b-b1b2-6d78feeb6132",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": true,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "actioninvocation/sn_close_code",
      "hide_notification": false,
      "id": 363,
      "input_type": "select",
      "internal": false,
      "is_tracked": false,
      "name": "sn_close_code",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": "properties",
      "read_only": false,
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "SN Close Code",
      "tooltip": "Optional. Sets the close code only when Record State is CLOSED",
      "type_id": 6,
      "uuid": "2932e505-42d9-4a52-8790-980f20d5318a",
      "values": [
        {
          "default": false,
          "enabled": true,
          "hidden": false,
          "label": "Solved (Work Around)",
          "properties": null,
          "uuid": "6465e7ad-56d0-4ee9-8307-abf8b770f537",
          "value": 260
        },
        {
          "default": false,
          "enabled": true,
          "hidden": false,
          "label": "Solved (Permanently)",
          "properties": null,
          "uuid": "77c5758e-57ce-44b4-abf2-b5b3c9dc14bf",
          "value": 261
        },
        {
          "default": false,
          "enabled": true,
          "hidden": false,
          "label": "Not Solved (Not Reproducible)",
          "properties": null,
          "uuid": "ad4c8229-ea8d-4f77-855f-19082eb9227a",
          "value": 262
        },
        {
          "default": false,
          "enabled": true,
          "hidden": false,
          "label": "Not Solved (Too Costly)",
          "properties": null,
          "uuid": "93f66961-2e57-4271-84e0-d320b9f7969f",
          "value": 263
        },
        {
          "default": false,
          "enabled": true,
          "hidden": false,
          "label": "Closed/Resolved by Caller",
          "properties": null,
          "uuid": "e7ad2ff4-dc2f-48df-a4a1-86b3ba77db13",
          "value": 264
        },
        {
          "default": false,
          "enabled": true,
          "hidden": false,
          "label": "Investigation completed",
          "properties": null,
          "uuid": "2d3433bc-935c-4507-8327-3128da28126a",
          "value": 265
        },
        {
          "default": false,
          "enabled": true,
          "hidden": false,
          "label": "Threat mitigated",
          "properties": null,
          "uuid": "9aa152b2-08a6-4646-84c5-91e60d332509",
          "value": 266
        },
        {
          "default": false,
          "enabled": true,
          "hidden": false,
          "label": "Patched vulnerability",
          "properties": null,
          "uuid": "3dc4ad12-21aa-4b72-92c2-9aea462565de",
          "value": 267
        },
        {
          "default": false,
          "enabled": true,
          "hidden": false,
          "label": "Invalid vulnerability",
          "properties": null,
          "uuid": "549a90a5-d63d-4185-b85b-e6e80ee4781b",
          "value": 268
        },
        {
          "default": false,
          "enabled": true,
          "hidden": false,
          "label": "Not resolved",
          "properties": null,
          "uuid": "31752021-a188-4198-a05c-7e41f25ba7ff",
          "value": 269
        },
        {
          "default": false,
          "enabled": true,
          "hidden": false,
          "label": "False positive",
          "properties": null,
          "uuid": "a1d319cf-90d2-4d68-a971-f6ced6b6c8b1",
          "value": 270
        }
      ]
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "actioninvocation/sn_assignment_group",
      "hide_notification": false,
      "id": 364,
      "input_type": "select",
      "internal": false,
      "is_tracked": false,
      "name": "sn_assignment_group",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": "properties",
      "read_only": false,
      "required": "always",
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "SN Assignment Group",
      "tooltip": "The group this record will be assigned to in ServiceNow",
      "type_id": 6,
      "uuid": "42f6657f-24a6-46f2-a0bf-003922887c2b",
      "values": [
        {
          "default": false,
          "enabled": true,
          "hidden": false,
          "label": "IT Securities",
          "properties": null,
          "uuid": "3e26c5ca-e9c9-4738-8a9d-f582bf5fc6b7",
          "value": 271
        },
        {
          "default": false,
          "enabled": true,
          "hidden": false,
          "label": "Network",
          "properties": null,
          "uuid": "6a408494-69ee-48c8-8ea5-0f59b5e60d57",
          "value": 272
        },
        {
          "default": false,
          "enabled": true,
          "hidden": false,
          "label": "Hardware",
          "properties": null,
          "uuid": "b6e56c79-9039-4231-8cb7-921d9584bd70",
          "value": 273
        },
        {
          "default": false,
          "enabled": true,
          "hidden": false,
          "label": "Software",
          "properties": null,
          "uuid": "e9ed23d6-6cf4-4cc2-a829-653c9ef32329",
          "value": 274
        },
        {
          "default": false,
          "enabled": true,
          "hidden": false,
          "label": "Database",
          "properties": null,
          "uuid": "e4006f40-5de9-445b-8b2b-431476537436",
          "value": 275
        },
        {
          "default": true,
          "enabled": true,
          "hidden": false,
          "label": "Incident Management",
          "properties": null,
          "uuid": "754ceb8d-d4c3-4724-854f-d3b14cdec56d",
          "value": 276
        }
      ]
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "incident/sn_snow_record_id",
      "hide_notification": false,
      "id": 247,
      "input_type": "text",
      "internal": false,
      "is_tracked": false,
      "name": "sn_snow_record_id",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": "properties",
      "read_only": false,
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "SNOW Record ID",
      "tooltip": "ID of ServiceNow Record",
      "type_id": 0,
      "uuid": "ec65fd4d-b4c5-4632-a504-d390f45be715",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "incident/sn_snow_record_link",
      "hide_notification": false,
      "id": 248,
      "input_type": "textarea",
      "internal": false,
      "is_tracked": false,
      "name": "sn_snow_record_link",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": "properties",
      "read_only": false,
      "rich_text": true,
      "tags": [],
      "templates": [],
      "text": "SNOW Record",
      "tooltip": "Link to ServiceNow Record",
      "type_id": 0,
      "uuid": "6e69a025-6597-4994-9b1b-557ef736d45e",
      "values": []
    },
    {
      "export_key": "incident/internal_customizations_field",
      "id": 0,
      "input_type": "text",
      "internal": true,
      "name": "internal_customizations_field",
      "read_only": true,
      "text": "Customizations Field (internal)",
      "type_id": 0,
      "uuid": "bfeec2d4-3770-11e8-ad39-4a0004044aa1"
    }
  ],
  "functions": [
    {
      "created_date": 1645113789194,
      "creator": {
        "display_name": "Bo\u0027s Integration Server",
        "id": 6,
        "name": "70c20070-0fb3-454a-a8db-5f172c3c754d",
        "type": "apikey"
      },
      "description": {
        "content": "Function that adds a SOAR Attachment to a ServiceNow Record.",
        "format": "text"
      },
      "destination_handle": "fn_service_now",
      "display_name": "SNOW: Add Attachment to Record",
      "export_key": "fn_snow_add_attachment_to_record",
      "id": 46,
      "last_modified_by": {
        "display_name": "Bo\u0027s Integration Server",
        "id": 6,
        "name": "70c20070-0fb3-454a-a8db-5f172c3c754d",
        "type": "apikey"
      },
      "last_modified_time": 1645113789234,
      "name": "fn_snow_add_attachment_to_record",
      "tags": [],
      "uuid": "975b1809-2110-4208-8c37-4b8ba9ad331a",
      "version": 1,
      "view_items": [
        {
          "content": "1677716a-a95e-4f55-8e3e-5399e6d3bd96",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "811e99d7-d194-4ce8-86cc-aff5e01ab85c",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "ba318261-ed6a-4a38-a187-9e0b68d1604f",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        }
      ],
      "workflows": [
        {
          "actions": [],
          "description": null,
          "name": "Example: SNOW: Add Attachment to Record",
          "object_type": "attachment",
          "programmatic_name": "example_snow_add_attachment_to_record",
          "tags": [],
          "uuid": null,
          "workflow_id": 65
        }
      ]
    },
    {
      "created_date": 1645113789262,
      "creator": {
        "display_name": "Bo\u0027s Integration Server",
        "id": 6,
        "name": "70c20070-0fb3-454a-a8db-5f172c3c754d",
        "type": "apikey"
      },
      "description": {
        "content": "Function that adds a Note to a ServiceNow Record. Option to add the note as a \u0027Work Note\u0027 or \u0027Additional Comment\u0027.",
        "format": "text"
      },
      "destination_handle": "fn_service_now",
      "display_name": "SNOW: Add Note to Record",
      "export_key": "fn_snow_add_note_to_record",
      "id": 47,
      "last_modified_by": {
        "display_name": "Bo\u0027s Integration Server",
        "id": 6,
        "name": "70c20070-0fb3-454a-a8db-5f172c3c754d",
        "type": "apikey"
      },
      "last_modified_time": 1645113789300,
      "name": "fn_snow_add_note_to_record",
      "tags": [],
      "uuid": "c43f8cc1-5cdc-41a6-a6b0-fa59dd32df36",
      "version": 1,
      "view_items": [
        {
          "content": "811e99d7-d194-4ce8-86cc-aff5e01ab85c",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "ba318261-ed6a-4a38-a187-9e0b68d1604f",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "908e2bd1-d682-44e1-9240-efb5c2bf23a1",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "19d5e854-dc64-43d4-9a39-7be914920ad6",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        }
      ],
      "workflows": [
        {
          "actions": [],
          "description": null,
          "name": "Example: [INC] SNOW Update Record on Severity Change",
          "object_type": "incident",
          "programmatic_name": "example_snow_update_record_on_severity_change",
          "tags": [],
          "uuid": null,
          "workflow_id": 59
        },
        {
          "actions": [],
          "description": null,
          "name": "Example: [SIR] SNOW Update Record on Severity Change",
          "object_type": "incident",
          "programmatic_name": "example_sir_snow_update_record_on_severity_change",
          "tags": [],
          "uuid": null,
          "workflow_id": 57
        },
        {
          "actions": [],
          "description": null,
          "name": "Example: SNOW: Add Comment to Record",
          "object_type": "note",
          "programmatic_name": "example_snow_add_comment_to_record",
          "tags": [],
          "uuid": null,
          "workflow_id": 61
        },
        {
          "actions": [],
          "description": null,
          "name": "Example: SNOW: Add Work Note to Record",
          "object_type": "note",
          "programmatic_name": "example_snow_add_worknote_to_record",
          "tags": [],
          "uuid": null,
          "workflow_id": 54
        }
      ]
    },
    {
      "created_date": 1645113789325,
      "creator": {
        "display_name": "Bo\u0027s Integration Server",
        "id": 6,
        "name": "70c20070-0fb3-454a-a8db-5f172c3c754d",
        "type": "apikey"
      },
      "description": {
        "content": "Function that uses the \u0027/close_record\u0027 custom endpoint in ServiceNow to change the state of a ServiceNow Record and add Close Notes and a Close Code to the Record.",
        "format": "text"
      },
      "destination_handle": "fn_service_now",
      "display_name": "SNOW: Close Record",
      "export_key": "fn_snow_close_record",
      "id": 48,
      "last_modified_by": {
        "display_name": "Bo\u0027s Integration Server",
        "id": 6,
        "name": "70c20070-0fb3-454a-a8db-5f172c3c754d",
        "type": "apikey"
      },
      "last_modified_time": 1645113789367,
      "name": "fn_snow_close_record",
      "tags": [],
      "uuid": "edadf951-4652-48a9-8068-9b719bf4bfe4",
      "version": 1,
      "view_items": [
        {
          "content": "811e99d7-d194-4ce8-86cc-aff5e01ab85c",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "ba318261-ed6a-4a38-a187-9e0b68d1604f",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "33155d23-83f5-4a2b-b013-0baa7866c62d",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "f0eb15f5-fb36-4c6d-b489-352befbe3ea3",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "f234db2f-dfe8-401f-a3b9-f5f87921e21f",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "bffdd765-d0c1-42bd-8b93-798436cfab93",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "9939f061-85a2-42ac-875a-46168998f3b6",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        }
      ],
      "workflows": [
        {
          "actions": [],
          "description": null,
          "name": "Example: SNOW: Close Record [Incident]",
          "object_type": "incident",
          "programmatic_name": "example_snow_close_record_incident",
          "tags": [],
          "uuid": null,
          "workflow_id": 63
        },
        {
          "actions": [],
          "description": null,
          "name": "Example: SNOW: Close Record [Task]",
          "object_type": "task",
          "programmatic_name": "example_snow_close_record_task",
          "tags": [],
          "uuid": null,
          "workflow_id": 62
        },
        {
          "actions": [],
          "description": null,
          "name": "Example: SNOW: Close Record from Data Table",
          "object_type": "sn_records_dt",
          "programmatic_name": "example_snow_close_record_from_data_table",
          "tags": [],
          "uuid": null,
          "workflow_id": 58
        }
      ]
    },
    {
      "created_date": 1645113789392,
      "creator": {
        "display_name": "Bo\u0027s Integration Server",
        "id": 6,
        "name": "70c20070-0fb3-454a-a8db-5f172c3c754d",
        "type": "apikey"
      },
      "description": {
        "content": "Function that uses the \u0027/create\u0027 custom endpoint in ServiceNow to create a ServiceNow Record from a SOAR Incident or Task.",
        "format": "text"
      },
      "destination_handle": "fn_service_now",
      "display_name": "SNOW: Create Record",
      "export_key": "fn_snow_create_record",
      "id": 49,
      "last_modified_by": {
        "display_name": "Bo\u0027s Integration Server",
        "id": 6,
        "name": "70c20070-0fb3-454a-a8db-5f172c3c754d",
        "type": "apikey"
      },
      "last_modified_time": 1645113789431,
      "name": "fn_snow_create_record",
      "tags": [],
      "uuid": "041fa8ca-70bb-44b1-996b-88f61a8a0671",
      "version": 1,
      "view_items": [
        {
          "content": "811e99d7-d194-4ce8-86cc-aff5e01ab85c",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "ba318261-ed6a-4a38-a187-9e0b68d1604f",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "9fb070d7-fc5a-4ca1-8e2e-fc940e53c857",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "0b739213-0896-4ee8-bd5a-fd26286185ba",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        }
      ],
      "workflows": [
        {
          "actions": [],
          "description": null,
          "name": "Example: SNOW: Create Record [Incident]",
          "object_type": "incident",
          "programmatic_name": "example_snow_create_record_incident",
          "tags": [],
          "uuid": null,
          "workflow_id": 60
        },
        {
          "actions": [],
          "description": null,
          "name": "Example: SNOW: Create Record [Task]",
          "object_type": "task",
          "programmatic_name": "example_snow_create_record_task",
          "tags": [],
          "uuid": null,
          "workflow_id": 55
        }
      ]
    },
    {
      "created_date": 1645113789455,
      "creator": {
        "display_name": "Bo\u0027s Integration Server",
        "id": 6,
        "name": "70c20070-0fb3-454a-a8db-5f172c3c754d",
        "type": "apikey"
      },
      "description": {
        "content": "A helper function to add a Note to a Task from a Workflow with a different parent object type.",
        "format": "text"
      },
      "destination_handle": "fn_service_now",
      "display_name": "SNOW Helper: Add Task Note",
      "export_key": "fn_snow_helper_add_task_note",
      "id": 50,
      "last_modified_by": {
        "display_name": "Bo\u0027s Integration Server",
        "id": 6,
        "name": "70c20070-0fb3-454a-a8db-5f172c3c754d",
        "type": "apikey"
      },
      "last_modified_time": 1645113789494,
      "name": "fn_snow_helper_add_task_note",
      "tags": [],
      "uuid": "f02d65f0-f19a-414a-828d-5c35de5270b1",
      "version": 1,
      "view_items": [
        {
          "content": "33155d23-83f5-4a2b-b013-0baa7866c62d",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "908e2bd1-d682-44e1-9240-efb5c2bf23a1",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        }
      ],
      "workflows": [
        {
          "actions": [],
          "description": null,
          "name": "Example: SNOW: Close Record from Data Table",
          "object_type": "sn_records_dt",
          "programmatic_name": "example_snow_close_record_from_data_table",
          "tags": [],
          "uuid": null,
          "workflow_id": 58
        }
      ]
    },
    {
      "created_date": 1645113789519,
      "creator": {
        "display_name": "Bo\u0027s Integration Server",
        "id": 6,
        "name": "70c20070-0fb3-454a-a8db-5f172c3c754d",
        "type": "apikey"
      },
      "description": {
        "content": "A helper function that updates the ServiceNow Records Data Table when the status of an Incident/Task is changed.",
        "format": "text"
      },
      "destination_handle": "fn_service_now",
      "display_name": "SNOW Helper: Update Data Table",
      "export_key": "fn_snow_helper_update_datatable",
      "id": 51,
      "last_modified_by": {
        "display_name": "Bo\u0027s Integration Server",
        "id": 6,
        "name": "70c20070-0fb3-454a-a8db-5f172c3c754d",
        "type": "apikey"
      },
      "last_modified_time": 1645113789558,
      "name": "fn_snow_helper_update_datatable",
      "tags": [],
      "uuid": "6130c083-17ea-4262-986b-8d073d3f7328",
      "version": 1,
      "view_items": [
        {
          "content": "811e99d7-d194-4ce8-86cc-aff5e01ab85c",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "ba318261-ed6a-4a38-a187-9e0b68d1604f",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "72a4e5ad-6df7-4839-a114-f081d4c00973",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        }
      ],
      "workflows": [
        {
          "actions": [],
          "description": null,
          "name": "Example: SNOW: Update Data Table on Status Change [Incident]",
          "object_type": "incident",
          "programmatic_name": "example_snow_update_datatable_on_status_change_incident",
          "tags": [],
          "uuid": null,
          "workflow_id": 64
        },
        {
          "actions": [],
          "description": null,
          "name": "Example: SNOW: Update Data Table on Status Change [Task]",
          "object_type": "task",
          "programmatic_name": "example_snow_update_datatable_on_status_change_task",
          "tags": [],
          "uuid": null,
          "workflow_id": 56
        }
      ]
    },
    {
      "created_date": 1645113789583,
      "creator": {
        "display_name": "Bo\u0027s Integration Server",
        "id": 6,
        "name": "70c20070-0fb3-454a-a8db-5f172c3c754d",
        "type": "apikey"
      },
      "description": {
        "content": "Function that gets the \u0027sys_id\u0027 of a ServiceNow Record.",
        "format": "text"
      },
      "destination_handle": "fn_service_now",
      "display_name": "SNOW: Lookup sys_id",
      "export_key": "fn_snow_lookup_sysid",
      "id": 52,
      "last_modified_by": {
        "display_name": "Bo\u0027s Integration Server",
        "id": 6,
        "name": "70c20070-0fb3-454a-a8db-5f172c3c754d",
        "type": "apikey"
      },
      "last_modified_time": 1645113789621,
      "name": "fn_snow_lookup_sysid",
      "tags": [],
      "uuid": "e5abf91c-57f6-4d01-bd5a-50bfe261cb01",
      "version": 1,
      "view_items": [
        {
          "content": "107edc5d-e444-4398-a596-00d61db4c3fd",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "a483a5fb-0064-4760-9fe8-7d8312ed1dd2",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "ad37c004-da73-4b49-9575-a33093897343",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        }
      ],
      "workflows": [
        {
          "actions": [],
          "description": null,
          "name": "Example: SNOW: Create Record [Incident]",
          "object_type": "incident",
          "programmatic_name": "example_snow_create_record_incident",
          "tags": [],
          "uuid": null,
          "workflow_id": 60
        },
        {
          "actions": [],
          "description": null,
          "name": "Example: SNOW: Create Record [Task]",
          "object_type": "task",
          "programmatic_name": "example_snow_create_record_task",
          "tags": [],
          "uuid": null,
          "workflow_id": 55
        }
      ]
    },
    {
      "created_date": 1645113789645,
      "creator": {
        "display_name": "Admin User",
        "id": 1,
        "name": "admin@example.com",
        "type": "user"
      },
      "description": {
        "content": "Function that uses the \u0027/update\u0027 custom endpoint in ServiceNow to update a ServiceNow Record with a given dictionary of field name/value pairs.",
        "format": "text"
      },
      "destination_handle": "fn_service_now",
      "display_name": "SNOW: Update Record",
      "export_key": "fn_snow_update_record",
      "id": 53,
      "last_modified_by": {
        "display_name": "Bo\u0027s Integration Server",
        "id": 6,
        "name": "70c20070-0fb3-454a-a8db-5f172c3c754d",
        "type": "apikey"
      },
      "last_modified_time": 1645113789684,
      "name": "fn_snow_update_record",
      "tags": [],
      "uuid": "95d7d4df-0ec8-4dbd-bbcf-9759b23930eb",
      "version": 1,
      "view_items": [
        {
          "content": "811e99d7-d194-4ce8-86cc-aff5e01ab85c",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "ba318261-ed6a-4a38-a187-9e0b68d1604f",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "33155d23-83f5-4a2b-b013-0baa7866c62d",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "4bf00b16-c289-4a96-9066-7422fc18b78a",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        }
      ],
      "workflows": [
        {
          "actions": [],
          "description": null,
          "name": "Example: [INC] SNOW Update Record on Severity Change",
          "object_type": "incident",
          "programmatic_name": "example_snow_update_record_on_severity_change",
          "tags": [],
          "uuid": null,
          "workflow_id": 59
        },
        {
          "actions": [],
          "description": null,
          "name": "Example: [SIR] SNOW Update Record on Severity Change",
          "object_type": "incident",
          "programmatic_name": "example_sir_snow_update_record_on_severity_change",
          "tags": [],
          "uuid": null,
          "workflow_id": 57
        }
      ]
    }
  ],
  "geos": null,
  "groups": null,
  "id": 29,
  "inbound_destinations": [],
  "inbound_mailboxes": null,
  "incident_artifact_types": [],
  "incident_types": [
    {
      "create_date": 1645198101842,
      "description": "Customization Packages (internal)",
      "enabled": false,
      "export_key": "Customization Packages (internal)",
      "hidden": false,
      "id": 0,
      "name": "Customization Packages (internal)",
      "parent_id": null,
      "system": false,
      "update_date": 1645198101842,
      "uuid": "bfeec2d4-3770-11e8-ad39-4a0004044aa0"
    }
  ],
  "industries": null,
  "layouts": [],
  "locale": null,
  "message_destinations": [
    {
      "api_keys": [
        "70c20070-0fb3-454a-a8db-5f172c3c754d"
      ],
      "destination_type": 0,
      "expect_ack": true,
      "export_key": "fn_service_now",
      "name": "fn_service_now",
      "programmatic_name": "fn_service_now",
      "tags": [],
      "users": [],
      "uuid": "59c41f3d-8a93-4205-a23d-1706c1e48f61"
    }
  ],
  "notifications": null,
  "overrides": [],
  "phases": [],
  "regulators": null,
  "roles": [],
  "scripts": [],
  "server_version": {
    "build_number": 41,
    "major": 41,
    "minor": 2,
    "version": "41.2.41"
  },
  "tags": [],
  "task_order": [],
  "timeframes": null,
  "types": [
    {
      "actions": [],
      "display_name": "ServiceNow Records",
      "export_key": "sn_records_dt",
      "fields": {
        "sn_records_dt_links": {
          "allow_default_value": false,
          "blank_option": true,
          "calculated": false,
          "changeable": true,
          "chosen": true,
          "default_chosen_by_server": false,
          "deprecated": false,
          "export_key": "sn_records_dt/sn_records_dt_links",
          "hide_notification": false,
          "id": 249,
          "input_type": "textarea",
          "internal": false,
          "is_tracked": false,
          "name": "sn_records_dt_links",
          "operation_perms": {},
          "operations": [],
          "order": 7,
          "placeholder": "",
          "prefix": null,
          "read_only": false,
          "rich_text": true,
          "tags": [],
          "templates": [],
          "text": "Links",
          "tooltip": "Opens the record in a new tab in either IBM SOAR or SNOW",
          "type_id": 1000,
          "uuid": "7fafcc23-1b8d-44e0-a192-336bdd4137b2",
          "values": [],
          "width": 64
        },
        "sn_records_dt_name": {
          "allow_default_value": false,
          "blank_option": true,
          "calculated": false,
          "changeable": true,
          "chosen": true,
          "default_chosen_by_server": false,
          "deprecated": false,
          "export_key": "sn_records_dt/sn_records_dt_name",
          "hide_notification": false,
          "id": 250,
          "input_type": "text",
          "internal": false,
          "is_tracked": false,
          "name": "sn_records_dt_name",
          "operation_perms": {},
          "operations": [],
          "order": 1,
          "placeholder": "",
          "prefix": null,
          "read_only": false,
          "rich_text": false,
          "tags": [],
          "templates": [],
          "text": "Name",
          "tooltip": "The name of the record",
          "type_id": 1000,
          "uuid": "b81b6dd1-78c0-4e35-9fc0-2883b0037890",
          "values": [],
          "width": 110
        },
        "sn_records_dt_res_id": {
          "allow_default_value": false,
          "blank_option": true,
          "calculated": false,
          "changeable": true,
          "chosen": true,
          "default_chosen_by_server": false,
          "deprecated": false,
          "export_key": "sn_records_dt/sn_records_dt_res_id",
          "hide_notification": false,
          "id": 251,
          "input_type": "text",
          "internal": false,
          "is_tracked": false,
          "name": "sn_records_dt_res_id",
          "operation_perms": {},
          "operations": [],
          "order": 3,
          "placeholder": "",
          "prefix": null,
          "read_only": false,
          "rich_text": false,
          "tags": [],
          "templates": [],
          "text": "SOAR ID",
          "tooltip": "Unique ID of IBM SOAR Incident or Task",
          "type_id": 1000,
          "uuid": "7709e2b5-f66c-403d-a8ba-c438837b78c9",
          "values": [],
          "width": 167
        },
        "sn_records_dt_res_status": {
          "allow_default_value": false,
          "blank_option": true,
          "calculated": false,
          "changeable": true,
          "chosen": true,
          "default_chosen_by_server": false,
          "deprecated": false,
          "export_key": "sn_records_dt/sn_records_dt_res_status",
          "hide_notification": false,
          "id": 252,
          "input_type": "textarea",
          "internal": false,
          "is_tracked": false,
          "name": "sn_records_dt_res_status",
          "operation_perms": {},
          "operations": [],
          "order": 5,
          "placeholder": "",
          "prefix": null,
          "read_only": false,
          "rich_text": true,
          "tags": [],
          "templates": [],
          "text": "SOAR Status",
          "tooltip": "The current status of the Incident/Task in IBM SOAR",
          "type_id": 1000,
          "uuid": "c99d25f2-8066-412a-ba89-4f1226b6af5e",
          "values": [],
          "width": 181
        },
        "sn_records_dt_sn_ref_id": {
          "allow_default_value": false,
          "blank_option": true,
          "calculated": false,
          "changeable": true,
          "chosen": true,
          "default_chosen_by_server": false,
          "deprecated": false,
          "export_key": "sn_records_dt/sn_records_dt_sn_ref_id",
          "hide_notification": false,
          "id": 253,
          "input_type": "text",
          "internal": false,
          "is_tracked": false,
          "name": "sn_records_dt_sn_ref_id",
          "operation_perms": {},
          "operations": [],
          "order": 4,
          "placeholder": "",
          "prefix": null,
          "read_only": false,
          "rich_text": false,
          "tags": [],
          "templates": [],
          "text": "SNOW ID",
          "tooltip": "ID of record in SNOW, unique to its table in SNOW",
          "type_id": 1000,
          "uuid": "cd9c9e13-ebbf-4b5e-a438-a7a969c1f9fd",
          "values": [],
          "width": 121
        },
        "sn_records_dt_snow_status": {
          "allow_default_value": false,
          "blank_option": true,
          "calculated": false,
          "changeable": true,
          "chosen": true,
          "default_chosen_by_server": false,
          "deprecated": false,
          "export_key": "sn_records_dt/sn_records_dt_snow_status",
          "hide_notification": false,
          "id": 254,
          "input_type": "textarea",
          "internal": false,
          "is_tracked": false,
          "name": "sn_records_dt_snow_status",
          "operation_perms": {},
          "operations": [],
          "order": 6,
          "placeholder": "",
          "prefix": null,
          "read_only": false,
          "rich_text": true,
          "tags": [],
          "templates": [],
          "text": "SNOW Status",
          "tooltip": "The current status of the record in SNOW",
          "type_id": 1000,
          "uuid": "fa7159db-73e4-464e-8bbd-5e7ef99f54e9",
          "values": [],
          "width": 181
        },
        "sn_records_dt_time": {
          "allow_default_value": false,
          "blank_option": true,
          "calculated": false,
          "changeable": true,
          "chosen": true,
          "default_chosen_by_server": false,
          "deprecated": false,
          "export_key": "sn_records_dt/sn_records_dt_time",
          "hide_notification": false,
          "id": 255,
          "input_type": "datetimepicker",
          "internal": false,
          "is_tracked": false,
          "name": "sn_records_dt_time",
          "operation_perms": {},
          "operations": [],
          "order": 0,
          "placeholder": "",
          "prefix": null,
          "read_only": false,
          "rich_text": false,
          "tags": [],
          "templates": [],
          "text": "Last Updated",
          "tooltip": "The time this row was last updated",
          "type_id": 1000,
          "uuid": "3da0c0bb-b1fa-40c9-9859-aa8458211ba6",
          "values": [],
          "width": 157
        },
        "sn_records_dt_type": {
          "allow_default_value": false,
          "blank_option": true,
          "calculated": false,
          "changeable": true,
          "chosen": true,
          "default_chosen_by_server": false,
          "deprecated": false,
          "export_key": "sn_records_dt/sn_records_dt_type",
          "hide_notification": false,
          "id": 256,
          "input_type": "text",
          "internal": false,
          "is_tracked": false,
          "name": "sn_records_dt_type",
          "operation_perms": {},
          "operations": [],
          "order": 2,
          "placeholder": "",
          "prefix": null,
          "read_only": false,
          "rich_text": false,
          "tags": [],
          "templates": [],
          "text": "Type",
          "tooltip": "Either Incident or Task",
          "type_id": 1000,
          "uuid": "9fd786bb-cc8d-49c8-8df1-f02921e36578",
          "values": [],
          "width": 73
        }
      },
      "for_actions": false,
      "for_custom_fields": false,
      "for_notifications": false,
      "for_workflows": false,
      "id": null,
      "parent_types": [
        "incident"
      ],
      "properties": {
        "can_create": false,
        "can_destroy": false,
        "for_who": []
      },
      "scripts": [],
      "tags": [],
      "type_id": 8,
      "type_name": "sn_records_dt",
      "uuid": "8d34ee77-4c54-4034-b68b-23cbf9088e11"
    }
  ],
  "workflows": [
    {
      "actions": [],
      "content": {
        "version": 17,
        "workflow_id": "example_snow_add_attachment_to_record",
        "xml": "\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\u003cdefinitions xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:resilient=\"http://resilient.ibm.com/bpmn\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" targetNamespace=\"http://www.camunda.org/test\"\u003e\u003cprocess id=\"example_snow_add_attachment_to_record\" isExecutable=\"true\" name=\"Example: SNOW: Add Attachment to Record\"\u003e\u003cdocumentation\u003eAn example workflow that adds a SOAR Attachment to a ServiceNow Record\u003c/documentation\u003e\u003cstartEvent id=\"StartEvent_155asxm\"\u003e\u003coutgoing\u003eSequenceFlow_13pk6oy\u003c/outgoing\u003e\u003c/startEvent\u003e\u003cserviceTask id=\"ServiceTask_1gn2ez2\" name=\"SNOW: Add Attachment to Record\" resilient:type=\"function\"\u003e\u003cextensionElements\u003e\u003cresilient:function uuid=\"975b1809-2110-4208-8c37-4b8ba9ad331a\"\u003e{\"inputs\":{},\"post_processing_script\":\"# SN Utilities: Example: Add Attachment to ServiceNow Record post-processing script\\n\\nif results.success:\\n\\n  noteText = u\\\"\\\"\\\"\u0026lt;br\u0026gt;{0} has added an attachment to \u0026lt;b\u0026gt;ServiceNow\u0026lt;/b\u0026gt;\\n              \u0026lt;br\u0026gt;\u0026lt;b\u0026gt;Attachment Name:\u0026lt;/b\u0026gt;  {1}\\n              \u0026lt;br\u0026gt;\u0026lt;b\u0026gt;ServiceNow ID:\u0026lt;/b\u0026gt;  {2}\\\"\\\"\\\".format(unicode(principal.display_name), unicode(results.attachment_name), results.sn_ref_id)\\n\\n  # If this is a task attachment, add a note to the Task\\n  if task:\\n    task.addNote(helper.createRichText(noteText))\\n  # Else add the note to the Incident\\n  else:\\n    incident.addNote(helper.createRichText(noteText))\",\"post_processing_script_language\":\"python\",\"pre_processing_script\":\"# Example: SNOW: Add Attachment to Record\\n\\n####################################\\n### Define pre-processing inputs ###\\n####################################\\n\\n# The id of this attachment\\ninputs.attachment_id = attachment.id\\n\\n# The id of this incident\\ninputs.incident_id = incident.id\\n\\n# If this is a task attachment, get the taskId\\nif attachment.type == \u0027task\u0027:\\n  inputs.task_id = task.id\\n\",\"pre_processing_script_language\":\"python\"}\u003c/resilient:function\u003e\u003c/extensionElements\u003e\u003cincoming\u003eSequenceFlow_13pk6oy\u003c/incoming\u003e\u003coutgoing\u003eSequenceFlow_0gkzgt3\u003c/outgoing\u003e\u003c/serviceTask\u003e\u003csequenceFlow id=\"SequenceFlow_13pk6oy\" sourceRef=\"StartEvent_155asxm\" targetRef=\"ServiceTask_1gn2ez2\"/\u003e\u003cendEvent id=\"EndEvent_1cidwk3\"\u003e\u003cincoming\u003eSequenceFlow_0gkzgt3\u003c/incoming\u003e\u003c/endEvent\u003e\u003csequenceFlow id=\"SequenceFlow_0gkzgt3\" sourceRef=\"ServiceTask_1gn2ez2\" targetRef=\"EndEvent_1cidwk3\"/\u003e\u003ctextAnnotation id=\"TextAnnotation_0gciww8\"\u003e\u003ctext\u003e\u003c![CDATA[Inputs: attachment_id, incident_id/task_id\n]]\u003e\u003c/text\u003e\u003c/textAnnotation\u003e\u003cassociation id=\"Association_1ledejl\" sourceRef=\"ServiceTask_1gn2ez2\" targetRef=\"TextAnnotation_0gciww8\"/\u003e\u003ctextAnnotation id=\"TextAnnotation_16ctdvh\"\u003e\u003ctext\u003e\u003c![CDATA[Sends attachment to SNOW + adds Note to Resilient\n]]\u003e\u003c/text\u003e\u003c/textAnnotation\u003e\u003cassociation id=\"Association_0s9azso\" sourceRef=\"ServiceTask_1gn2ez2\" targetRef=\"TextAnnotation_16ctdvh\"/\u003e\u003c/process\u003e\u003cbpmndi:BPMNDiagram id=\"BPMNDiagram_1\"\u003e\u003cbpmndi:BPMNPlane bpmnElement=\"undefined\" id=\"BPMNPlane_1\"\u003e\u003cbpmndi:BPMNShape bpmnElement=\"StartEvent_155asxm\" id=\"StartEvent_155asxm_di\"\u003e\u003comgdc:Bounds height=\"36\" width=\"36\" x=\"162\" y=\"188\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"0\" width=\"90\" x=\"157\" y=\"223\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNShape bpmnElement=\"ServiceTask_1gn2ez2\" id=\"ServiceTask_1gn2ez2_di\"\u003e\u003comgdc:Bounds height=\"80\" width=\"100\" x=\"325\" y=\"166\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_13pk6oy\" id=\"SequenceFlow_13pk6oy_di\"\u003e\u003comgdi:waypoint x=\"198\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003comgdi:waypoint x=\"325\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"0\" x=\"261.5\" y=\"184\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"EndEvent_1cidwk3\" id=\"EndEvent_1cidwk3_di\"\u003e\u003comgdc:Bounds height=\"36\" width=\"36\" x=\"557\" y=\"188\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"0\" x=\"575\" y=\"227\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0gkzgt3\" id=\"SequenceFlow_0gkzgt3_di\"\u003e\u003comgdi:waypoint x=\"425\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003comgdi:waypoint x=\"557\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"0\" x=\"491\" y=\"184\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"TextAnnotation_0gciww8\" id=\"TextAnnotation_0gciww8_di\"\u003e\u003comgdc:Bounds height=\"41\" width=\"166\" x=\"194\" y=\"97\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Association_1ledejl\" id=\"Association_1ledejl_di\"\u003e\u003comgdi:waypoint x=\"339\" xsi:type=\"omgdc:Point\" y=\"166\"/\u003e\u003comgdi:waypoint x=\"314\" xsi:type=\"omgdc:Point\" y=\"138\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"TextAnnotation_16ctdvh\" id=\"TextAnnotation_16ctdvh_di\"\u003e\u003comgdc:Bounds height=\"59\" width=\"161\" x=\"456\" y=\"88\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Association_0s9azso\" id=\"Association_0s9azso_di\"\u003e\u003comgdi:waypoint x=\"425\" xsi:type=\"omgdc:Point\" y=\"179\"/\u003e\u003comgdi:waypoint x=\"484\" xsi:type=\"omgdc:Point\" y=\"147\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003c/bpmndi:BPMNPlane\u003e\u003c/bpmndi:BPMNDiagram\u003e\u003c/definitions\u003e"
      },
      "content_version": 17,
      "creator_id": "70c20070-0fb3-454a-a8db-5f172c3c754d",
      "description": "An example workflow that adds a SOAR Attachment to a ServiceNow Record",
      "export_key": "example_snow_add_attachment_to_record",
      "last_modified_by": "70c20070-0fb3-454a-a8db-5f172c3c754d",
      "last_modified_time": 1645113791991,
      "name": "Example: SNOW: Add Attachment to Record",
      "object_type": "attachment",
      "programmatic_name": "example_snow_add_attachment_to_record",
      "tags": [],
      "uuid": "eb16582b-452f-46cb-be00-52c3da174b2b",
      "workflow_id": 65
    },
    {
      "actions": [],
      "content": {
        "version": 16,
        "workflow_id": "example_snow_add_comment_to_record",
        "xml": "\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\u003cdefinitions xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:resilient=\"http://resilient.ibm.com/bpmn\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" targetNamespace=\"http://www.camunda.org/test\"\u003e\u003cprocess id=\"example_snow_add_comment_to_record\" isExecutable=\"true\" name=\"Example: SNOW: Add Comment to Record\"\u003e\u003cdocumentation\u003e\u003c![CDATA[An example workflow showing how to add a SOAR Note to a ServiceNow Record as an \"Additional Comment\".]]\u003e\u003c/documentation\u003e\u003cstartEvent id=\"StartEvent_155asxm\"\u003e\u003coutgoing\u003eSequenceFlow_1cnbxch\u003c/outgoing\u003e\u003c/startEvent\u003e\u003cserviceTask id=\"ServiceTask_1ft0em1\" name=\"SNOW: Add Note to Record\" resilient:type=\"function\"\u003e\u003cextensionElements\u003e\u003cresilient:function uuid=\"c43f8cc1-5cdc-41a6-a6b0-fa59dd32df36\"\u003e{\"inputs\":{\"19d5e854-dc64-43d4-9a39-7be914920ad6\":{\"input_type\":\"static\",\"static_input\":{\"multiselect_value\":[],\"select_value\":\"3cb448e0-48d2-4afb-b509-59e9dc19168e\"}}},\"post_processing_script\":\"# Example: SNOW: Add Comment to Record post-process script\\n\\n# Import Date\\nfrom java.util import Date\\n\\n# Get the current time\\ndt_now = Date()\\n\\n# Prepend message and time to the note\\nnote.text = u\\\"\u0026lt;b\u0026gt;Sent to ServiceNow at {0}\u0026lt;/b\u0026gt;\u0026lt;br\u0026gt;{1}\\\".format(dt_now, unicode(note.text.content))\",\"pre_processing_script\":\"# Example: SNOW: Add Comment to Record\\n\\n####################################\\n### Define pre-processing inputs ###\\n####################################\\n\\n# The id of this incident\\ninputs.incident_id = incident.id\\n\\n# If this is a task note, get the taskId\\nif note.type == \u0027task\u0027:\\n  # Set the task_id\\n  inputs.task_id = task.id\\n\\n# Get the text of the note\\ninputs.sn_note_text = unicode(note.text.content)\",\"result_name\":\"\"}\u003c/resilient:function\u003e\u003c/extensionElements\u003e\u003cincoming\u003eSequenceFlow_1cnbxch\u003c/incoming\u003e\u003coutgoing\u003eSequenceFlow_1umrc73\u003c/outgoing\u003e\u003c/serviceTask\u003e\u003cendEvent id=\"EndEvent_1llc95u\"\u003e\u003cincoming\u003eSequenceFlow_1umrc73\u003c/incoming\u003e\u003c/endEvent\u003e\u003csequenceFlow id=\"SequenceFlow_1umrc73\" sourceRef=\"ServiceTask_1ft0em1\" targetRef=\"EndEvent_1llc95u\"/\u003e\u003csequenceFlow id=\"SequenceFlow_1cnbxch\" sourceRef=\"StartEvent_155asxm\" targetRef=\"ServiceTask_1ft0em1\"/\u003e\u003ctextAnnotation id=\"TextAnnotation_0phueqf\"\u003e\u003ctext\u003e\u003c![CDATA[Inputs: sn_note_text, sn_note_type, incident_id/task_id\n]]\u003e\u003c/text\u003e\u003c/textAnnotation\u003e\u003cassociation id=\"Association_13uau1u\" sourceRef=\"ServiceTask_1ft0em1\" targetRef=\"TextAnnotation_0phueqf\"/\u003e\u003ctextAnnotation id=\"TextAnnotation_0829iht\"\u003e\u003ctext\u003e\u003c![CDATA[Adds Note to ServiceNow Record\n\u00a0as Additional Comment and prepends info to Resilient Note\n]]\u003e\u003c/text\u003e\u003c/textAnnotation\u003e\u003cassociation id=\"Association_0i923ms\" sourceRef=\"ServiceTask_1ft0em1\" targetRef=\"TextAnnotation_0829iht\"/\u003e\u003c/process\u003e\u003cbpmndi:BPMNDiagram id=\"BPMNDiagram_1\"\u003e\u003cbpmndi:BPMNPlane bpmnElement=\"undefined\" id=\"BPMNPlane_1\"\u003e\u003cbpmndi:BPMNShape bpmnElement=\"StartEvent_155asxm\" id=\"StartEvent_155asxm_di\"\u003e\u003comgdc:Bounds height=\"36\" width=\"36\" x=\"229\" y=\"180\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"0\" width=\"90\" x=\"224\" y=\"215\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNShape bpmnElement=\"ServiceTask_1ft0em1\" id=\"ServiceTask_1ft0em1_di\"\u003e\u003comgdc:Bounds height=\"80\" width=\"100\" x=\"464\" y=\"158\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNShape bpmnElement=\"EndEvent_1llc95u\" id=\"EndEvent_1llc95u_di\"\u003e\u003comgdc:Bounds height=\"36\" width=\"36\" x=\"774\" y=\"180\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"747\" y=\"219\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1umrc73\" id=\"SequenceFlow_1umrc73_di\"\u003e\u003comgdi:waypoint x=\"564\" xsi:type=\"omgdc:Point\" y=\"198\"/\u003e\u003comgdi:waypoint x=\"774\" xsi:type=\"omgdc:Point\" y=\"198\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"624\" y=\"176.5\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1cnbxch\" id=\"SequenceFlow_1cnbxch_di\"\u003e\u003comgdi:waypoint x=\"265\" xsi:type=\"omgdc:Point\" y=\"198\"/\u003e\u003comgdi:waypoint x=\"464\" xsi:type=\"omgdc:Point\" y=\"198\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"319.5\" y=\"176.5\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"TextAnnotation_0phueqf\" id=\"TextAnnotation_0phueqf_di\"\u003e\u003comgdc:Bounds height=\"55\" width=\"127\" x=\"329\" y=\"70\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Association_13uau1u\" id=\"Association_13uau1u_di\"\u003e\u003comgdi:waypoint x=\"471\" xsi:type=\"omgdc:Point\" y=\"161\"/\u003e\u003comgdi:waypoint x=\"426\" xsi:type=\"omgdc:Point\" y=\"125\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"TextAnnotation_0829iht\" id=\"TextAnnotation_0829iht_di\"\u003e\u003comgdc:Bounds height=\"60\" width=\"239\" x=\"557\" y=\"68\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Association_0i923ms\" id=\"Association_0i923ms_di\"\u003e\u003comgdi:waypoint x=\"564\" xsi:type=\"omgdc:Point\" y=\"168\"/\u003e\u003comgdi:waypoint x=\"630\" xsi:type=\"omgdc:Point\" y=\"128\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003c/bpmndi:BPMNPlane\u003e\u003c/bpmndi:BPMNDiagram\u003e\u003c/definitions\u003e"
      },
      "content_version": 16,
      "creator_id": "70c20070-0fb3-454a-a8db-5f172c3c754d",
      "description": "An example workflow showing how to add a SOAR Note to a ServiceNow Record as an \"Additional Comment\".",
      "export_key": "example_snow_add_comment_to_record",
      "last_modified_by": "70c20070-0fb3-454a-a8db-5f172c3c754d",
      "last_modified_time": 1645113791315,
      "name": "Example: SNOW: Add Comment to Record",
      "object_type": "note",
      "programmatic_name": "example_snow_add_comment_to_record",
      "tags": [],
      "uuid": "8c73b93d-e2be-4df7-a782-33ca1096d8d4",
      "workflow_id": 61
    },
    {
      "actions": [],
      "content": {
        "version": 38,
        "workflow_id": "example_snow_close_record_incident",
        "xml": "\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\u003cdefinitions xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:resilient=\"http://resilient.ibm.com/bpmn\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" targetNamespace=\"http://www.camunda.org/test\"\u003e\u003cprocess id=\"example_snow_close_record_incident\" isExecutable=\"true\" name=\"Example: SNOW: Close Record [Incident]\"\u003e\u003cdocumentation\u003eAn example workflow showing how to close a Record in ServiceNow from a SOAR Incident.\u003c/documentation\u003e\u003cstartEvent id=\"StartEvent_155asxm\"\u003e\u003coutgoing\u003eSequenceFlow_0zwpy3l\u003c/outgoing\u003e\u003c/startEvent\u003e\u003cserviceTask id=\"ServiceTask_0ge3og8\" name=\"SNOW: Close Record\" resilient:type=\"function\"\u003e\u003cextensionElements\u003e\u003cresilient:function uuid=\"edadf951-4652-48a9-8068-9b719bf4bfe4\"\u003e{\"inputs\":{},\"post_processing_script\":\"# SN Utilities: Close Incident in ServiceNow post-processing script\\n\\nnote_text = None\\n\\nif results.success:\\n\\n  note_text = u\\\"\\\"\\\"\u0026lt;br\u0026gt;This Incident has been updated in \u0026lt;b\u0026gt;ServiceNow\u0026lt;/b\u0026gt;\\n              \u0026lt;br\u0026gt;\u0026lt;b\u0026gt;ServiceNow ID:\u0026lt;/b\u0026gt; {0}\\n              \u0026lt;br\u0026gt;\u0026lt;b\u0026gt;ServiceNow Record State:\u0026lt;/b\u0026gt; {1}\\n              \u0026lt;br\u0026gt;\u0026lt;b\u0026gt;ServiceNow Closing Notes:\u0026lt;/b\u0026gt; {2}\\n              \u0026lt;br\u0026gt;\u0026lt;b\u0026gt;ServiceNow Closing Code:\u0026lt;/b\u0026gt; {3}\\\"\\\"\\\".format(\\n                                      unicode(results.sn_ref_id),\\n                                      unicode(results.sn_record_state),\\n                                      unicode(results.inputs.sn_close_notes),\\n                                      unicode(results.inputs.sn_close_code))\\n\\nelse:\\n  note_text = u\\\"\\\"\\\"\u0026lt;br\u0026gt;Failed to close this Incident in \u0026lt;b\u0026gt;ServiceNow\u0026lt;/b\u0026gt;\\n              \u0026lt;br\u0026gt;\u0026lt;b\u0026gt;Reason:\u0026lt;/b\u0026gt; {0}\\\"\\\"\\\".format(unicode(results.reason))\\n  \\nincident.addNote(helper.createRichText(note_text))\",\"post_processing_script_language\":\"python\",\"pre_processing_script\":\"# Example: SNOW: Close Record [Incident]\\n\\n#######################################\\n### Define pre-processing functions ###\\n#######################################\\n\\n# A Dictionary that maps Record States to their corresponding codes\\n# These codes are defined in ServiceNow and may be different for each ServiceNow configuration\\n# Codes prepended with [SIR] are specific to Security Incident Response incidents\\nmap_sn_record_states = {\\n  \\\"New\\\": 1,\\n  \\\"In Progress\\\": 2,\\n  \\\"On Hold\\\": 3,\\n  \\\"[INC] Resolved\\\": 6,\\n  \\\"[INC] Closed\\\": 7,\\n  \\\"[INC] Canceled\\\": 8,\\n\\t\\\"[SIR] Analysis\\\": 16,\\n\\t\\\"[SIR] Contain\\\": 18,\\n\\t\\\"[SIR] Eradicate\\\": 19,\\n\\t\\\"[SIR] Recover\\\": 20,\\n\\t\\\"[SIR] Review\\\": 100,\\n\\t\\\"[SIR] Closed\\\": 3,\\n\\t\\\"[SIR] Canceled\\\": 7\\n}\\n\\n#####################\\n### Define Inputs ###\\n#####################\\n\\n# ID of this incident\\ninputs.incident_id = incident.id\\n\\n# The state to change the record to\\n# inputs.sn_record_state = map_sn_record_states[\\\"Closed\\\"]\\ninputs.sn_record_state = map_sn_record_states[rule.properties.sn_record_state]\\n\\n# The resolution notes that are normally required when you close a ServiceNow record\\n# inputs.sn_close_notes = \\\"This incident has been resolved in IBM SOAR. No further action required\\\"\\ninputs.sn_close_notes = rule.properties.sn_close_notes\\n\\n# The ServiceNow \u0027close_code\u0027 that you normally select when closing a ServiceNow record\\n# inputs.sn_close_code = \\\"Solved (Permanently)\\\"\\ninputs.sn_close_code = rule.properties.sn_close_code\\n\\n# Add a Work Note to the Record in ServiceNow\\ninputs.sn_close_work_note = u\\\"This record\u0027s state has been changed to {0} by IBM SOAR\\\".format(unicode(rule.properties.sn_record_state))\",\"pre_processing_script_language\":\"python\",\"result_name\":\"\"}\u003c/resilient:function\u003e\u003c/extensionElements\u003e\u003cincoming\u003eSequenceFlow_0zwpy3l\u003c/incoming\u003e\u003coutgoing\u003eSequenceFlow_0mase9q\u003c/outgoing\u003e\u003c/serviceTask\u003e\u003cendEvent id=\"EndEvent_0oz1mvw\"\u003e\u003cincoming\u003eSequenceFlow_0mase9q\u003c/incoming\u003e\u003c/endEvent\u003e\u003csequenceFlow id=\"SequenceFlow_0mase9q\" sourceRef=\"ServiceTask_0ge3og8\" targetRef=\"EndEvent_0oz1mvw\"/\u003e\u003csequenceFlow id=\"SequenceFlow_0zwpy3l\" sourceRef=\"StartEvent_155asxm\" targetRef=\"ServiceTask_0ge3og8\"/\u003e\u003ctextAnnotation id=\"TextAnnotation_1ycyf9z\"\u003e\u003ctext\u003e\u003c![CDATA[Inputs: incident_id, sn_record_state, sn_close_notes, sn_close_code\n]]\u003e\u003c/text\u003e\u003c/textAnnotation\u003e\u003cassociation id=\"Association_0jr04gw\" sourceRef=\"ServiceTask_0ge3og8\" targetRef=\"TextAnnotation_1ycyf9z\"/\u003e\u003ctextAnnotation id=\"TextAnnotation_1x9yk0l\"\u003e\u003ctext\u003e\u003c![CDATA[Closes the Record in ServiceNow + adds a Note to IBM SOAR\n\u00a0and a Work Note to the ServiceNow Record\n]]\u003e\u003c/text\u003e\u003c/textAnnotation\u003e\u003cassociation id=\"Association_0w7bete\" sourceRef=\"ServiceTask_0ge3og8\" targetRef=\"TextAnnotation_1x9yk0l\"/\u003e\u003c/process\u003e\u003cbpmndi:BPMNDiagram id=\"BPMNDiagram_1\"\u003e\u003cbpmndi:BPMNPlane bpmnElement=\"undefined\" id=\"BPMNPlane_1\"\u003e\u003cbpmndi:BPMNShape bpmnElement=\"StartEvent_155asxm\" id=\"StartEvent_155asxm_di\"\u003e\u003comgdc:Bounds height=\"36\" width=\"36\" x=\"162\" y=\"188\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"0\" width=\"90\" x=\"157\" y=\"223\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNShape bpmnElement=\"ServiceTask_0ge3og8\" id=\"ServiceTask_0ge3og8_di\"\u003e\u003comgdc:Bounds height=\"80\" width=\"100\" x=\"324\" y=\"166\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNShape bpmnElement=\"EndEvent_0oz1mvw\" id=\"EndEvent_0oz1mvw_di\"\u003e\u003comgdc:Bounds height=\"36\" width=\"36\" x=\"503\" y=\"188\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"0\" x=\"521\" y=\"227\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0mase9q\" id=\"SequenceFlow_0mase9q_di\"\u003e\u003comgdi:waypoint x=\"424\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003comgdi:waypoint x=\"503\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"0\" x=\"463.5\" y=\"184\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0zwpy3l\" id=\"SequenceFlow_0zwpy3l_di\"\u003e\u003comgdi:waypoint x=\"198\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003comgdi:waypoint x=\"324\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"0\" x=\"261\" y=\"184\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"TextAnnotation_1ycyf9z\" id=\"TextAnnotation_1ycyf9z_di\"\u003e\u003comgdc:Bounds height=\"68\" width=\"144\" x=\"211\" y=\"63\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Association_0jr04gw\" id=\"Association_0jr04gw_di\"\u003e\u003comgdi:waypoint x=\"341\" xsi:type=\"omgdc:Point\" y=\"166\"/\u003e\u003comgdi:waypoint x=\"312\" xsi:type=\"omgdc:Point\" y=\"131\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"TextAnnotation_1x9yk0l\" id=\"TextAnnotation_1x9yk0l_di\"\u003e\u003comgdc:Bounds height=\"82\" width=\"180\" x=\"472\" y=\"67\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Association_0w7bete\" id=\"Association_0w7bete_di\"\u003e\u003comgdi:waypoint x=\"424\" xsi:type=\"omgdc:Point\" y=\"179\"/\u003e\u003comgdi:waypoint x=\"483\" xsi:type=\"omgdc:Point\" y=\"149\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003c/bpmndi:BPMNPlane\u003e\u003c/bpmndi:BPMNDiagram\u003e\u003c/definitions\u003e"
      },
      "content_version": 38,
      "creator_id": "70c20070-0fb3-454a-a8db-5f172c3c754d",
      "description": "An example workflow showing how to close a Record in ServiceNow from a SOAR Incident.",
      "export_key": "example_snow_close_record_incident",
      "last_modified_by": "admin@example.com",
      "last_modified_time": 1645125819982,
      "name": "Example: SNOW: Close Record [Incident]",
      "object_type": "incident",
      "programmatic_name": "example_snow_close_record_incident",
      "tags": [],
      "uuid": "ecc0e309-3ed4-440a-a492-15f656a31086",
      "workflow_id": 63
    },
    {
      "actions": [],
      "content": {
        "version": 21,
        "workflow_id": "example_snow_close_record_from_data_table",
        "xml": "\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\u003cdefinitions xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:resilient=\"http://resilient.ibm.com/bpmn\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" targetNamespace=\"http://www.camunda.org/test\"\u003e\u003cprocess id=\"example_snow_close_record_from_data_table\" isExecutable=\"true\" name=\"Example: SNOW: Close Record from Data Table\"\u003e\u003cdocumentation\u003eAn example workflow showing how to close a Record in ServiceNow that is related to a SOAR Incident from the ServiceNow Records Data Table\u003c/documentation\u003e\u003cstartEvent id=\"StartEvent_155asxm\"\u003e\u003coutgoing\u003eSequenceFlow_0vsrrrr\u003c/outgoing\u003e\u003c/startEvent\u003e\u003cendEvent id=\"EndEvent_1w34eu7\"\u003e\u003cincoming\u003eSequenceFlow_0t5crs6\u003c/incoming\u003e\u003cincoming\u003eSequenceFlow_086gvnp\u003c/incoming\u003e\u003c/endEvent\u003e\u003csequenceFlow id=\"SequenceFlow_0vsrrrr\" sourceRef=\"StartEvent_155asxm\" targetRef=\"ServiceTask_0w8ciac\"/\u003e\u003cserviceTask id=\"ServiceTask_0w8ciac\" name=\"SNOW: Close Record\" resilient:type=\"function\"\u003e\u003cextensionElements\u003e\u003cresilient:function uuid=\"edadf951-4652-48a9-8068-9b719bf4bfe4\"\u003e{\"inputs\":{},\"post_processing_script\":\"# Example: SNOW: Close Record from Data Table post-processing script\\n\\n# If the SOAR item type is Incident (if it is Task, we run the SNOW Helper: Add Task Note function)\\nif row.sn_records_dt_type == \\\"Incident\\\":\\n\\n  note_text = None\\n  \\n  # And it was a success, set this note_text\\n  if results.success:\\n    note_text = u\\\"\\\"\\\"\u0026lt;br\u0026gt;This Incident has been updated in \u0026lt;b\u0026gt;ServiceNow\u0026lt;/b\u0026gt;\\n                \u0026lt;br\u0026gt;\u0026lt;b\u0026gt;ServiceNow ID:\u0026lt;/b\u0026gt; {0}\\n                \u0026lt;br\u0026gt;\u0026lt;b\u0026gt;ServiceNow Record State:\u0026lt;/b\u0026gt; {1}\\n                \u0026lt;br\u0026gt;\u0026lt;b\u0026gt;ServiceNow Closing Notes:\u0026lt;/b\u0026gt; {2}\\n                \u0026lt;br\u0026gt;\u0026lt;b\u0026gt;ServiceNow Closing Code:\u0026lt;/b\u0026gt; {3}\\\"\\\"\\\".format(\\n                                        unicode(results.sn_ref_id),\\n                                        unicode(results.sn_record_state),\\n                                        unicode(results.inputs.sn_close_notes),\\n                                        unicode(results.inputs.sn_close_code))\\n\\n  # Else, it failed, so set this note_text\\n  else:\\n    note_text = u\\\"\\\"\\\"\u0026lt;br\u0026gt;Failed to close this Incident in \u0026lt;b\u0026gt;ServiceNow\u0026lt;/b\u0026gt;\\n                \u0026lt;br\u0026gt;\u0026lt;b\u0026gt;Reason:\u0026lt;/b\u0026gt; {0}\\\"\\\"\\\".format(unicode(results.reason))\\n  \\n  incident.addNote(helper.createRichText(note_text))\",\"post_processing_script_language\":\"python\",\"pre_processing_script\":\"# Example: SNOW: Close Record from DT [Incident]\\n\\n#######################################\\n### Define pre-processing functions ###\\n#######################################\\n\\n# A Dictionary that maps Record States to their corresponding codes\\n# These codes are defined in ServiceNow and may be different for each ServiceNow configuration\\n# Codes prepended with [SIR] are specific to Security Incident Response incidents\\nmap_sn_record_states = {\\n  \\\"New\\\": 1,\\n  \\\"In Progress\\\": 2,\\n  \\\"On Hold\\\": 3,\\n  \\\"[INC] Resolved\\\": 6,\\n  \\\"[INC] Closed\\\": 7,\\n  \\\"[INC] Canceled\\\": 8,\\n\\t\\\"[SIR] Analysis\\\": 16,\\n\\t\\\"[SIR] Contain\\\": 18,\\n\\t\\\"[SIR] Eradicate\\\": 19,\\n\\t\\\"[SIR] Recover\\\": 20,\\n\\t\\\"[SIR] Review\\\": 100,\\n\\t\\\"[SIR] Closed\\\": 3,\\n\\t\\\"[SIR] Canceled\\\": 7\\n}\\n\\n#####################\\n### Define Inputs ###\\n#####################\\n\\n# ID of this incident\\ninputs.incident_id = incident.id\\n\\n# RES ID of this SNOW record from the Data Table row\\ninputs.sn_res_id = row.sn_records_dt_res_id\\n\\n# The state to change the record to\\ninputs.sn_record_state = map_sn_record_states[rule.properties.sn_record_state]\\n\\n# The resolution notes that are normally required when you close a ServiceNow record\\ninputs.sn_close_notes = rule.properties.sn_close_notes\\n\\n# The ServiceNow \u0027close_code\u0027 that you normally select when closing a ServiceNow record\\ninputs.sn_close_code = rule.properties.sn_close_code\\n\\n# Add a Work Note to the Record in ServiceNow\\ninputs.sn_close_work_note = u\\\"This record\u0027s state has been changed to {0} by IBM SOAR\\\".format(unicode(rule.properties.sn_record_state))\",\"pre_processing_script_language\":\"python\",\"result_name\":\"close_in_sn\"}\u003c/resilient:function\u003e\u003c/extensionElements\u003e\u003cincoming\u003eSequenceFlow_0vsrrrr\u003c/incoming\u003e\u003coutgoing\u003eSequenceFlow_08n5tlc\u003c/outgoing\u003e\u003c/serviceTask\u003e\u003csequenceFlow id=\"SequenceFlow_08n5tlc\" sourceRef=\"ServiceTask_0w8ciac\" targetRef=\"ExclusiveGateway_0wdiud4\"/\u003e\u003cserviceTask id=\"ServiceTask_0dzy57r\" name=\"SNOW Helper: Add Task Note\" resilient:type=\"function\"\u003e\u003cextensionElements\u003e\u003cresilient:function uuid=\"f02d65f0-f19a-414a-828d-5c35de5270b1\"\u003e{\"inputs\":{},\"post_processing_script_language\":\"python3\",\"pre_processing_script\":\"\\nnote_text = None\\n\\nif workflow.properties.close_in_sn.success:\\n  \\n  # If we successfully closed the record, set this note_text\\n  note_text = u\\\"\\\"\\\"\u0026lt;br\u0026gt;This Task has been updated in \u0026lt;b\u0026gt;ServiceNow\u0026lt;/b\u0026gt;\\n              \u0026lt;br\u0026gt;\u0026lt;b\u0026gt;ServiceNow ID:\u0026lt;/b\u0026gt; {0}\\n              \u0026lt;br\u0026gt;\u0026lt;b\u0026gt;ServiceNow Record State:\u0026lt;/b\u0026gt; {1}\\n              \u0026lt;br\u0026gt;\u0026lt;b\u0026gt;ServiceNow Closing Notes:\u0026lt;/b\u0026gt; {2}\\n              \u0026lt;br\u0026gt;\u0026lt;b\u0026gt;ServiceNow Closing Code:\u0026lt;/b\u0026gt; {3}\\\"\\\"\\\".format(\\n                                      unicode(workflow.properties.close_in_sn.sn_ref_id),\\n                                      unicode(workflow.properties.close_in_sn.sn_record_state),\\n                                      unicode(workflow.properties.close_in_sn.inputs.sn_close_notes),\\n                                      unicode(workflow.properties.close_in_sn.inputs.sn_close_code))\\n\\nelse:\\n  # Else, it failed, so set this note_text\\n  note_text = u\\\"\\\"\\\"\u0026lt;br\u0026gt;Failed to close this Task in \u0026lt;b\u0026gt;ServiceNow\u0026lt;/b\u0026gt;\\n            \u0026lt;br\u0026gt;\u0026lt;b\u0026gt;Reason:\u0026lt;/b\u0026gt; {0}\\\"\\\"\\\".format(unicode(workflow.properties.close_in_sn.reason))\\n\\n# Get sn_res_id from the Data Table\\ninputs.sn_res_id = row.sn_records_dt_res_id\\n\\n# Set the sn_note_text input\\ninputs.sn_note_text = note_text\\n\",\"pre_processing_script_language\":\"python\"}\u003c/resilient:function\u003e\u003c/extensionElements\u003e\u003cincoming\u003eSequenceFlow_09yu1ov\u003c/incoming\u003e\u003coutgoing\u003eSequenceFlow_0t5crs6\u003c/outgoing\u003e\u003c/serviceTask\u003e\u003csequenceFlow id=\"SequenceFlow_0t5crs6\" sourceRef=\"ServiceTask_0dzy57r\" targetRef=\"EndEvent_1w34eu7\"/\u003e\u003cexclusiveGateway id=\"ExclusiveGateway_0wdiud4\"\u003e\u003cincoming\u003eSequenceFlow_08n5tlc\u003c/incoming\u003e\u003coutgoing\u003eSequenceFlow_09yu1ov\u003c/outgoing\u003e\u003coutgoing\u003eSequenceFlow_086gvnp\u003c/outgoing\u003e\u003c/exclusiveGateway\u003e\u003csequenceFlow id=\"SequenceFlow_09yu1ov\" name=\"\" sourceRef=\"ExclusiveGateway_0wdiud4\" targetRef=\"ServiceTask_0dzy57r\"\u003e\u003cconditionExpression language=\"resilient-conditions\" xsi:type=\"tFormalExpression\"\u003e\u003c![CDATA[{\"conditions\":[{\"evaluation_id\":1,\"field_name\":null,\"method\":\"script\",\"type\":null,\"value\":{\"script_text\":\"# If this record is a Task, continue, else end\\ndo_continue = row.sn_records_dt_type == \\\"Task\\\"\",\"final_expression_text\":\"do_continue\",\"language\":\"python\"}}],\"custom_condition\":\"\",\"logic_type\":\"all\",\"script_language\":null}]]\u003e\u003c/conditionExpression\u003e\u003c/sequenceFlow\u003e\u003csequenceFlow id=\"SequenceFlow_086gvnp\" sourceRef=\"ExclusiveGateway_0wdiud4\" targetRef=\"EndEvent_1w34eu7\"/\u003e\u003ctextAnnotation id=\"TextAnnotation_0mr5y3c\"\u003e\u003ctext\u003e\u003c![CDATA[Inputs: incident_id, sn_res_id, sn_record_state, sn_close_notes, sn_close_code\n]]\u003e\u003c/text\u003e\u003c/textAnnotation\u003e\u003cassociation id=\"Association_1eijzrz\" sourceRef=\"ServiceTask_0w8ciac\" targetRef=\"TextAnnotation_0mr5y3c\"/\u003e\u003ctextAnnotation id=\"TextAnnotation_1r2agcj\"\u003e\u003ctext\u003e\u003c![CDATA[Closes the Record in ServiceNow + adds a Note if the Record is an Incident\n]]\u003e\u003c/text\u003e\u003c/textAnnotation\u003e\u003cassociation id=\"Association_16uzj8j\" sourceRef=\"ServiceTask_0w8ciac\" targetRef=\"TextAnnotation_1r2agcj\"/\u003e\u003ctextAnnotation id=\"TextAnnotation_0vkdpzv\"\u003e\u003ctext\u003e\u003c![CDATA[Inputs: sn_res_id, sn_note_text\n]]\u003e\u003c/text\u003e\u003c/textAnnotation\u003e\u003cassociation id=\"Association_1ep6w9m\" sourceRef=\"ServiceTask_0dzy57r\" targetRef=\"TextAnnotation_0vkdpzv\"/\u003e\u003ctextAnnotation id=\"TextAnnotation_0jipvla\"\u003e\u003ctext\u003e\u003c![CDATA[End if this Record is an Incident, else add a Note to the Task\n]]\u003e\u003c/text\u003e\u003c/textAnnotation\u003e\u003cassociation id=\"Association_0g1ue2n\" sourceRef=\"ExclusiveGateway_0wdiud4\" targetRef=\"TextAnnotation_0jipvla\"/\u003e\u003ctextAnnotation id=\"TextAnnotation_06fb0ci\"\u003e\u003ctext\u003e\u003c![CDATA[Adds a Note to a Task given the sn_res_id\n]]\u003e\u003c/text\u003e\u003c/textAnnotation\u003e\u003cassociation id=\"Association_0e4uqhh\" sourceRef=\"ServiceTask_0dzy57r\" targetRef=\"TextAnnotation_06fb0ci\"/\u003e\u003c/process\u003e\u003cbpmndi:BPMNDiagram id=\"BPMNDiagram_1\"\u003e\u003cbpmndi:BPMNPlane bpmnElement=\"undefined\" id=\"BPMNPlane_1\"\u003e\u003cbpmndi:BPMNShape bpmnElement=\"StartEvent_155asxm\" id=\"StartEvent_155asxm_di\"\u003e\u003comgdc:Bounds height=\"36\" width=\"36\" x=\"134\" y=\"146\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"0\" width=\"90\" x=\"129\" y=\"181\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNShape bpmnElement=\"EndEvent_1w34eu7\" id=\"EndEvent_1w34eu7_di\"\u003e\u003comgdc:Bounds height=\"36\" width=\"36\" x=\"907\" y=\"146\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"880\" y=\"185\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0vsrrrr\" id=\"SequenceFlow_0vsrrrr_di\"\u003e\u003comgdi:waypoint x=\"170\" xsi:type=\"omgdc:Point\" y=\"164\"/\u003e\u003comgdi:waypoint x=\"252\" xsi:type=\"omgdc:Point\" y=\"164\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"166\" y=\"142.5\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"ServiceTask_0w8ciac\" id=\"ServiceTask_0w8ciac_di\"\u003e\u003comgdc:Bounds height=\"80\" width=\"100\" x=\"252\" y=\"124\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_08n5tlc\" id=\"SequenceFlow_08n5tlc_di\"\u003e\u003comgdi:waypoint x=\"352\" xsi:type=\"omgdc:Point\" y=\"164\"/\u003e\u003comgdi:waypoint x=\"531\" xsi:type=\"omgdc:Point\" y=\"164\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"396.5\" y=\"142.5\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"TextAnnotation_0mr5y3c\" id=\"TextAnnotation_0mr5y3c_di\"\u003e\u003comgdc:Bounds height=\"83\" width=\"142\" x=\"119\" y=\"24\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Association_1eijzrz\" id=\"Association_1eijzrz_di\"\u003e\u003comgdi:waypoint x=\"259\" xsi:type=\"omgdc:Point\" y=\"127\"/\u003e\u003comgdi:waypoint x=\"237\" xsi:type=\"omgdc:Point\" y=\"107\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"TextAnnotation_1r2agcj\" id=\"TextAnnotation_1r2agcj_di\"\u003e\u003comgdc:Bounds height=\"77\" width=\"137\" x=\"353\" y=\"27\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Association_16uzj8j\" id=\"Association_16uzj8j_di\"\u003e\u003comgdi:waypoint x=\"346\" xsi:type=\"omgdc:Point\" y=\"128\"/\u003e\u003comgdi:waypoint x=\"375\" xsi:type=\"omgdc:Point\" y=\"104\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"ServiceTask_0dzy57r\" id=\"ServiceTask_0dzy57r_di\"\u003e\u003comgdc:Bounds height=\"80\" width=\"100\" x=\"696\" y=\"124\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0t5crs6\" id=\"SequenceFlow_0t5crs6_di\"\u003e\u003comgdi:waypoint x=\"796\" xsi:type=\"omgdc:Point\" y=\"164\"/\u003e\u003comgdi:waypoint x=\"907\" xsi:type=\"omgdc:Point\" y=\"164\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"806.5\" y=\"142.5\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"ExclusiveGateway_0wdiud4\" id=\"ExclusiveGateway_0wdiud4_di\" isMarkerVisible=\"true\"\u003e\u003comgdc:Bounds height=\"50\" width=\"50\" x=\"531\" y=\"139\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"511\" y=\"192\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_09yu1ov\" id=\"SequenceFlow_09yu1ov_di\"\u003e\u003comgdi:waypoint x=\"581\" xsi:type=\"omgdc:Point\" y=\"164\"/\u003e\u003comgdi:waypoint x=\"696\" xsi:type=\"omgdc:Point\" y=\"164\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"593.5\" y=\"142.5\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_086gvnp\" id=\"SequenceFlow_086gvnp_di\"\u003e\u003comgdi:waypoint x=\"556\" xsi:type=\"omgdc:Point\" y=\"189\"/\u003e\u003comgdi:waypoint x=\"556\" xsi:type=\"omgdc:Point\" y=\"226\"/\u003e\u003comgdi:waypoint x=\"925\" xsi:type=\"omgdc:Point\" y=\"226\"/\u003e\u003comgdi:waypoint x=\"925\" xsi:type=\"omgdc:Point\" y=\"182\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"695.5\" y=\"204.5\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"TextAnnotation_0vkdpzv\" id=\"TextAnnotation_0vkdpzv_di\"\u003e\u003comgdc:Bounds height=\"41\" width=\"115\" x=\"608\" y=\"45\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Association_1ep6w9m\" id=\"Association_1ep6w9m_di\"\u003e\u003comgdi:waypoint x=\"714\" xsi:type=\"omgdc:Point\" y=\"124\"/\u003e\u003comgdi:waypoint x=\"683\" xsi:type=\"omgdc:Point\" y=\"86\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"TextAnnotation_0jipvla\" id=\"TextAnnotation_0jipvla_di\"\u003e\u003comgdc:Bounds height=\"64\" width=\"133\" x=\"400\" y=\"214\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Association_0g1ue2n\" id=\"Association_0g1ue2n_di\"\u003e\u003comgdi:waypoint x=\"543\" xsi:type=\"omgdc:Point\" y=\"176\"/\u003e\u003comgdi:waypoint x=\"501\" xsi:type=\"omgdc:Point\" y=\"214\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"TextAnnotation_06fb0ci\" id=\"TextAnnotation_06fb0ci_di\"\u003e\u003comgdc:Bounds height=\"53\" width=\"132\" x=\"783\" y=\"39\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Association_0e4uqhh\" id=\"Association_0e4uqhh_di\"\u003e\u003comgdi:waypoint x=\"787\" xsi:type=\"omgdc:Point\" y=\"125\"/\u003e\u003comgdi:waypoint x=\"822\" xsi:type=\"omgdc:Point\" y=\"92\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003c/bpmndi:BPMNPlane\u003e\u003c/bpmndi:BPMNDiagram\u003e\u003c/definitions\u003e"
      },
      "content_version": 21,
      "creator_id": "70c20070-0fb3-454a-a8db-5f172c3c754d",
      "description": "An example workflow showing how to close a Record in ServiceNow that is related to a SOAR Incident from the ServiceNow Records Data Table",
      "export_key": "example_snow_close_record_from_data_table",
      "last_modified_by": "admin@example.com",
      "last_modified_time": 1645125880061,
      "name": "Example: SNOW: Close Record from Data Table",
      "object_type": "sn_records_dt",
      "programmatic_name": "example_snow_close_record_from_data_table",
      "tags": [],
      "uuid": "f6f058b5-9315-473c-83a4-17dfcb772bb0",
      "workflow_id": 58
    },
    {
      "actions": [],
      "content": {
        "version": 26,
        "workflow_id": "example_snow_create_record_incident",
        "xml": "\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\u003cdefinitions xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:resilient=\"http://resilient.ibm.com/bpmn\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" targetNamespace=\"http://www.camunda.org/test\"\u003e\u003cprocess id=\"example_snow_create_record_incident\" isExecutable=\"true\" name=\"Example: SNOW: Create Record [Incident]\"\u003e\u003cdocumentation\u003eAn example workflow showing how to create a ServiceNow Record from a SOAR Incident.\u003c/documentation\u003e\u003cstartEvent id=\"StartEvent_155asxm\"\u003e\u003coutgoing\u003eSequenceFlow_1x6d8n1\u003c/outgoing\u003e\u003c/startEvent\u003e\u003cserviceTask id=\"ServiceTask_1dvehnq\" name=\"SNOW: Create Record\" resilient:type=\"function\"\u003e\u003cextensionElements\u003e\u003cresilient:function uuid=\"041fa8ca-70bb-44b1-996b-88f61a8a0671\"\u003e{\"inputs\":{},\"post_processing_script\":\"# Example: SNOW: Create Record [Incident] post-processing script\\n\\nif results.success:\\n\\n  # Set incident fields sn_snow_record_id and sn_snow_record_link\\n  incident.sn_snow_record_id = results.sn_ref_id\\n  incident.sn_snow_record_link = \\\"\\\"\\\"\u0026lt;a href=\u0027{0}\u0027\u0026gt;Link\u0026lt;/a\u0026gt;\\\"\\\"\\\".format(results.sn_record_link)\\n  \\n  noteText = \\\"\\\"\\\"\u0026lt;br\u0026gt;This Incident has been created in \u0026lt;b\u0026gt;ServiceNow\u0026lt;/b\u0026gt;\\n              \u0026lt;br\u0026gt;\u0026lt;b\u0026gt;ServiceNow ID:\u0026lt;/b\u0026gt;  {0}\\n              \u0026lt;br\u0026gt;\u0026lt;b\u0026gt;ServiceNow Link:\u0026lt;/b\u0026gt; \u0026lt;a href=\u0027{1}\u0027\u0026gt;{1}\u0026lt;/a\u0026gt;\\\"\\\"\\\".format(results.sn_ref_id, results.sn_record_link)\\n\\n  incident.addNote(helper.createRichText(noteText))\",\"post_processing_script_language\":\"python\",\"pre_processing_script\":\"# Example: SNOW: Create Record [Incident] pre-processing script\\n\\n#######################################\\n### Define pre-processing functions ###\\n#######################################\\ndef dict_to_json_str(d):\\n  \\\"\\\"\\\"Function that converts a dictionary into a JSON string.\\n     Supports types: basestring, bool, int and nested dicts.\\n     Does not support lists.\\n     If the value is None, it sets it to False.\\\"\\\"\\\"\\n\\n  json_entry = u\u0027\\\"{0}\\\":{1}\u0027\\n  json_entry_str = u\u0027\\\"{0}\\\":\\\"{1}\\\"\u0027\\n  entries = [] \\n\\n  for entry in d:\\n    key = entry\\n    value = d[entry]\\n\\n    if value is None:\\n      value = False\\n\\n    if isinstance(value, list):\\n      helper.fail(\u0027dict_to_json_str does not support Python Lists\u0027)\\n\\n    if isinstance(value, basestring):\\n      value = value.replace(u\u0027\\\"\u0027, u\u0027\\\\\\\\\\\"\u0027)\\n      entries.append(json_entry_str.format(unicode(key), unicode(value)))\\n      \\n    elif isinstance(value, unicode):\\n      entries.append(json_entry.format(unicode(key), unicode(value)))\\n    \\n    elif isinstance(value, bool):\\n      value = \u0027true\u0027 if value == True else \u0027false\u0027\\n      entries.append(json_entry.format(key, value))\\n\\n    elif isinstance(value, int):\\n      entries.append(json_entry.format(unicode(key), value))\\n\\n    elif isinstance(value, dict):\\n      entries.append(json_entry.format(key, dict_to_json_str(value)))\\n\\n    else:\\n      helper.fail(\u0027dict_to_json_str does not support this type: {0}\u0027.format(type(value)))\\n\\n  return u\u0027{0} {1} {2}\u0027.format(u\u0027{\u0027, \u0027,\u0027.join(entries), u\u0027}\u0027)\\n\\n# Map IBM SOAR severity values to ServiceNow severity values\\nsn_severity_map = {\\n  \\\"High\\\": 1,\\n  \\\"Medium\\\": 2,\\n  \\\"Low\\\": 3\\n}\\n\\n#####################\\n### Define Inputs ###\\n#####################\\n\\n# Default text of the initial note added to the ServiceNow Record\\ninit_snow_note_text = u\\\"\\\"\\\"Record created from a IBM SOAR Incident ID: {0}.\\n                          Severity: {1}\\n                          Incident Type(s): {2}\\\"\\\"\\\".format(incident.id, incident.severity_code, u\\\", \\\".join(incident.incident_type_ids))\\n\\n# If the user adds a comment when they invoke the rule, that comment gets concatenated here\\nif rule.properties.sn_initial_note.content is not None:\\n  init_snow_note_text = u\\\"{0}\\\\n\\\\n{1}\\\".format(init_snow_note_text, unicode(rule.properties.sn_initial_note.content))\\n\\n# ID of this incident\\ninputs.incident_id = incident.id\\n\\n# Initial work note to attach to created ServiceNow Record\\ninputs.sn_init_work_note = init_snow_note_text\\n\\n# Any further information you want to send to ServiceNow. Each Key/Value pair is attached to the Request object and accessible in ServiceNow.\\n# ServiceNow Example:: setValue(\u0027assignment_group\u0027, request.body.data.sn_optional_fields.assignment_group)\\n# For SIR tables it is recommended to map \\\"business_criticality\\\" to sn_severity_map as that is visible in the SNOW query_builder\\n# (see the example commented out below)\\ninputs.sn_optional_fields = dict_to_json_str({\\n  \\\"short_description\\\": u\\\"RES-{0}: {1}\\\".format(incident.id, unicode(incident.name)),\\n  \\\"severity\\\": sn_severity_map[incident.severity_code],\\n  #\\\"business_criticality\\\": sn_severity_map[incident.severity_code],\\n  \\\"assignment_group\\\": workflow.properties.assignment_group.sys_id,\\n  \\\"caller_id\\\": workflow.properties.caller_id.sys_id\\n})\",\"pre_processing_script_language\":\"python\"}\u003c/resilient:function\u003e\u003c/extensionElements\u003e\u003cincoming\u003eSequenceFlow_0egkcnl\u003c/incoming\u003e\u003coutgoing\u003eSequenceFlow_1j375d8\u003c/outgoing\u003e\u003c/serviceTask\u003e\u003cendEvent id=\"EndEvent_0b5o1fk\"\u003e\u003cincoming\u003eSequenceFlow_1j375d8\u003c/incoming\u003e\u003c/endEvent\u003e\u003csequenceFlow id=\"SequenceFlow_1j375d8\" sourceRef=\"ServiceTask_1dvehnq\" targetRef=\"EndEvent_0b5o1fk\"/\u003e\u003csequenceFlow id=\"SequenceFlow_1x6d8n1\" sourceRef=\"StartEvent_155asxm\" targetRef=\"ServiceTask_0nrkusi\"/\u003e\u003cserviceTask id=\"ServiceTask_0nrkusi\" name=\"SNOW: Lookup sys_id\" resilient:type=\"function\"\u003e\u003cextensionElements\u003e\u003cresilient:function uuid=\"e5abf91c-57f6-4d01-bd5a-50bfe261cb01\"\u003e{\"inputs\":{},\"post_processing_script_language\":\"python3\",\"pre_processing_script\":\"# SN Utilities: Get sys_id pre-processing script\\n\\n#####################\\n### Define inputs ###\\n#####################\\n\\n# The table in ServiceNow to query\\ninputs.sn_table_name = \\\"sys_user_group\\\"\\n\\n# The name of the field/table column to query\\ninputs.sn_query_field = \\\"name\\\"\\n\\n# The value to equate the cell to\\n# Get the group name from the Rule Activity Field with:\\ninputs.sn_query_value = rule.properties.sn_assignment_group\\n\\n## OR Set group name statically with:\\n## inputs.sn_query_value = \\\"IT Securities\\\"\",\"pre_processing_script_language\":\"python\",\"result_name\":\"assignment_group\"}\u003c/resilient:function\u003e\u003c/extensionElements\u003e\u003cincoming\u003eSequenceFlow_1x6d8n1\u003c/incoming\u003e\u003coutgoing\u003eSequenceFlow_1msptt5\u003c/outgoing\u003e\u003c/serviceTask\u003e\u003csequenceFlow id=\"SequenceFlow_1msptt5\" sourceRef=\"ServiceTask_0nrkusi\" targetRef=\"ServiceTask_1b71do0\"/\u003e\u003cserviceTask id=\"ServiceTask_1b71do0\" name=\"SNOW: Lookup sys_id\" resilient:type=\"function\"\u003e\u003cextensionElements\u003e\u003cresilient:function uuid=\"e5abf91c-57f6-4d01-bd5a-50bfe261cb01\"\u003e{\"inputs\":{},\"pre_processing_script\":\"# SN Utilities: Get sys_id pre-processing script\\n\\n#####################\\n### Define inputs ###\\n#####################\\n\\n# The table in ServiceNow to query\\ninputs.sn_table_name = \\\"sys_user\\\"\\n\\n# The name of the field/table column to query\\ninputs.sn_query_field = \\\"user_name\\\"\\n\\n# The value to equate the cell to\\ninputs.sn_query_value = \\\"ibmresilient\\\" #our integrations user in ServiceNow\",\"pre_processing_script_language\":\"python\",\"result_name\":\"caller_id\"}\u003c/resilient:function\u003e\u003c/extensionElements\u003e\u003cincoming\u003eSequenceFlow_1msptt5\u003c/incoming\u003e\u003coutgoing\u003eSequenceFlow_0egkcnl\u003c/outgoing\u003e\u003c/serviceTask\u003e\u003csequenceFlow id=\"SequenceFlow_0egkcnl\" sourceRef=\"ServiceTask_1b71do0\" targetRef=\"ServiceTask_1dvehnq\"/\u003e\u003ctextAnnotation id=\"TextAnnotation_0xny189\"\u003e\u003ctext\u003e\u003c![CDATA[Inputs: incident_id, sn_initial_work_note, sn_optional_fields\n]]\u003e\u003c/text\u003e\u003c/textAnnotation\u003e\u003cassociation id=\"Association_0viq9c4\" sourceRef=\"ServiceTask_1dvehnq\" targetRef=\"TextAnnotation_0xny189\"/\u003e\u003ctextAnnotation id=\"TextAnnotation_051aem5\"\u003e\u003ctext\u003e\u003c![CDATA[Creates a Record in ServiceNow, updates Incident fields and adds a Note to IBM SOAR\n]]\u003e\u003c/text\u003e\u003c/textAnnotation\u003e\u003cassociation id=\"Association_1ln29se\" sourceRef=\"ServiceTask_1dvehnq\" targetRef=\"TextAnnotation_051aem5\"/\u003e\u003ctextAnnotation id=\"TextAnnotation_0fqg3l6\"\u003e\u003ctext\u003e\u003c![CDATA[Gets ServiceNow sys_id for specified assignment_group\n]]\u003e\u003c/text\u003e\u003c/textAnnotation\u003e\u003cassociation id=\"Association_0kz1qv5\" sourceRef=\"ServiceTask_0nrkusi\" targetRef=\"TextAnnotation_0fqg3l6\"/\u003e\u003ctextAnnotation id=\"TextAnnotation_1liwjht\"\u003e\u003ctext\u003e\u003c![CDATA[Gets ServiceNow sys_id for specified user_name\n]]\u003e\u003c/text\u003e\u003c/textAnnotation\u003e\u003cassociation id=\"Association_1iqt7rp\" sourceRef=\"ServiceTask_1b71do0\" targetRef=\"TextAnnotation_1liwjht\"/\u003e\u003c/process\u003e\u003cbpmndi:BPMNDiagram id=\"BPMNDiagram_1\"\u003e\u003cbpmndi:BPMNPlane bpmnElement=\"undefined\" id=\"BPMNPlane_1\"\u003e\u003cbpmndi:BPMNShape bpmnElement=\"StartEvent_155asxm\" id=\"StartEvent_155asxm_di\"\u003e\u003comgdc:Bounds height=\"36\" width=\"36\" x=\"162\" y=\"188\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"0\" width=\"90\" x=\"157\" y=\"223\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNShape bpmnElement=\"ServiceTask_1dvehnq\" id=\"ServiceTask_1dvehnq_di\"\u003e\u003comgdc:Bounds height=\"80\" width=\"100\" x=\"705\" y=\"166\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNShape bpmnElement=\"EndEvent_0b5o1fk\" id=\"EndEvent_0b5o1fk_di\"\u003e\u003comgdc:Bounds height=\"36\" width=\"36\" x=\"937\" y=\"188\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"910\" y=\"227\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1j375d8\" id=\"SequenceFlow_1j375d8_di\"\u003e\u003comgdi:waypoint x=\"805\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003comgdi:waypoint x=\"937\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"826\" y=\"184.5\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1x6d8n1\" id=\"SequenceFlow_1x6d8n1_di\"\u003e\u003comgdi:waypoint x=\"198\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003comgdi:waypoint x=\"244\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"176\" y=\"184.5\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"ServiceTask_0nrkusi\" id=\"ServiceTask_0nrkusi_di\"\u003e\u003comgdc:Bounds height=\"80\" width=\"100\" x=\"244\" y=\"166\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1msptt5\" id=\"SequenceFlow_1msptt5_di\"\u003e\u003comgdi:waypoint x=\"344\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003comgdi:waypoint x=\"465\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"359.5\" y=\"184.5\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"ServiceTask_1b71do0\" id=\"ServiceTask_1b71do0_di\"\u003e\u003comgdc:Bounds height=\"80\" width=\"100\" x=\"465\" y=\"166\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0egkcnl\" id=\"SequenceFlow_0egkcnl_di\"\u003e\u003comgdi:waypoint x=\"565\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003comgdi:waypoint x=\"705\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"590\" y=\"184.5\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"TextAnnotation_0xny189\" id=\"TextAnnotation_0xny189_di\"\u003e\u003comgdc:Bounds height=\"54\" width=\"131\" x=\"586\" y=\"60\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Association_0viq9c4\" id=\"Association_0viq9c4_di\"\u003e\u003comgdi:waypoint x=\"721\" xsi:type=\"omgdc:Point\" y=\"166\"/\u003e\u003comgdi:waypoint x=\"675\" xsi:type=\"omgdc:Point\" y=\"114\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"TextAnnotation_051aem5\" id=\"TextAnnotation_051aem5_di\"\u003e\u003comgdc:Bounds height=\"74\" width=\"162\" x=\"819\" y=\"50\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Association_1ln29se\" id=\"Association_1ln29se_di\"\u003e\u003comgdi:waypoint x=\"799\" xsi:type=\"omgdc:Point\" y=\"170\"/\u003e\u003comgdi:waypoint x=\"856\" xsi:type=\"omgdc:Point\" y=\"124\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"TextAnnotation_0fqg3l6\" id=\"TextAnnotation_0fqg3l6_di\"\u003e\u003comgdc:Bounds height=\"53\" width=\"151\" x=\"156\" y=\"60\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Association_0kz1qv5\" id=\"Association_0kz1qv5_di\"\u003e\u003comgdi:waypoint x=\"273\" xsi:type=\"omgdc:Point\" y=\"166\"/\u003e\u003comgdi:waypoint x=\"246\" xsi:type=\"omgdc:Point\" y=\"113\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"TextAnnotation_1liwjht\" id=\"TextAnnotation_1liwjht_di\"\u003e\u003comgdc:Bounds height=\"48\" width=\"133\" x=\"418\" y=\"283\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Association_1iqt7rp\" id=\"Association_1iqt7rp_di\"\u003e\u003comgdi:waypoint x=\"503\" xsi:type=\"omgdc:Point\" y=\"246\"/\u003e\u003comgdi:waypoint x=\"493\" xsi:type=\"omgdc:Point\" y=\"283\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003c/bpmndi:BPMNPlane\u003e\u003c/bpmndi:BPMNDiagram\u003e\u003c/definitions\u003e"
      },
      "content_version": 26,
      "creator_id": "70c20070-0fb3-454a-a8db-5f172c3c754d",
      "description": "An example workflow showing how to create a ServiceNow Record from a SOAR Incident.",
      "export_key": "example_snow_create_record_incident",
      "last_modified_by": "70c20070-0fb3-454a-a8db-5f172c3c754d",
      "last_modified_time": 1645113791119,
      "name": "Example: SNOW: Create Record [Incident]",
      "object_type": "incident",
      "programmatic_name": "example_snow_create_record_incident",
      "tags": [],
      "uuid": "2f98c935-cf04-4ffb-8b43-b622442d562d",
      "workflow_id": 60
    },
    {
      "actions": [],
      "content": {
        "version": 12,
        "workflow_id": "example_snow_update_datatable_on_status_change_incident",
        "xml": "\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\u003cdefinitions xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:resilient=\"http://resilient.ibm.com/bpmn\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" targetNamespace=\"http://www.camunda.org/test\"\u003e\u003cprocess id=\"example_snow_update_datatable_on_status_change_incident\" isExecutable=\"true\" name=\"Example: SNOW: Update Data Table on Status Change [Incident]\"\u003e\u003cdocumentation\u003e\u003c![CDATA[An example workflow that updates the \u0027ServiceNow Records\u0027 Data Table when an Incident status is changed.]]\u003e\u003c/documentation\u003e\u003cstartEvent id=\"StartEvent_155asxm\"\u003e\u003coutgoing\u003eSequenceFlow_0jbfqxg\u003c/outgoing\u003e\u003c/startEvent\u003e\u003cendEvent id=\"EndEvent_12mdvtd\"\u003e\u003cincoming\u003eSequenceFlow_0ul6ikp\u003c/incoming\u003e\u003c/endEvent\u003e\u003csequenceFlow id=\"SequenceFlow_0jbfqxg\" sourceRef=\"StartEvent_155asxm\" targetRef=\"ServiceTask_02i87kv\"/\u003e\u003cserviceTask id=\"ServiceTask_02i87kv\" name=\"SN Utilities: Update Datatable\" resilient:type=\"function\"\u003e\u003cextensionElements\u003e\u003cresilient:function uuid=\"6130c083-17ea-4262-986b-8d073d3f7328\"\u003e{\"inputs\":{},\"pre_processing_script\":\"# Example: SNOW: Update Data Table on Status Change [Incident]\\n\\n####################################\\n### Define pre-processing inputs ###\\n####################################\\n\\n# Get the incident id\\ninputs.incident_id = incident.id\\n\\n# Get the new status of the incident\\ninputs.sn_resilient_status = incident.plan_status\"}\u003c/resilient:function\u003e\u003c/extensionElements\u003e\u003cincoming\u003eSequenceFlow_0jbfqxg\u003c/incoming\u003e\u003coutgoing\u003eSequenceFlow_0ul6ikp\u003c/outgoing\u003e\u003c/serviceTask\u003e\u003csequenceFlow id=\"SequenceFlow_0ul6ikp\" sourceRef=\"ServiceTask_02i87kv\" targetRef=\"EndEvent_12mdvtd\"/\u003e\u003ctextAnnotation id=\"TextAnnotation_0r0hq4n\"\u003e\u003ctext\u003e\u003c![CDATA[Inputs: incident_id, sn_resilient_status\n]]\u003e\u003c/text\u003e\u003c/textAnnotation\u003e\u003cassociation id=\"Association_0n7acrh\" sourceRef=\"ServiceTask_02i87kv\" targetRef=\"TextAnnotation_0r0hq4n\"/\u003e\u003ctextAnnotation id=\"TextAnnotation_09nvj30\"\u003e\u003ctext\u003e\u003c![CDATA[Updates the status in the Data Table\n]]\u003e\u003c/text\u003e\u003c/textAnnotation\u003e\u003cassociation id=\"Association_1on2pz0\" sourceRef=\"ServiceTask_02i87kv\" targetRef=\"TextAnnotation_09nvj30\"/\u003e\u003c/process\u003e\u003cbpmndi:BPMNDiagram id=\"BPMNDiagram_1\"\u003e\u003cbpmndi:BPMNPlane bpmnElement=\"undefined\" id=\"BPMNPlane_1\"\u003e\u003cbpmndi:BPMNShape bpmnElement=\"StartEvent_155asxm\" id=\"StartEvent_155asxm_di\"\u003e\u003comgdc:Bounds height=\"36\" width=\"36\" x=\"162\" y=\"188\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"0\" width=\"90\" x=\"157\" y=\"223\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNShape bpmnElement=\"EndEvent_12mdvtd\" id=\"EndEvent_12mdvtd_di\"\u003e\u003comgdc:Bounds height=\"36\" width=\"36\" x=\"538\" y=\"188\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"0\" x=\"556\" y=\"227\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0jbfqxg\" id=\"SequenceFlow_0jbfqxg_di\"\u003e\u003comgdi:waypoint x=\"198\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003comgdi:waypoint x=\"317\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"0\" x=\"257.5\" y=\"184.5\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"ServiceTask_02i87kv\" id=\"ServiceTask_02i87kv_di\"\u003e\u003comgdc:Bounds height=\"80\" width=\"100\" x=\"317\" y=\"166\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0ul6ikp\" id=\"SequenceFlow_0ul6ikp_di\"\u003e\u003comgdi:waypoint x=\"417\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003comgdi:waypoint x=\"538\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"0\" x=\"477.5\" y=\"184\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"TextAnnotation_0r0hq4n\" id=\"TextAnnotation_0r0hq4n_di\"\u003e\u003comgdc:Bounds height=\"53\" width=\"126\" x=\"195\" y=\"81\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Association_0n7acrh\" id=\"Association_0n7acrh_di\"\u003e\u003comgdi:waypoint x=\"325\" xsi:type=\"omgdc:Point\" y=\"168\"/\u003e\u003comgdi:waypoint x=\"287\" xsi:type=\"omgdc:Point\" y=\"134\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"TextAnnotation_09nvj30\" id=\"TextAnnotation_09nvj30_di\"\u003e\u003comgdc:Bounds height=\"45\" width=\"132\" x=\"425\" y=\"78\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Association_1on2pz0\" id=\"Association_1on2pz0_di\"\u003e\u003comgdi:waypoint x=\"410\" xsi:type=\"omgdc:Point\" y=\"169\"/\u003e\u003comgdi:waypoint x=\"465\" xsi:type=\"omgdc:Point\" y=\"123\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003c/bpmndi:BPMNPlane\u003e\u003c/bpmndi:BPMNDiagram\u003e\u003c/definitions\u003e"
      },
      "content_version": 12,
      "creator_id": "70c20070-0fb3-454a-a8db-5f172c3c754d",
      "description": "An example workflow that updates the \u0027ServiceNow Records\u0027 Data Table when an Incident status is changed.",
      "export_key": "example_snow_update_datatable_on_status_change_incident",
      "last_modified_by": "70c20070-0fb3-454a-a8db-5f172c3c754d",
      "last_modified_time": 1645113791851,
      "name": "Example: SNOW: Update Data Table on Status Change [Incident]",
      "object_type": "incident",
      "programmatic_name": "example_snow_update_datatable_on_status_change_incident",
      "tags": [],
      "uuid": "2e437446-9ec5-44e0-91fd-72f18c6a020c",
      "workflow_id": 64
    },
    {
      "actions": [],
      "content": {
        "version": 14,
        "workflow_id": "example_snow_update_record_on_severity_change",
        "xml": "\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\u003cdefinitions xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:resilient=\"http://resilient.ibm.com/bpmn\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" targetNamespace=\"http://www.camunda.org/test\"\u003e\u003cprocess id=\"example_snow_update_record_on_severity_change\" isExecutable=\"true\" name=\"Example: [INC] SNOW Update Record on Severity Change\"\u003e\u003cdocumentation\u003e\u003c![CDATA[An example workflow that, when an Incident\u0027s severity is changed, updates its associated ServiceNow Record\u0027s severity and adds a Work Note to the Record]]\u003e\u003c/documentation\u003e\u003cstartEvent id=\"StartEvent_155asxm\"\u003e\u003coutgoing\u003eSequenceFlow_1proo8q\u003c/outgoing\u003e\u003c/startEvent\u003e\u003cendEvent id=\"EndEvent_06mgtvg\"\u003e\u003cincoming\u003eSequenceFlow_0j5l1eb\u003c/incoming\u003e\u003c/endEvent\u003e\u003csequenceFlow id=\"SequenceFlow_1proo8q\" sourceRef=\"StartEvent_155asxm\" targetRef=\"ServiceTask_0od8bcy\"/\u003e\u003cserviceTask id=\"ServiceTask_0od8bcy\" name=\"SNOW: Update Record\" resilient:type=\"function\"\u003e\u003cextensionElements\u003e\u003cresilient:function uuid=\"95d7d4df-0ec8-4dbd-bbcf-9759b23930eb\"\u003e{\"inputs\":{},\"post_processing_script\":\"\\n# Add a Note to the Incident\\nnote_text = u\\\"The Severity of this Incident was updated to {0} in IBM SOAR\\\".format(incident.severity_code)\\nincident.addNote(note_text)\",\"post_processing_script_language\":\"python\",\"pre_processing_script\":\"# Example: SNOW Update Record on Severity Change\\n\\n#######################################\\n### Define pre-processing functions ###\\n#######################################\\ndef dict_to_json_str(d):\\n  \\\"\\\"\\\"Function that converts a dictionary into a JSON string.\\n     Supports types: basestring, bool, int and nested dicts.\\n     Does not support lists.\\n     If the value is None, it sets it to False.\\\"\\\"\\\"\\n\\n  json_entry = u\u0027\\\"{0}\\\":{1}\u0027\\n  json_entry_str = u\u0027\\\"{0}\\\":\\\"{1}\\\"\u0027\\n  entries = [] \\n\\n  for entry in d:\\n    key = entry\\n    value = d[entry]\\n\\n    if value is None:\\n      value = False\\n\\n    if isinstance(value, list):\\n      helper.fail(\u0027dict_to_json_str does not support Python Lists\u0027)\\n\\n    if isinstance(value, basestring):\\n      value = value.replace(u\u0027\\\"\u0027, u\u0027\\\\\\\\\\\"\u0027)\\n      entries.append(json_entry_str.format(unicode(key), unicode(value)))\\n      \\n    elif isinstance(value, unicode):\\n      entries.append(json_entry.format(unicode(key), unicode(value)))\\n    \\n    elif isinstance(value, bool):\\n      value = \u0027true\u0027 if value == True else \u0027false\u0027\\n      entries.append(json_entry.format(key, value))\\n\\n    elif isinstance(value, int):\\n      entries.append(json_entry.format(unicode(key), value))\\n\\n    elif isinstance(value, dict):\\n      entries.append(json_entry.format(key, dict_to_json_str(value)))\\n\\n    else:\\n      helper.fail(\u0027dict_to_json_str does not support this type: {0}\u0027.format(type(value)))\\n\\n  return u\u0027{0} {1} {2}\u0027.format(u\u0027{\u0027, \u0027,\u0027.join(entries), u\u0027}\u0027)\\n\\n# Map IBM SOAR severity values to ServiceNow severity values\\nsn_severity_map = {\\n  \\\"High\\\": 1,\\n  \\\"Medium\\\": 2,\\n  \\\"Low\\\": 3\\n}\\n\\n#####################\\n### Define Inputs ###\\n#####################\\n\\n# Get the id of this incident\\ninputs.incident_id = incident.id\\n\\n# List all the fields you want to update in the ServiceNow Record here with the ServiceNow field_name being the key\\ninputs.sn_update_fields = dict_to_json_str({\\n  \\\"severity\\\": sn_severity_map[incident.severity_code],\\n})\",\"pre_processing_script_language\":\"python\",\"result_name\":\"\"}\u003c/resilient:function\u003e\u003c/extensionElements\u003e\u003cincoming\u003eSequenceFlow_1proo8q\u003c/incoming\u003e\u003coutgoing\u003eSequenceFlow_0vmidoa\u003c/outgoing\u003e\u003c/serviceTask\u003e\u003csequenceFlow id=\"SequenceFlow_0vmidoa\" sourceRef=\"ServiceTask_0od8bcy\" targetRef=\"ServiceTask_1ja1bom\"/\u003e\u003cserviceTask id=\"ServiceTask_1ja1bom\" name=\"SNOW: Add Note to Record\" resilient:type=\"function\"\u003e\u003cextensionElements\u003e\u003cresilient:function uuid=\"c43f8cc1-5cdc-41a6-a6b0-fa59dd32df36\"\u003e{\"inputs\":{\"19d5e854-dc64-43d4-9a39-7be914920ad6\":{\"input_type\":\"static\",\"static_input\":{\"multiselect_value\":[],\"select_value\":\"c65de77d-f6b2-4c19-94eb-cdfa5cf5037f\"}}},\"post_processing_script_language\":\"python3\",\"pre_processing_script\":\"#####################\\n### Define Inputs ###\\n#####################\\n\\ninputs.incident_id = incident.id\\n\\ninputs.sn_note_text = u\\\"The Severity of this Incident was updated to {0} in IBM SOAR\\\".format(incident.severity_code)\",\"pre_processing_script_language\":\"python\"}\u003c/resilient:function\u003e\u003c/extensionElements\u003e\u003cincoming\u003eSequenceFlow_0vmidoa\u003c/incoming\u003e\u003coutgoing\u003eSequenceFlow_0j5l1eb\u003c/outgoing\u003e\u003c/serviceTask\u003e\u003csequenceFlow id=\"SequenceFlow_0j5l1eb\" sourceRef=\"ServiceTask_1ja1bom\" targetRef=\"EndEvent_06mgtvg\"/\u003e\u003ctextAnnotation id=\"TextAnnotation_0a4uha4\"\u003e\u003ctext\u003e\u003c![CDATA[Updates the Severity of the ServiceNow Record\n]]\u003e\u003c/text\u003e\u003c/textAnnotation\u003e\u003cassociation id=\"Association_1yndtqt\" sourceRef=\"ServiceTask_0od8bcy\" targetRef=\"TextAnnotation_0a4uha4\"/\u003e\u003ctextAnnotation id=\"TextAnnotation_0vewdhl\"\u003e\u003ctext\u003e\u003c![CDATA[Adds a Work Note to the ServiceNow Record detailing the Severity change\n]]\u003e\u003c/text\u003e\u003c/textAnnotation\u003e\u003cassociation id=\"Association_0vxb7px\" sourceRef=\"ServiceTask_1ja1bom\" targetRef=\"TextAnnotation_0vewdhl\"/\u003e\u003c/process\u003e\u003cbpmndi:BPMNDiagram id=\"BPMNDiagram_1\"\u003e\u003cbpmndi:BPMNPlane bpmnElement=\"undefined\" id=\"BPMNPlane_1\"\u003e\u003cbpmndi:BPMNShape bpmnElement=\"StartEvent_155asxm\" id=\"StartEvent_155asxm_di\"\u003e\u003comgdc:Bounds height=\"36\" width=\"36\" x=\"162\" y=\"188\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"0\" width=\"90\" x=\"157\" y=\"223\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNShape bpmnElement=\"EndEvent_06mgtvg\" id=\"EndEvent_06mgtvg_di\"\u003e\u003comgdc:Bounds height=\"36\" width=\"36\" x=\"664\" y=\"188\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"0\" x=\"682\" y=\"227\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1proo8q\" id=\"SequenceFlow_1proo8q_di\"\u003e\u003comgdi:waypoint x=\"198\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003comgdi:waypoint x=\"291\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"199.5\" y=\"184.5\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"ServiceTask_0od8bcy\" id=\"ServiceTask_0od8bcy_di\"\u003e\u003comgdc:Bounds height=\"80\" width=\"100\" x=\"291\" y=\"166\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0vmidoa\" id=\"SequenceFlow_0vmidoa_di\"\u003e\u003comgdi:waypoint x=\"391\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003comgdi:waypoint x=\"484\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"392.5\" y=\"184.5\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"ServiceTask_1ja1bom\" id=\"ServiceTask_1ja1bom_di\"\u003e\u003comgdc:Bounds height=\"80\" width=\"100\" x=\"484\" y=\"166\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0j5l1eb\" id=\"SequenceFlow_0j5l1eb_di\"\u003e\u003comgdi:waypoint x=\"584\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003comgdi:waypoint x=\"664\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"0\" x=\"624\" y=\"184.5\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"TextAnnotation_0a4uha4\" id=\"TextAnnotation_0a4uha4_di\"\u003e\u003comgdc:Bounds height=\"53\" width=\"141\" x=\"222\" y=\"47\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Association_1yndtqt\" id=\"Association_1yndtqt_di\"\u003e\u003comgdi:waypoint x=\"326\" xsi:type=\"omgdc:Point\" y=\"166\"/\u003e\u003comgdi:waypoint x=\"302\" xsi:type=\"omgdc:Point\" y=\"100\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"TextAnnotation_0vewdhl\" id=\"TextAnnotation_0vewdhl_di\"\u003e\u003comgdc:Bounds height=\"62\" width=\"169\" x=\"561\" y=\"43\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Association_0vxb7px\" id=\"Association_0vxb7px_di\"\u003e\u003comgdi:waypoint x=\"568\" xsi:type=\"omgdc:Point\" y=\"166\"/\u003e\u003comgdi:waypoint x=\"620\" xsi:type=\"omgdc:Point\" y=\"105\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003c/bpmndi:BPMNPlane\u003e\u003c/bpmndi:BPMNDiagram\u003e\u003c/definitions\u003e"
      },
      "content_version": 14,
      "creator_id": "admin@example.com",
      "description": "An example workflow that, when an Incident\u0027s severity is changed, updates its associated ServiceNow Record\u0027s severity and adds a Work Note to the Record",
      "export_key": "example_snow_update_record_on_severity_change",
      "last_modified_by": "70c20070-0fb3-454a-a8db-5f172c3c754d",
      "last_modified_time": 1645113790936,
      "name": "Example: [INC] SNOW Update Record on Severity Change",
      "object_type": "incident",
      "programmatic_name": "example_snow_update_record_on_severity_change",
      "tags": [],
      "uuid": "3a357210-0750-46aa-ae45-92112ed80d78",
      "workflow_id": 59
    },
    {
      "actions": [],
      "content": {
        "version": 21,
        "workflow_id": "example_snow_close_record_task",
        "xml": "\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\u003cdefinitions xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:resilient=\"http://resilient.ibm.com/bpmn\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" targetNamespace=\"http://www.camunda.org/test\"\u003e\u003cprocess id=\"example_snow_close_record_task\" isExecutable=\"true\" name=\"Example: SNOW: Close Record [Task]\"\u003e\u003cdocumentation\u003eAn example workflow showing how to close a Record in ServiceNow from a SOAR Task.\u003c/documentation\u003e\u003cstartEvent id=\"StartEvent_155asxm\"\u003e\u003coutgoing\u003eSequenceFlow_0d905b5\u003c/outgoing\u003e\u003c/startEvent\u003e\u003cserviceTask id=\"ServiceTask_1rkglvs\" name=\"SNOW: Close Record\" resilient:type=\"function\"\u003e\u003cextensionElements\u003e\u003cresilient:function uuid=\"edadf951-4652-48a9-8068-9b719bf4bfe4\"\u003e{\"inputs\":{},\"post_processing_script\":\"# Example: SNOW: Close Record [Task] - post-processing script\\n\\nnote_text = None\\n\\nif results.success:\\n\\n  note_text = u\\\"\\\"\\\"\u0026lt;br\u0026gt;This Task has been updated in \u0026lt;b\u0026gt;ServiceNow\u0026lt;/b\u0026gt;\\n              \u0026lt;br\u0026gt;\u0026lt;b\u0026gt;ServiceNow ID:\u0026lt;/b\u0026gt; {0}\\n              \u0026lt;br\u0026gt;\u0026lt;b\u0026gt;ServiceNow Record State:\u0026lt;/b\u0026gt; {1}\\n              \u0026lt;br\u0026gt;\u0026lt;b\u0026gt;ServiceNow Closing Notes:\u0026lt;/b\u0026gt; {2}\\n              \u0026lt;br\u0026gt;\u0026lt;b\u0026gt;ServiceNow Closing Code:\u0026lt;/b\u0026gt; {3}\\\"\\\"\\\".format(\\n                                      unicode(results.sn_ref_id),\\n                                      unicode(results.sn_record_state),\\n                                      unicode(results.inputs.sn_close_notes),\\n                                      unicode(results.inputs.sn_close_code))\\n\\n  \\n  \\nelse:\\n  note_text = u\\\"\\\"\\\"\u0026lt;br\u0026gt;Failed to close this Task in \u0026lt;b\u0026gt;ServiceNow\u0026lt;/b\u0026gt;\\n              \u0026lt;br\u0026gt;\u0026lt;b\u0026gt;Reason:\u0026lt;/b\u0026gt; {0}\\\"\\\"\\\".format(unicode(results.reason))\\n  \\ntask.addNote(helper.createRichText(note_text))\",\"post_processing_script_language\":\"python\",\"pre_processing_script\":\"# Example: SNOW: Close Record [Task]\\n\\n#######################################\\n### Define pre-processing functions ###\\n#######################################\\n\\n# A Dictionary that maps Record States to their corresponding codes\\n# These codes are defined in ServiceNow and may be different for each ServiceNow configuration\\n# Codes prepended with [SIR] are specific to Security Incident Response incidents\\nmap_sn_record_states = {\\n  \\\"New\\\": 1,\\n  \\\"In Progress\\\": 2,\\n  \\\"On Hold\\\": 3,\\n  \\\"[INC] Resolved\\\": 6,\\n  \\\"[INC] Closed\\\": 7,\\n  \\\"[INC] Canceled\\\": 8,\\n\\t\\\"[SIR] Analysis\\\": 16,\\n\\t\\\"[SIR] Contain\\\": 18,\\n\\t\\\"[SIR] Eradicate\\\": 19,\\n\\t\\\"[SIR] Recover\\\": 20,\\n\\t\\\"[SIR] Review\\\": 100,\\n\\t\\\"[SIR] Closed\\\": 3,\\n\\t\\\"[SIR] Canceled\\\": 7\\n}\\n\\n#####################\\n### Define Inputs ###\\n#####################\\n\\n# ID of this incident\\ninputs.incident_id = incident.id\\n\\n# ID of this task\\ninputs.task_id = task.id\\n\\n# The state to change the record to\\n# inputs.sn_record_state = map_sn_record_states[\\\"Closed\\\"]\\ninputs.sn_record_state = map_sn_record_states[rule.properties.sn_record_state]\\n\\n# The resolution notes that are normally required when you close a ServiceNow record\\n# inputs.sn_close_notes = \\\"This incident has been resolved in IBM SOAR. No further action required\\\"\\ninputs.sn_close_notes = rule.properties.sn_close_notes\\n\\n# The ServiceNow \u0027close_code\u0027 that you normally select when closing a ServiceNow record\\n# inputs.sn_close_code = \\\"Solved (Permanently)\\\"\\ninputs.sn_close_code = rule.properties.sn_close_code\\n\\n# Add a Work Note to the Record in ServiceNow\\ninputs.sn_close_work_note = u\\\"This record\u0027s state has been changed to {0} by IBM SOAR\\\".format(unicode(rule.properties.sn_record_state))\",\"pre_processing_script_language\":\"python\"}\u003c/resilient:function\u003e\u003c/extensionElements\u003e\u003cincoming\u003eSequenceFlow_0d905b5\u003c/incoming\u003e\u003coutgoing\u003eSequenceFlow_1gd66zn\u003c/outgoing\u003e\u003c/serviceTask\u003e\u003cendEvent id=\"EndEvent_02mz39o\"\u003e\u003cincoming\u003eSequenceFlow_1gd66zn\u003c/incoming\u003e\u003c/endEvent\u003e\u003csequenceFlow id=\"SequenceFlow_1gd66zn\" sourceRef=\"ServiceTask_1rkglvs\" targetRef=\"EndEvent_02mz39o\"/\u003e\u003csequenceFlow id=\"SequenceFlow_0d905b5\" sourceRef=\"StartEvent_155asxm\" targetRef=\"ServiceTask_1rkglvs\"/\u003e\u003ctextAnnotation id=\"TextAnnotation_1hlw2cm\"\u003e\u003ctext\u003e\u003c![CDATA[Inputs:\n\u00a0incident_id, task_id,\n\u00a0sn_record_state, sn_close_notes, sn_close_code\n]]\u003e\u003c/text\u003e\u003c/textAnnotation\u003e\u003cassociation id=\"Association_1ik4psz\" sourceRef=\"ServiceTask_1rkglvs\" targetRef=\"TextAnnotation_1hlw2cm\"/\u003e\u003ctextAnnotation id=\"TextAnnotation_0ra0pp9\"\u003e\u003ctext\u003e\u003c![CDATA[Closes Record in ServiceNow + adds a Note to IBM SOAR\n]]\u003e\u003c/text\u003e\u003c/textAnnotation\u003e\u003cassociation id=\"Association_14gazjl\" sourceRef=\"ServiceTask_1rkglvs\" targetRef=\"TextAnnotation_0ra0pp9\"/\u003e\u003c/process\u003e\u003cbpmndi:BPMNDiagram id=\"BPMNDiagram_1\"\u003e\u003cbpmndi:BPMNPlane bpmnElement=\"undefined\" id=\"BPMNPlane_1\"\u003e\u003cbpmndi:BPMNShape bpmnElement=\"StartEvent_155asxm\" id=\"StartEvent_155asxm_di\"\u003e\u003comgdc:Bounds height=\"36\" width=\"36\" x=\"281\" y=\"132\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"0\" width=\"90\" x=\"276\" y=\"167\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNShape bpmnElement=\"ServiceTask_1rkglvs\" id=\"ServiceTask_1rkglvs_di\"\u003e\u003comgdc:Bounds height=\"80\" width=\"100\" x=\"414\" y=\"110\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNShape bpmnElement=\"EndEvent_02mz39o\" id=\"EndEvent_02mz39o_di\"\u003e\u003comgdc:Bounds height=\"36\" width=\"36\" x=\"625\" y=\"132\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"598\" y=\"171\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1gd66zn\" id=\"SequenceFlow_1gd66zn_di\"\u003e\u003comgdi:waypoint x=\"514\" xsi:type=\"omgdc:Point\" y=\"150\"/\u003e\u003comgdi:waypoint x=\"570\" xsi:type=\"omgdc:Point\" y=\"150\"/\u003e\u003comgdi:waypoint x=\"570\" xsi:type=\"omgdc:Point\" y=\"150\"/\u003e\u003comgdi:waypoint x=\"625\" xsi:type=\"omgdc:Point\" y=\"150\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"540\" y=\"143.5\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0d905b5\" id=\"SequenceFlow_0d905b5_di\"\u003e\u003comgdi:waypoint x=\"317\" xsi:type=\"omgdc:Point\" y=\"150\"/\u003e\u003comgdi:waypoint x=\"366\" xsi:type=\"omgdc:Point\" y=\"150\"/\u003e\u003comgdi:waypoint x=\"366\" xsi:type=\"omgdc:Point\" y=\"150\"/\u003e\u003comgdi:waypoint x=\"414\" xsi:type=\"omgdc:Point\" y=\"150\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"336\" y=\"143.5\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"TextAnnotation_1hlw2cm\" id=\"TextAnnotation_1hlw2cm_di\"\u003e\u003comgdc:Bounds height=\"59\" width=\"206\" x=\"249\" y=\"2\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Association_1ik4psz\" id=\"Association_1ik4psz_di\"\u003e\u003comgdi:waypoint x=\"426\" xsi:type=\"omgdc:Point\" y=\"110\"/\u003e\u003comgdi:waypoint x=\"380\" xsi:type=\"omgdc:Point\" y=\"61\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"TextAnnotation_0ra0pp9\" id=\"TextAnnotation_0ra0pp9_di\"\u003e\u003comgdc:Bounds height=\"49\" width=\"147\" x=\"572\" y=\"-2\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Association_14gazjl\" id=\"Association_14gazjl_di\"\u003e\u003comgdi:waypoint x=\"511\" xsi:type=\"omgdc:Point\" y=\"117\"/\u003e\u003comgdi:waypoint x=\"612\" xsi:type=\"omgdc:Point\" y=\"47\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003c/bpmndi:BPMNPlane\u003e\u003c/bpmndi:BPMNDiagram\u003e\u003c/definitions\u003e"
      },
      "content_version": 21,
      "creator_id": "70c20070-0fb3-454a-a8db-5f172c3c754d",
      "description": "An example workflow showing how to close a Record in ServiceNow from a SOAR Task.",
      "export_key": "example_snow_close_record_task",
      "last_modified_by": "admin@example.com",
      "last_modified_time": 1645125831702,
      "name": "Example: SNOW: Close Record [Task]",
      "object_type": "task",
      "programmatic_name": "example_snow_close_record_task",
      "tags": [],
      "uuid": "0fd9c277-b0e5-470d-9500-07f8f89819d1",
      "workflow_id": 62
    },
    {
      "actions": [],
      "content": {
        "version": 16,
        "workflow_id": "example_snow_add_worknote_to_record",
        "xml": "\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\u003cdefinitions xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:resilient=\"http://resilient.ibm.com/bpmn\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" targetNamespace=\"http://www.camunda.org/test\"\u003e\u003cprocess id=\"example_snow_add_worknote_to_record\" isExecutable=\"true\" name=\"Example: SNOW: Add Work Note to Record\"\u003e\u003cdocumentation\u003e\u003c![CDATA[An example workflow showing how to add a SOAR Note to a ServiceNow Record as a \"Work Note\".]]\u003e\u003c/documentation\u003e\u003cstartEvent id=\"StartEvent_155asxm\"\u003e\u003coutgoing\u003eSequenceFlow_1qz38hb\u003c/outgoing\u003e\u003c/startEvent\u003e\u003cserviceTask id=\"ServiceTask_0nqovw5\" name=\"SNOW: Add Note to Record\" resilient:type=\"function\"\u003e\u003cextensionElements\u003e\u003cresilient:function uuid=\"c43f8cc1-5cdc-41a6-a6b0-fa59dd32df36\"\u003e{\"inputs\":{\"19d5e854-dc64-43d4-9a39-7be914920ad6\":{\"input_type\":\"static\",\"static_input\":{\"multiselect_value\":[],\"select_value\":\"c65de77d-f6b2-4c19-94eb-cdfa5cf5037f\"}}},\"post_processing_script\":\"# Example: SNOW: Add Work Note to Record post-process script\\n\\n# Import Date\\nfrom java.util import Date\\n\\n# Get the current time\\ndt_now = Date()\\n\\n# Prepend message and time to the note\\nnote.text = u\\\"\u0026lt;b\u0026gt;Sent to ServiceNow at {0}\u0026lt;/b\u0026gt;\u0026lt;br\u0026gt;{1}\\\".format(dt_now, unicode(note.text.content))\",\"pre_processing_script\":\"# Example: SNOW: Add Work Note to Record\\n\\n####################################\\n### Define pre-processing inputs ###\\n####################################\\n\\n# The id of this incident\\ninputs.incident_id = incident.id\\n\\n# If this is a task note, get the taskId\\nif note.type == \u0027task\u0027:\\n  # Set the task_id\\n  inputs.task_id = task.id\\n\\n# Get the text of the note\\ninputs.sn_note_text = unicode(note.text.content)\"}\u003c/resilient:function\u003e\u003c/extensionElements\u003e\u003cincoming\u003eSequenceFlow_1qz38hb\u003c/incoming\u003e\u003coutgoing\u003eSequenceFlow_0g7gh0a\u003c/outgoing\u003e\u003c/serviceTask\u003e\u003cendEvent id=\"EndEvent_1vup6tl\"\u003e\u003cincoming\u003eSequenceFlow_0g7gh0a\u003c/incoming\u003e\u003c/endEvent\u003e\u003csequenceFlow id=\"SequenceFlow_0g7gh0a\" sourceRef=\"ServiceTask_0nqovw5\" targetRef=\"EndEvent_1vup6tl\"/\u003e\u003csequenceFlow id=\"SequenceFlow_1qz38hb\" sourceRef=\"StartEvent_155asxm\" targetRef=\"ServiceTask_0nqovw5\"/\u003e\u003ctextAnnotation id=\"TextAnnotation_0pbwb6q\"\u003e\u003ctext\u003e\u003c![CDATA[Inputs: sn_note_text, sn_note_type, incident_id/task_id\n]]\u003e\u003c/text\u003e\u003c/textAnnotation\u003e\u003cassociation id=\"Association_0rkz4o8\" sourceRef=\"ServiceTask_0nqovw5\" targetRef=\"TextAnnotation_0pbwb6q\"/\u003e\u003ctextAnnotation id=\"TextAnnotation_00jt62s\"\u003e\u003ctext\u003e\u003c![CDATA[Adds Note to ServiceNow Record\n\u00a0as Work Note and prepends info to Resilient Note\n]]\u003e\u003c/text\u003e\u003c/textAnnotation\u003e\u003cassociation id=\"Association_1x4te2z\" sourceRef=\"ServiceTask_0nqovw5\" targetRef=\"TextAnnotation_00jt62s\"/\u003e\u003c/process\u003e\u003cbpmndi:BPMNDiagram id=\"BPMNDiagram_1\"\u003e\u003cbpmndi:BPMNPlane bpmnElement=\"undefined\" id=\"BPMNPlane_1\"\u003e\u003cbpmndi:BPMNShape bpmnElement=\"StartEvent_155asxm\" id=\"StartEvent_155asxm_di\"\u003e\u003comgdc:Bounds height=\"36\" width=\"36\" x=\"261\" y=\"188\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"0\" width=\"90\" x=\"256\" y=\"223\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNShape bpmnElement=\"ServiceTask_0nqovw5\" id=\"ServiceTask_0nqovw5_di\"\u003e\u003comgdc:Bounds height=\"80\" width=\"100\" x=\"457\" y=\"166\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNShape bpmnElement=\"EndEvent_1vup6tl\" id=\"EndEvent_1vup6tl_di\"\u003e\u003comgdc:Bounds height=\"36\" width=\"36\" x=\"756\" y=\"188\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"729\" y=\"227\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0g7gh0a\" id=\"SequenceFlow_0g7gh0a_di\"\u003e\u003comgdi:waypoint x=\"557\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003comgdi:waypoint x=\"756\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"611.5\" y=\"184.5\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1qz38hb\" id=\"SequenceFlow_1qz38hb_di\"\u003e\u003comgdi:waypoint x=\"297\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003comgdi:waypoint x=\"457\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"332\" y=\"184.5\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"TextAnnotation_0pbwb6q\" id=\"TextAnnotation_0pbwb6q_di\"\u003e\u003comgdc:Bounds height=\"57\" width=\"142\" x=\"316\" y=\"59\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Association_0rkz4o8\" id=\"Association_0rkz4o8_di\"\u003e\u003comgdi:waypoint x=\"467\" xsi:type=\"omgdc:Point\" y=\"166\"/\u003e\u003comgdi:waypoint x=\"416\" xsi:type=\"omgdc:Point\" y=\"116\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"TextAnnotation_00jt62s\" id=\"TextAnnotation_00jt62s_di\"\u003e\u003comgdc:Bounds height=\"81\" width=\"138\" x=\"575\" y=\"40\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Association_1x4te2z\" id=\"Association_1x4te2z_di\"\u003e\u003comgdi:waypoint x=\"549\" xsi:type=\"omgdc:Point\" y=\"168\"/\u003e\u003comgdi:waypoint x=\"602\" xsi:type=\"omgdc:Point\" y=\"121\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003c/bpmndi:BPMNPlane\u003e\u003c/bpmndi:BPMNDiagram\u003e\u003c/definitions\u003e"
      },
      "content_version": 16,
      "creator_id": "70c20070-0fb3-454a-a8db-5f172c3c754d",
      "description": "An example workflow showing how to add a SOAR Note to a ServiceNow Record as a \"Work Note\".",
      "export_key": "example_snow_add_worknote_to_record",
      "last_modified_by": "70c20070-0fb3-454a-a8db-5f172c3c754d",
      "last_modified_time": 1645113790013,
      "name": "Example: SNOW: Add Work Note to Record",
      "object_type": "note",
      "programmatic_name": "example_snow_add_worknote_to_record",
      "tags": [],
      "uuid": "9a7e5a6d-5444-4c1c-9598-d7daa9ac748e",
      "workflow_id": 54
    },
    {
      "actions": [],
      "content": {
        "version": 12,
        "workflow_id": "example_snow_update_datatable_on_status_change_task",
        "xml": "\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\u003cdefinitions xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:resilient=\"http://resilient.ibm.com/bpmn\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" targetNamespace=\"http://www.camunda.org/test\"\u003e\u003cprocess id=\"example_snow_update_datatable_on_status_change_task\" isExecutable=\"true\" name=\"Example: SNOW: Update Data Table on Status Change [Task]\"\u003e\u003cdocumentation\u003e\u003c![CDATA[An example workflow that updates the \u0027ServiceNow Records\u0027 Data Table when an Task status is changed.]]\u003e\u003c/documentation\u003e\u003cstartEvent id=\"StartEvent_155asxm\"\u003e\u003coutgoing\u003eSequenceFlow_1y60m0q\u003c/outgoing\u003e\u003c/startEvent\u003e\u003cendEvent id=\"EndEvent_05sdx0a\"\u003e\u003cincoming\u003eSequenceFlow_16sc40h\u003c/incoming\u003e\u003c/endEvent\u003e\u003csequenceFlow id=\"SequenceFlow_1y60m0q\" sourceRef=\"StartEvent_155asxm\" targetRef=\"ServiceTask_1exd2ds\"/\u003e\u003cserviceTask id=\"ServiceTask_1exd2ds\" name=\"SNOW Helper: Update Data Table\" resilient:type=\"function\"\u003e\u003cextensionElements\u003e\u003cresilient:function uuid=\"6130c083-17ea-4262-986b-8d073d3f7328\"\u003e{\"inputs\":{},\"pre_processing_script\":\"# Example: SNOW: Update Datatable on Status Change [Task]\\n\\n####################################\\n### Define pre-processing inputs ###\\n####################################\\n\\n# Get the incident id\\ninputs.incident_id = incident.id\\n\\n# Get the task id\\ninputs.task_id = task.id\\n\\n# Get the new status of the task\\ninputs.sn_resilient_status = task.status\"}\u003c/resilient:function\u003e\u003c/extensionElements\u003e\u003cincoming\u003eSequenceFlow_1y60m0q\u003c/incoming\u003e\u003coutgoing\u003eSequenceFlow_16sc40h\u003c/outgoing\u003e\u003c/serviceTask\u003e\u003csequenceFlow id=\"SequenceFlow_16sc40h\" sourceRef=\"ServiceTask_1exd2ds\" targetRef=\"EndEvent_05sdx0a\"/\u003e\u003ctextAnnotation id=\"TextAnnotation_1pmsgzf\"\u003e\u003ctext\u003e\u003c![CDATA[Inputs: incident_id, task_id, sn_resilient_status\n]]\u003e\u003c/text\u003e\u003c/textAnnotation\u003e\u003cassociation id=\"Association_0jxx93j\" sourceRef=\"ServiceTask_1exd2ds\" targetRef=\"TextAnnotation_1pmsgzf\"/\u003e\u003ctextAnnotation id=\"TextAnnotation_0qe23ow\"\u003e\u003ctext\u003e\u003c![CDATA[Updates the status in the Data Table\n]]\u003e\u003c/text\u003e\u003c/textAnnotation\u003e\u003cassociation id=\"Association_0isv6zt\" sourceRef=\"ServiceTask_1exd2ds\" targetRef=\"TextAnnotation_0qe23ow\"/\u003e\u003c/process\u003e\u003cbpmndi:BPMNDiagram id=\"BPMNDiagram_1\"\u003e\u003cbpmndi:BPMNPlane bpmnElement=\"undefined\" id=\"BPMNPlane_1\"\u003e\u003cbpmndi:BPMNShape bpmnElement=\"StartEvent_155asxm\" id=\"StartEvent_155asxm_di\"\u003e\u003comgdc:Bounds height=\"36\" width=\"36\" x=\"202\" y=\"136\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"0\" width=\"90\" x=\"197\" y=\"171\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNShape bpmnElement=\"EndEvent_05sdx0a\" id=\"EndEvent_05sdx0a_di\"\u003e\u003comgdc:Bounds height=\"36\" width=\"36\" x=\"584\" y=\"136\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"557\" y=\"175\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1y60m0q\" id=\"SequenceFlow_1y60m0q_di\"\u003e\u003comgdi:waypoint x=\"238\" xsi:type=\"omgdc:Point\" y=\"154\"/\u003e\u003comgdi:waypoint x=\"307\" xsi:type=\"omgdc:Point\" y=\"154\"/\u003e\u003comgdi:waypoint x=\"307\" xsi:type=\"omgdc:Point\" y=\"154\"/\u003e\u003comgdi:waypoint x=\"374\" xsi:type=\"omgdc:Point\" y=\"154\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"277\" y=\"147.5\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"ServiceTask_1exd2ds\" id=\"ServiceTask_1exd2ds_di\"\u003e\u003comgdc:Bounds height=\"80\" width=\"100\" x=\"374\" y=\"114\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_16sc40h\" id=\"SequenceFlow_16sc40h_di\"\u003e\u003comgdi:waypoint x=\"474\" xsi:type=\"omgdc:Point\" y=\"154\"/\u003e\u003comgdi:waypoint x=\"529\" xsi:type=\"omgdc:Point\" y=\"154\"/\u003e\u003comgdi:waypoint x=\"529\" xsi:type=\"omgdc:Point\" y=\"154\"/\u003e\u003comgdi:waypoint x=\"584\" xsi:type=\"omgdc:Point\" y=\"154\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"499\" y=\"147.5\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"TextAnnotation_1pmsgzf\" id=\"TextAnnotation_1pmsgzf_di\"\u003e\u003comgdc:Bounds height=\"52\" width=\"116\" x=\"190\" y=\"28\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Association_0jxx93j\" id=\"Association_0jxx93j_di\"\u003e\u003comgdi:waypoint x=\"374\" xsi:type=\"omgdc:Point\" y=\"126\"/\u003e\u003comgdi:waypoint x=\"293\" xsi:type=\"omgdc:Point\" y=\"80\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"TextAnnotation_0qe23ow\" id=\"TextAnnotation_0qe23ow_di\"\u003e\u003comgdc:Bounds height=\"52\" width=\"114\" x=\"496\" y=\"28\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Association_0isv6zt\" id=\"Association_0isv6zt_di\"\u003e\u003comgdi:waypoint x=\"469\" xsi:type=\"omgdc:Point\" y=\"119\"/\u003e\u003comgdi:waypoint x=\"519\" xsi:type=\"omgdc:Point\" y=\"80\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003c/bpmndi:BPMNPlane\u003e\u003c/bpmndi:BPMNDiagram\u003e\u003c/definitions\u003e"
      },
      "content_version": 12,
      "creator_id": "70c20070-0fb3-454a-a8db-5f172c3c754d",
      "description": "An example workflow that updates the \u0027ServiceNow Records\u0027 Data Table when an Task status is changed.",
      "export_key": "example_snow_update_datatable_on_status_change_task",
      "last_modified_by": "70c20070-0fb3-454a-a8db-5f172c3c754d",
      "last_modified_time": 1645113790383,
      "name": "Example: SNOW: Update Data Table on Status Change [Task]",
      "object_type": "task",
      "programmatic_name": "example_snow_update_datatable_on_status_change_task",
      "tags": [],
      "uuid": "c2c3bf54-4810-46bd-8a82-03e31d66e6f0",
      "workflow_id": 56
    },
    {
      "actions": [],
      "content": {
        "version": 17,
        "workflow_id": "example_snow_create_record_task",
        "xml": "\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\u003cdefinitions xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:resilient=\"http://resilient.ibm.com/bpmn\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" targetNamespace=\"http://www.camunda.org/test\"\u003e\u003cprocess id=\"example_snow_create_record_task\" isExecutable=\"true\" name=\"Example: SNOW: Create Record [Task]\"\u003e\u003cdocumentation\u003eAn example workflow showing how to create a ServiceNow Record from a SOAR Task.\u003c/documentation\u003e\u003cstartEvent id=\"StartEvent_155asxm\"\u003e\u003coutgoing\u003eSequenceFlow_0nbk22z\u003c/outgoing\u003e\u003c/startEvent\u003e\u003cserviceTask id=\"ServiceTask_041jfoh\" name=\"SNOW: Create Record\" resilient:type=\"function\"\u003e\u003cextensionElements\u003e\u003cresilient:function uuid=\"041fa8ca-70bb-44b1-996b-88f61a8a0671\"\u003e{\"inputs\":{},\"post_processing_script\":\"# Example: SNOW: Create Record [Task] post-processing script\\n\\nif results.success:\\n\\n  note_text = \\\"\\\"\\\"\u0026lt;br\u0026gt;This Task has been created in \u0026lt;b\u0026gt;ServiceNow\u0026lt;/b\u0026gt;\\n              \u0026lt;br\u0026gt;\u0026lt;b\u0026gt;ServiceNow ID:\u0026lt;/b\u0026gt;  {0}\\n              \u0026lt;br\u0026gt;\u0026lt;b\u0026gt;ServiceNow Link:\u0026lt;/b\u0026gt; \u0026lt;a href=\u0027{1}\u0027\u0026gt;{1}\u0026lt;/a\u0026gt;\\\"\\\"\\\".format(results.sn_ref_id, results.sn_record_link)\\n\\n  task.addNote(helper.createRichText(note_text))\\n\\nelif results.reason is not None:\\n  task.addNote(results.reason)\",\"post_processing_script_language\":\"python\",\"pre_processing_script\":\"# Example: SNOW: Create Record [Task] pre-processing script\\n\\n#######################################\\n### Define pre-processing functions ###\\n#######################################\\ndef dict_to_json_str(d):\\n  \\\"\\\"\\\"Function that converts a dictionary into a JSON string.\\n     Supports types: basestring, bool, int and nested dicts.\\n     Does not support lists.\\n     If the value is None, it sets it to False.\\\"\\\"\\\"\\n\\n  json_entry = u\u0027\\\"{0}\\\":{1}\u0027\\n  json_entry_str = u\u0027\\\"{0}\\\":\\\"{1}\\\"\u0027\\n  entries = [] \\n\\n  for entry in d:\\n    key = entry\\n    value = d[entry]\\n\\n    if value is None:\\n      value = False\\n\\n    if isinstance(value, list):\\n      helper.fail(\u0027dict_to_json_str does not support Python Lists\u0027)\\n\\n    if isinstance(value, basestring):\\n      value = value.replace(u\u0027\\\"\u0027, u\u0027\\\\\\\\\\\"\u0027)\\n      entries.append(json_entry_str.format(unicode(key), unicode(value)))\\n      \\n    elif isinstance(value, unicode):\\n      entries.append(json_entry.format(unicode(key), unicode(value)))\\n    \\n    elif isinstance(value, bool):\\n      value = \u0027true\u0027 if value == True else \u0027false\u0027\\n      entries.append(json_entry.format(key, value))\\n\\n    elif isinstance(value, int):\\n      entries.append(json_entry.format(unicode(key), value))\\n\\n    elif isinstance(value, dict):\\n      entries.append(json_entry.format(key, dict_to_json_str(value)))\\n\\n    else:\\n      helper.fail(\u0027dict_to_json_str does not support this type: {0}\u0027.format(type(value)))\\n\\n  return u\u0027{0} {1} {2}\u0027.format(u\u0027{\u0027, \u0027,\u0027.join(entries), u\u0027}\u0027)\\n\\n#####################\\n### Define Inputs ###\\n#####################\\n\\n# Default text of the initial note added to the ServiceNow Record\\ninit_snow_note_text = u\\\"\\\"\\\"Record created from IBM SOAR Task ID: {0}. Associated IBM SOAR Incident ID: {1}.\\\"\\\"\\\".format(task.id, incident.id)\\n\\n# If the user adds a comment when they invoke the rule, that comment gets concatenated here\\nif rule.properties.sn_initial_note.content is not None:\\n  init_snow_note_text = u\\\"{0}\\\\n\\\\n{1}\\\".format(unicode(init_snow_note_text), unicode(rule.properties.sn_initial_note.content))\\n\\n# ID of this incident\\ninputs.incident_id = incident.id\\n\\n# ID of this task\\ninputs.task_id = task.id\\n\\n# Initial work note to attach to created ServiceNow record\\ninputs.sn_init_work_note = init_snow_note_text\\n\\n# Any further information you want to send to ServiceNow. Each Key/Value pair is attached to the Request object and accessible in ServiceNow.\\n# ServiceNow Example:: setValue(\u0027assignment_group\u0027, request.body.data.sn_optional_fields.assignment_group)\\ninputs.sn_optional_fields = dict_to_json_str({\\n  \\\"short_description\\\": u\\\"RES-{0}-{1}: {2}\\\".format(incident.id, task.id, unicode(task.name)),\\n  \\\"assignment_group\\\": workflow.properties.assignment_group.sys_id,\\n  \\\"caller_id\\\": workflow.properties.caller_id.sys_id\\n})\",\"pre_processing_script_language\":\"python\"}\u003c/resilient:function\u003e\u003c/extensionElements\u003e\u003cincoming\u003eSequenceFlow_1whzdqf\u003c/incoming\u003e\u003coutgoing\u003eSequenceFlow_0o1broc\u003c/outgoing\u003e\u003c/serviceTask\u003e\u003cendEvent id=\"EndEvent_0lmkg9r\"\u003e\u003cincoming\u003eSequenceFlow_0o1broc\u003c/incoming\u003e\u003c/endEvent\u003e\u003csequenceFlow id=\"SequenceFlow_0o1broc\" sourceRef=\"ServiceTask_041jfoh\" targetRef=\"EndEvent_0lmkg9r\"/\u003e\u003cserviceTask id=\"ServiceTask_039xeyc\" name=\"SNOW: Lookup sys_id\" resilient:type=\"function\"\u003e\u003cextensionElements\u003e\u003cresilient:function uuid=\"e5abf91c-57f6-4d01-bd5a-50bfe261cb01\"\u003e{\"inputs\":{},\"post_processing_script\":\"# SN Utilities: Get sys_id post-processing script\\n\\n# If you want to stop workflow if no sys_id returned, use this unicode\\n\\n# def raise_error(msg):\\n#   raise ValueError(msg)\\n\\n# if not results.success:\\n#   raise_error(\\\"Getting assignment group sys_id did not succeed\\\")\",\"pre_processing_script\":\"# SN Utilities: Get sys_id pre-processing script\\n\\n######################\\n### Define inputss ###\\n######################\\n\\n# The table in ServiceNow to query\\ninputs.sn_table_name = \\\"sys_user_group\\\"\\n\\n# The name of the field/table column to query\\ninputs.sn_query_field = \\\"name\\\"\\n\\n# The value to equate the cell to\\n# Get the group name from the Rule Activity Field with:\\ninputs.sn_query_value = rule.properties.sn_assignment_group\\n\\n## OR Set group name statically with:\\n## inputs.sn_query_value = \\\"IT Securities\\\"\",\"pre_processing_script_language\":\"python\",\"result_name\":\"assignment_group\"}\u003c/resilient:function\u003e\u003c/extensionElements\u003e\u003cincoming\u003eSequenceFlow_0nbk22z\u003c/incoming\u003e\u003coutgoing\u003eSequenceFlow_1j06hw7\u003c/outgoing\u003e\u003c/serviceTask\u003e\u003csequenceFlow id=\"SequenceFlow_0nbk22z\" sourceRef=\"StartEvent_155asxm\" targetRef=\"ServiceTask_039xeyc\"/\u003e\u003csequenceFlow id=\"SequenceFlow_1j06hw7\" sourceRef=\"ServiceTask_039xeyc\" targetRef=\"ServiceTask_0fi3acs\"/\u003e\u003cserviceTask id=\"ServiceTask_0fi3acs\" name=\"SNOW: Lookup sys_id\" resilient:type=\"function\"\u003e\u003cextensionElements\u003e\u003cresilient:function uuid=\"e5abf91c-57f6-4d01-bd5a-50bfe261cb01\"\u003e{\"inputs\":{},\"pre_processing_script\":\"# SN Utilities: Get sys_id pre-processing script\\n\\n######################\\n### Define inputs ####\\n######################\\n\\n# The table in ServiceNow to query\\ninputs.sn_table_name = \\\"sys_user\\\"\\n\\n# The name of the field/table column to query\\ninputs.sn_query_field = \\\"email\\\"\\n\\n# The value to equate the cell to\\ninputs.sn_query_value = \\\"ibmresilient\\\" #our integrations user in ServiceNow\",\"pre_processing_script_language\":\"python\",\"result_name\":\"caller_id\"}\u003c/resilient:function\u003e\u003c/extensionElements\u003e\u003cincoming\u003eSequenceFlow_1j06hw7\u003c/incoming\u003e\u003coutgoing\u003eSequenceFlow_1whzdqf\u003c/outgoing\u003e\u003c/serviceTask\u003e\u003csequenceFlow id=\"SequenceFlow_1whzdqf\" sourceRef=\"ServiceTask_0fi3acs\" targetRef=\"ServiceTask_041jfoh\"/\u003e\u003ctextAnnotation id=\"TextAnnotation_0zxxfij\"\u003e\u003ctext\u003e\u003c![CDATA[Gets assignment_group sys_id from ServiceNow for specified Group\n]]\u003e\u003c/text\u003e\u003c/textAnnotation\u003e\u003cassociation id=\"Association_01xr8wi\" sourceRef=\"ServiceTask_039xeyc\" targetRef=\"TextAnnotation_0zxxfij\"/\u003e\u003ctextAnnotation id=\"TextAnnotation_0a4q30k\"\u003e\u003ctext\u003e\u003c![CDATA[Gets caller_sys_id from ServiceNow for specified user_name\n]]\u003e\u003c/text\u003e\u003c/textAnnotation\u003e\u003cassociation id=\"Association_09alsdl\" sourceRef=\"ServiceTask_0fi3acs\" targetRef=\"TextAnnotation_0a4q30k\"/\u003e\u003ctextAnnotation id=\"TextAnnotation_1aww04o\"\u003e\u003ctext\u003e\u003c![CDATA[Inputs: incident_id, task_id, sn_initial_work_note, sn_optional_fields\n]]\u003e\u003c/text\u003e\u003c/textAnnotation\u003e\u003cassociation id=\"Association_0wh97tb\" sourceRef=\"ServiceTask_041jfoh\" targetRef=\"TextAnnotation_1aww04o\"/\u003e\u003ctextAnnotation id=\"TextAnnotation_1ossyl0\"\u003e\u003ctext\u003e\u003c![CDATA[Creates a Record in ServiceNow + adds a Note to IBM SOAR\n]]\u003e\u003c/text\u003e\u003c/textAnnotation\u003e\u003cassociation id=\"Association_15svjf1\" sourceRef=\"ServiceTask_041jfoh\" targetRef=\"TextAnnotation_1ossyl0\"/\u003e\u003c/process\u003e\u003cbpmndi:BPMNDiagram id=\"BPMNDiagram_1\"\u003e\u003cbpmndi:BPMNPlane bpmnElement=\"undefined\" id=\"BPMNPlane_1\"\u003e\u003cbpmndi:BPMNShape bpmnElement=\"StartEvent_155asxm\" id=\"StartEvent_155asxm_di\"\u003e\u003comgdc:Bounds height=\"36\" width=\"36\" x=\"93\" y=\"188\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"0\" width=\"90\" x=\"88\" y=\"223\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNShape bpmnElement=\"ServiceTask_041jfoh\" id=\"ServiceTask_041jfoh_di\"\u003e\u003comgdc:Bounds height=\"80\" width=\"100\" x=\"750\" y=\"166\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNShape bpmnElement=\"EndEvent_0lmkg9r\" id=\"EndEvent_0lmkg9r_di\"\u003e\u003comgdc:Bounds height=\"36\" width=\"36\" x=\"1002\" y=\"188\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"975\" y=\"227\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0o1broc\" id=\"SequenceFlow_0o1broc_di\"\u003e\u003comgdi:waypoint x=\"850\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003comgdi:waypoint x=\"1002\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"881\" y=\"184.5\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"ServiceTask_039xeyc\" id=\"ServiceTask_039xeyc_di\"\u003e\u003comgdc:Bounds height=\"80\" width=\"100\" x=\"254\" y=\"166\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0nbk22z\" id=\"SequenceFlow_0nbk22z_di\"\u003e\u003comgdi:waypoint x=\"129\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003comgdi:waypoint x=\"191\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003comgdi:waypoint x=\"191\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003comgdi:waypoint x=\"254\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"161\" y=\"199.5\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1j06hw7\" id=\"SequenceFlow_1j06hw7_di\"\u003e\u003comgdi:waypoint x=\"354\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003comgdi:waypoint x=\"484\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"374\" y=\"184.5\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"TextAnnotation_0zxxfij\" id=\"TextAnnotation_0zxxfij_di\"\u003e\u003comgdc:Bounds height=\"66\" width=\"177\" x=\"195\" y=\"65\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Association_01xr8wi\" id=\"Association_01xr8wi_di\"\u003e\u003comgdi:waypoint x=\"297\" xsi:type=\"omgdc:Point\" y=\"166\"/\u003e\u003comgdi:waypoint x=\"290\" xsi:type=\"omgdc:Point\" y=\"131\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"ServiceTask_0fi3acs\" id=\"ServiceTask_0fi3acs_di\"\u003e\u003comgdc:Bounds height=\"80\" width=\"100\" x=\"484\" y=\"166\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1whzdqf\" id=\"SequenceFlow_1whzdqf_di\"\u003e\u003comgdi:waypoint x=\"584\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003comgdi:waypoint x=\"750\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"622\" y=\"184.5\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"TextAnnotation_0a4q30k\" id=\"TextAnnotation_0a4q30k_di\"\u003e\u003comgdc:Bounds height=\"66\" width=\"160\" x=\"486\" y=\"282\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Association_09alsdl\" id=\"Association_09alsdl_di\"\u003e\u003comgdi:waypoint x=\"546\" xsi:type=\"omgdc:Point\" y=\"246\"/\u003e\u003comgdi:waypoint x=\"556\" xsi:type=\"omgdc:Point\" y=\"282\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"TextAnnotation_1aww04o\" id=\"TextAnnotation_1aww04o_di\"\u003e\u003comgdc:Bounds height=\"60\" width=\"178\" x=\"607\" y=\"68\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Association_0wh97tb\" id=\"Association_0wh97tb_di\"\u003e\u003comgdi:waypoint x=\"761\" xsi:type=\"omgdc:Point\" y=\"166\"/\u003e\u003comgdi:waypoint x=\"725\" xsi:type=\"omgdc:Point\" y=\"128\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"TextAnnotation_1ossyl0\" id=\"TextAnnotation_1ossyl0_di\"\u003e\u003comgdc:Bounds height=\"67\" width=\"132\" x=\"912\" y=\"64\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Association_15svjf1\" id=\"Association_15svjf1_di\"\u003e\u003comgdi:waypoint x=\"850\" xsi:type=\"omgdc:Point\" y=\"176\"/\u003e\u003comgdi:waypoint x=\"925\" xsi:type=\"omgdc:Point\" y=\"131\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003c/bpmndi:BPMNPlane\u003e\u003c/bpmndi:BPMNDiagram\u003e\u003c/definitions\u003e"
      },
      "content_version": 17,
      "creator_id": "70c20070-0fb3-454a-a8db-5f172c3c754d",
      "description": "An example workflow showing how to create a ServiceNow Record from a SOAR Task.",
      "export_key": "example_snow_create_record_task",
      "last_modified_by": "70c20070-0fb3-454a-a8db-5f172c3c754d",
      "last_modified_time": 1645113790195,
      "name": "Example: SNOW: Create Record [Task]",
      "object_type": "task",
      "programmatic_name": "example_snow_create_record_task",
      "tags": [],
      "uuid": "b07b6173-0c80-4e89-b650-28454ac2954a",
      "workflow_id": 55
    },
    {
      "actions": [],
      "content": {
        "version": 16,
        "workflow_id": "example_sir_snow_update_record_on_severity_change",
        "xml": "\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\u003cdefinitions xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:resilient=\"http://resilient.ibm.com/bpmn\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" targetNamespace=\"http://www.camunda.org/test\"\u003e\u003cprocess id=\"example_sir_snow_update_record_on_severity_change\" isExecutable=\"true\" name=\"Example: [SIR] SNOW Update Record on Severity Change\"\u003e\u003cdocumentation\u003e\u003c![CDATA[An example workflow that, when an Incident\u0027s severity is changed, updates its associated ServiceNow Security Incident Response Record\u0027s severity and adds a Work Note to the Record]]\u003e\u003c/documentation\u003e\u003cstartEvent id=\"StartEvent_155asxm\"\u003e\u003coutgoing\u003eSequenceFlow_1proo8q\u003c/outgoing\u003e\u003c/startEvent\u003e\u003cendEvent id=\"EndEvent_06mgtvg\"\u003e\u003cincoming\u003eSequenceFlow_0j5l1eb\u003c/incoming\u003e\u003c/endEvent\u003e\u003csequenceFlow id=\"SequenceFlow_1proo8q\" sourceRef=\"StartEvent_155asxm\" targetRef=\"ServiceTask_0od8bcy\"/\u003e\u003cserviceTask id=\"ServiceTask_0od8bcy\" name=\"SNOW: Update Record\" resilient:type=\"function\"\u003e\u003cextensionElements\u003e\u003cresilient:function uuid=\"95d7d4df-0ec8-4dbd-bbcf-9759b23930eb\"\u003e{\"inputs\":{},\"post_processing_script\":\"\\n# Add a Note to the Incident\\nnote_text = u\\\"The Business Impact of this Incident was updated to {0} in IBM SOAR\\\".format(incident.severity_code)\\nincident.addNote(note_text)\",\"post_processing_script_language\":\"python\",\"pre_processing_script\":\"# Example: SNOW Update Record on Severity Change\\n\\n#######################################\\n### Define pre-processing functions ###\\n#######################################\\ndef dict_to_json_str(d):\\n  \\\"\\\"\\\"Function that converts a dictionary into a JSON string.\\n     Supports types: basestring, bool, int and nested dicts.\\n     Does not support lists.\\n     If the value is None, it sets it to False.\\\"\\\"\\\"\\n\\n  json_entry = u\u0027\\\"{0}\\\":{1}\u0027\\n  json_entry_str = u\u0027\\\"{0}\\\":\\\"{1}\\\"\u0027\\n  entries = [] \\n\\n  for entry in d:\\n    key = entry\\n    value = d[entry]\\n\\n    if value is None:\\n      value = False\\n\\n    if isinstance(value, list):\\n      helper.fail(\u0027dict_to_json_str does not support Python Lists\u0027)\\n\\n    if isinstance(value, basestring):\\n      value = value.replace(u\u0027\\\"\u0027, u\u0027\\\\\\\\\\\"\u0027)\\n      entries.append(json_entry_str.format(unicode(key), unicode(value)))\\n      \\n    elif isinstance(value, unicode):\\n      entries.append(json_entry.format(unicode(key), unicode(value)))\\n    \\n    elif isinstance(value, bool):\\n      value = \u0027true\u0027 if value == True else \u0027false\u0027\\n      entries.append(json_entry.format(key, value))\\n\\n    elif isinstance(value, int):\\n      entries.append(json_entry.format(unicode(key), value))\\n\\n    elif isinstance(value, dict):\\n      entries.append(json_entry.format(key, dict_to_json_str(value)))\\n\\n    else:\\n      helper.fail(\u0027dict_to_json_str does not support this type: {0}\u0027.format(type(value)))\\n\\n  return u\u0027{0} {1} {2}\u0027.format(u\u0027{\u0027, \u0027,\u0027.join(entries), u\u0027}\u0027)\\n\\n# Map IBM SOAR severity values to ServiceNow severity values\\nsn_severity_map = {\\n  \\\"High\\\": 1,\\n  \\\"Medium\\\": 2,\\n  \\\"Low\\\": 3\\n}\\n\\n#####################\\n### Define Inputs ###\\n#####################\\n\\n# Get the id of this incident\\ninputs.incident_id = incident.id\\n\\n# List all the fields you want to update in the ServiceNow Record here with the ServiceNow field_name being the key\\n# The default here is \\\"severity\\\", however if using the SIR Table we recommend switching to the business_criticality field\\ninputs.sn_update_fields = dict_to_json_str({\\n  \\\"severity\\\": sn_severity_map[incident.severity_code],\\n})\",\"pre_processing_script_language\":\"python\",\"result_name\":\"\"}\u003c/resilient:function\u003e\u003c/extensionElements\u003e\u003cincoming\u003eSequenceFlow_1proo8q\u003c/incoming\u003e\u003coutgoing\u003eSequenceFlow_0vmidoa\u003c/outgoing\u003e\u003c/serviceTask\u003e\u003csequenceFlow id=\"SequenceFlow_0vmidoa\" sourceRef=\"ServiceTask_0od8bcy\" targetRef=\"ServiceTask_1ja1bom\"/\u003e\u003cserviceTask id=\"ServiceTask_1ja1bom\" name=\"SNOW: Add Note to Record\" resilient:type=\"function\"\u003e\u003cextensionElements\u003e\u003cresilient:function uuid=\"c43f8cc1-5cdc-41a6-a6b0-fa59dd32df36\"\u003e{\"inputs\":{},\"pre_processing_script\":\"#####################\\n### Define Inputs ###\\n#####################\\n\\ninputs.incident_id = incident.id\\n\\ninputs.sn_note_text = u\\\"The Business Impact of this Incident was updated to {0} in IBM SOAR\\\".format(incident.severity_code)\",\"pre_processing_script_language\":\"python\"}\u003c/resilient:function\u003e\u003c/extensionElements\u003e\u003cincoming\u003eSequenceFlow_0vmidoa\u003c/incoming\u003e\u003coutgoing\u003eSequenceFlow_0j5l1eb\u003c/outgoing\u003e\u003c/serviceTask\u003e\u003csequenceFlow id=\"SequenceFlow_0j5l1eb\" sourceRef=\"ServiceTask_1ja1bom\" targetRef=\"EndEvent_06mgtvg\"/\u003e\u003ctextAnnotation id=\"TextAnnotation_0a4uha4\"\u003e\u003ctext\u003e\u003c![CDATA[Updates the Severity of the ServiceNow Record\n]]\u003e\u003c/text\u003e\u003c/textAnnotation\u003e\u003cassociation id=\"Association_1yndtqt\" sourceRef=\"ServiceTask_0od8bcy\" targetRef=\"TextAnnotation_0a4uha4\"/\u003e\u003ctextAnnotation id=\"TextAnnotation_0vewdhl\"\u003e\u003ctext\u003e\u003c![CDATA[Adds a Work Note to the ServiceNow Record detailing the Severity change\n]]\u003e\u003c/text\u003e\u003c/textAnnotation\u003e\u003cassociation id=\"Association_0vxb7px\" sourceRef=\"ServiceTask_1ja1bom\" targetRef=\"TextAnnotation_0vewdhl\"/\u003e\u003c/process\u003e\u003cbpmndi:BPMNDiagram id=\"BPMNDiagram_1\"\u003e\u003cbpmndi:BPMNPlane bpmnElement=\"undefined\" id=\"BPMNPlane_1\"\u003e\u003cbpmndi:BPMNShape bpmnElement=\"StartEvent_155asxm\" id=\"StartEvent_155asxm_di\"\u003e\u003comgdc:Bounds height=\"36\" width=\"36\" x=\"162\" y=\"188\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"0\" width=\"90\" x=\"157\" y=\"223\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNShape bpmnElement=\"EndEvent_06mgtvg\" id=\"EndEvent_06mgtvg_di\"\u003e\u003comgdc:Bounds height=\"36\" width=\"36\" x=\"664\" y=\"188\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"0\" x=\"682\" y=\"227\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1proo8q\" id=\"SequenceFlow_1proo8q_di\"\u003e\u003comgdi:waypoint x=\"198\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003comgdi:waypoint x=\"291\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"199.5\" y=\"184.5\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"ServiceTask_0od8bcy\" id=\"ServiceTask_0od8bcy_di\"\u003e\u003comgdc:Bounds height=\"80\" width=\"100\" x=\"291\" y=\"166\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0vmidoa\" id=\"SequenceFlow_0vmidoa_di\"\u003e\u003comgdi:waypoint x=\"391\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003comgdi:waypoint x=\"484\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"90\" x=\"392.5\" y=\"184.5\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"ServiceTask_1ja1bom\" id=\"ServiceTask_1ja1bom_di\"\u003e\u003comgdc:Bounds height=\"80\" width=\"100\" x=\"484\" y=\"166\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0j5l1eb\" id=\"SequenceFlow_0j5l1eb_di\"\u003e\u003comgdi:waypoint x=\"584\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003comgdi:waypoint x=\"664\" xsi:type=\"omgdc:Point\" y=\"206\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"13\" width=\"0\" x=\"624\" y=\"184.5\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"TextAnnotation_0a4uha4\" id=\"TextAnnotation_0a4uha4_di\"\u003e\u003comgdc:Bounds height=\"53\" width=\"141\" x=\"222\" y=\"47\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Association_1yndtqt\" id=\"Association_1yndtqt_di\"\u003e\u003comgdi:waypoint x=\"326\" xsi:type=\"omgdc:Point\" y=\"166\"/\u003e\u003comgdi:waypoint x=\"302\" xsi:type=\"omgdc:Point\" y=\"100\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"TextAnnotation_0vewdhl\" id=\"TextAnnotation_0vewdhl_di\"\u003e\u003comgdc:Bounds height=\"62\" width=\"169\" x=\"561\" y=\"43\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Association_0vxb7px\" id=\"Association_0vxb7px_di\"\u003e\u003comgdi:waypoint x=\"568\" xsi:type=\"omgdc:Point\" y=\"166\"/\u003e\u003comgdi:waypoint x=\"620\" xsi:type=\"omgdc:Point\" y=\"105\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003c/bpmndi:BPMNPlane\u003e\u003c/bpmndi:BPMNDiagram\u003e\u003c/definitions\u003e"
      },
      "content_version": 16,
      "creator_id": "admin@example.com",
      "description": "An example workflow that, when an Incident\u0027s severity is changed, updates its associated ServiceNow Security Incident Response Record\u0027s severity and adds a Work Note to the Record",
      "export_key": "example_sir_snow_update_record_on_severity_change",
      "last_modified_by": "70c20070-0fb3-454a-a8db-5f172c3c754d",
      "last_modified_time": 1645113790557,
      "name": "Example: [SIR] SNOW Update Record on Severity Change",
      "object_type": "incident",
      "programmatic_name": "example_sir_snow_update_record_on_severity_change",
      "tags": [],
      "uuid": "b8ebf5d6-64dd-4f97-b520-af8bc281ceca",
      "workflow_id": 57
    }
  ],
  "workspaces": []
}
