<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-circuits codegen
-->

# Example: SNOW: Add Attachment to Record

## Function - SNOW: Add Attachment to Record

### API Name
`fn_snow_add_attachment_to_record`

### Output Name
`None`

### Message Destination
`fn_service_now`

### Pre-Processing Script
```python
# Example: SNOW: Add Attachment to Record

####################################
### Define pre-processing inputs ###
####################################

# The id of this attachment
inputs.attachment_id = attachment.id

# The id of this incident
inputs.incident_id = incident.id

# If this is a task attachment, get the taskId
if attachment.type == 'task':
  inputs.task_id = task.id

```

### Post-Processing Script
```python
# SN Utilities: Example: Add Attachment to ServiceNow Record post-processing script

if results.success:

  noteText = u"""<br>{0} has added an attachment to <b>ServiceNow</b>
              <br><b>Attachment Name:</b>  {1}
              <br><b>ServiceNow ID:</b>  {2}""".format(unicode(principal.display_name), unicode(results.attachment_name), results.sn_ref_id)

  # If this is a task attachment, add a note to the Task
  if task:
    task.addNote(helper.createRichText(noteText))
  # Else add the note to the Incident
  else:
    incident.addNote(helper.createRichText(noteText))
```

---

