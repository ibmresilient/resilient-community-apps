<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-sdk codegen
    Generated with resilient-sdk v52.0.0.0.1010
-->

# Playbook - SNOW: Send as Work Note (PB)

### API Name
`snow_send_as_work_note_pb`

### Status
`enabled`

### Activation Type
`Manual`

### Activation Conditions
`note.text not_contains Sent to ServiceNow at`

### Object Type
`note`

### Description
None


---
## Function - SNOW: Add Note to Record

### API Name
`fn_snow_add_note_to_record`

### Output Name
`add_note`

### Message Destination
`fn_service_now`

### Function-Input Script
```python
inputs.sn_note_type = "work_note"
# The id of this incident
inputs.incident_id = incident.id

# If this is a task note, get the taskId
if note.type == 'task':
  # Set the task_id
  inputs.task_id = task.id

# Get the text of the note
inputs.sn_note_text = note.text.content

```

---

## Local script - SNOW post-process

### Description


### Script Type
`Local script`

### Object Type
`note`

### Script Content
```python
from datetime import datetime
note.text = f"<b>Sent to ServiceNow at {datetime.now()}</b><br>{note.text.content}"
```

---

