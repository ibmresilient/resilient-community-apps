# fn_xforce 


This integration contains the following functions :

#### X-Force Query by ID:
Allows a user to query for enrichment information relating to an existing case on X-Force. Using the casefile ID as a parameter the function contacts the X-Force API and attempts to find a matching case.

#### X-Force Query Collection:
Allows a user to submit a query to the X-Force API seeking for collections of infomration relating to the search term. Supports searching either public or private collections

This template project was generated by

    resilient-circuits codegen -p fn_xforce [-f xforce_get_collection_by_id xforce_query_collection] [-w example_xforce_query_collections example_xforce_collection_by_id]


### Installation
#### Set the following values in the config file (`app.config`) under the `[fn_xforce]` section:

```
xforce_apikey = <YOUR_API_KEY>
xforce_password = <YOUR_API_PASSWORD>
xforce_http_proxy = <HTTP PROXY>
xforce_https_proxy = <HTTPS PROXY>
```

To install in "development mode"

    pip install -e ./fn_xforce/

After installation, the package will be loaded by `resilient-circuits run`.


To uninstall,

    pip uninstall fn_xforce


To package for distribution,

    python ./fn_xforce/setup.py sdist

The resulting .tar.gz file can be installed using

    pip install fn_xforce-1.0.0.tar.gz


## How to use the function

1. Import the necessary customization data into the Resilient platform after pip installing the function:

    resilient-circuits customize

This creates the following customization components:

* Function inputs: `xforce_collection_id`, `xforce_collection_type`, `xforce_query`
* Message Destinations:`fn_xforce`
* Functions:`xforce_get_collection_by_id`, `xforce_query_collection`
* Workflows:`example_xforce_collection_by_id`, `example_xforce_query_collections`
* Rules:`Example: X-Force Query Collection by ID`, `Example: X-Force Query from Artifact`

2. Update and edit `app.config`:

		resilient-circuits configure -u

3. Start Resilient Circuits:
    ```
    resilient-circuits run
    ```

4. Trigger the rule.