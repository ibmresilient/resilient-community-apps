<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-sdk codegen
    Generated with resilient-sdk v51.0.5.0.1475
-->

# Example: Query IP Artifact With IpInfo

## Function - IpInfo: Query IP Address

### API Name
`fn_ipinfo_query_ip_address`

### Output Name
`None`

### Message Destination
`fn_ipinfo`

### Pre-Processing Script
```python
inputs.ipinfo_query_ip = artifact.value
```

### Post-Processing Script
```python
"""
Example output from IP Info 

{
'success': True, 
'inputs': 
    {'ipinfo_query_ip': '8.8.8.8'}, 
'query_result': 
    {'ip': '8.8.8.8', 
    'hostname': 
    'google-public-dns-a.google.com', 
    'city': 'Mountain View', 
    'region': 'California', 
    'country': 'US', 
    'loc': '37.3860,-122.0840', 
    'postal': '94035', 
    'phone': '650', 
    'org': 'AS15169 Google LLC', 
    'country_name': 'United States', 
    'latitude': '37.3860', 
    'longitude': '-122.0840'}}
"""

if results.query_result:
  noteText = """IP Info Analysis ran against input <b>{0}</b> <br><br> Hostname : <b>{1}</b> <br> Country <b>{2}</b> <br> GeoLocation :<b>{3}</b>""".format(results.inputs["ipinfo_query_ip"], results.query_result['hostname'], results.query_result['country'], results.query_result['loc'])
  incident.addNote(helper.createRichText(noteText))
```

---

