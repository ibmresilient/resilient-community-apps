<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-sdk codegen
    Generated with resilient-sdk v51.0.5.0.1475
-->

# Playbook - Convert to Python 3

### API Name
`convert_to_python_3`

### Status
`enabled`

### Activation Type
`Manual`

### Activation Conditions
`search_for_py2_results.py2_convertible equals Yes AND search_for_py2_results.status equals Unconverted`

### Object Type
`search_for_py2_results`

### Description
Convert Scripts, Workflows and Playbooks to Python 3 if no blockers exist. Blockers are 'Manual Conversion Required', 'Python 2 iterators', and 'import java.util.Date'


---
## Function - Convert to Python 3

### API Name
`convert_to_python_3`

### Output Name
`convert_results`

### Message Destination
`fn_search_for_py2`

### Function-Input Script
```python
inputs.py2_item_id = row.item_id
inputs.py2_item_type = row.item_type
```

---

## Local script - Convert Results

### Description


### Script Type
`Local script`

### Object Type
`search_for_py2_results`

### Script Content
```python
from datetime import datetime
results = playbook.functions.results.convert_results

if results.success:
  now = int(datetime.now().timestamp()*1000)
  row["date"] = now
  row["status"] = "Converted"
  row["notes"] = results.reason if results.reason else ""
else:
  incident.addNote(f"Python 2 conversion failed for '{row.item_name.content}': {results.reason}")
```

---

