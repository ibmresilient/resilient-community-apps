<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-sdk codegen
    Generated with resilient-sdk v51.0.5.0.1475
-->

# Example Twitter: Popular Tweets For Tag(s)

## Function - Get Popular Tweets For Specified Tag(s)

### API Name
`twitter_most_popular_tweets`

### Output Name
`None`

### Message Destination
`fn_twitter_most_popular`

### Pre-Processing Script
```python
None
```

### Post-Processing Script
```python

"""
Example of the results returned by this workflow.

results = {
  success = True,
  inputs :{
    twitter_search_tweet_string: '{"hashtags":[ "Malware", "Ransomware", "Phishing"]}',
    twitter_search_tweet_count: 10
  }
  tweets: {
    statuses: [{
      text: "Hello World",
      id_str: "123",
      entities: {
          urls:[{
            url : "https://twitter.com/i/web/status/123"
          }]
        },
        ...OtherAttributes
      }
    }]
  }
}
"""

#Prepare the start of the note text
noteText = """<br><b>Twitter Search:</b>
                <b>Searched Tags: </b>{0}""".format(results["inputs"]["twitter_search_tweet_string"])

if (results.success):
  # For each returned tweet add the text and URL of the tweet to the noteText
  for tweet in results.tweets["statuses"]:
    noteText += """<br><br><b>Tweet Text:</b><br>{0}
    <b>Tweet URL</b>: <a href="{1}">{1}</a>""".format(tweet["full_text"],"https://twitter.com/i/web/status/{0}".format(tweet["id_str"])) 
else:
  noteText += """<b>No Results found</b>"""
# Now add the note to our incident
incident.addNote(helper.createRichText(noteText))
```

---

