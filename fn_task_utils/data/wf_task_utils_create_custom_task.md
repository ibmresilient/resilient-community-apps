<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-sdk codegen
    Generated with resilient-sdk v51.0.5.0.1475
-->

# Example: Task Utils - Create Custom Task

## Function - Task Utils: Create Custom Task

### API Name
`task_utils_create`

### Output Name
``

### Message Destination
`fn_task_utils`

### Pre-Processing Script
```python
#######################################
### Define pre-processing functions ###
#######################################
payload = {
"required": True,
"instr_text": "Close out this required Task",
"phase_id": "Initial"
}

def dict_to_json_str(d):
  """Function that converts a dictionary into a JSON stringself.
     Supports basestring, bool and int.
     If the value is None, it sets it to False"""

  json_str = '"{ {0} }"'
  json_entry = '"{0}":{1}'
  json_entry_str = '"{0}":"{1}"'
  entries = [] 
  
  for entry in d:
    key = entry
    value = d[entry]
    
      
    if value is None:
      value = False
      
    
    if isinstance(value, str):
      entries.append(json_entry_str.format(key, value))
    
    elif isinstance(value, bool):
      value = 'true' if value == True else 'false'
      entries.append(json_entry.format(key, value))
    
    else:
      entries.append(json_entry.format(key, value))
  
  return '{' + ','.join(entries) + '}'

# If you don't already have something in task_utils_payload
if inputs.task_utils_payload: 
  # prepare a JSON payload using above code; 
  inputs.task_utils_payload = dict_to_json_str(payload)

# Take the incident id from this incident
inputs.incident_id = incident.id

# If you specified a value in the Activity Field then use it for task_name
if rule.properties.task_utils_task_name:
  inputs.task_name = rule.properties.task_utils_task_name
```

### Post-Processing Script
```python
None
```

---

