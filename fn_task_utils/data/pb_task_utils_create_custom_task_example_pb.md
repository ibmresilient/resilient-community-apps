<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-sdk codegen
    Generated with resilient-sdk v51.0.6.0.1543
-->

# Playbook - Task Utils: Create Custom Task - Example (PB)

### API Name
`task_utils_create_custom_task_example_pb`

### Status
`enabled`

### Activation Type
`Manual`

### Activation Conditions
`-`

### Activation Form Elements
| Input Field Label | API Name | Element Type | Tooltip | Requirement |
| ----------------- | -------- | ------------ | ------- | ----------- |
| Task Name | `task_utils_task_name` | text | Enter task name you want to create. | Always |

### Object Type
`incident`

### Description
An example playbook used to demonstrate how you can create a custom task using the Task Utils Integration. This example playbook shows how you can use the Pre-Processing script to prepare a custom JSON Payload based on your use case.


---
## Function - Task Utils: Create Custom Task

### API Name
`task_utils_create`

### Output Name
`create_task_result`

### Message Destination
`fn_task_utils`

### Function-Input Script
```python
from json import dumps

# Take the incident id from this incident
inputs.incident_id = incident.id

# If you specified a value in the Activity Field then use it for task_name
if playbook.inputs.task_utils_task_name:
    inputs.task_name = playbook.inputs.task_utils_task_name

payload = {
    "required": True,
    "instr_text": "Close out this required Task",
    "phase_id": "Initial"
}

inputs.task_utils_payload = dumps(payload)

```

---

## Local script - Task Utils: Create Custom Task

### Description
Creating a new custom task.

### Script Type
`Local script`

### Object Type
`incident`

### Script Content
```python
results = playbook.functions.results.create_task_result

if results.success:
  note_text = f"<b>Task Utils: Create Custom Task - Example (PB):</b> {playbook.inputs.task_utils_task_name} created successfully"
else:
  note_text = f"<b>Task Utils: Create Custom Task - Example (PB):</b> Failed: {results.reason}"
  
incident.addNote(note_text)
```

---

