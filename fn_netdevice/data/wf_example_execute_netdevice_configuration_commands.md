<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-circuits codegen
-->

# Example: Execute Netdevice Configuration Commands

## Function - fn_netdevice_config

### API Name
`fn_netdevice_config`

### Output Name
`None`

### Message Destination
`fn_netdevice`

### Pre-Processing Script
```python
inputs.netdevice_config_cmd = rule.properties.config_commands.content
inputs.netdevice_ids = rule.properties.device_ids

```

### Post-Processing Script
```python
import re

pp = '(\\x1b\[\w*\d*(;\d*)*m)'

note = u""
for host in results['content']:
  note = note + u"Host: {}\n".format(host)
  note = note + u"Config Cmd: {}\nResult: {}\n".format(results['content'][host]['config_command'], re.sub(pp, '', results['content'][host].get('config_result', '')))
  
  if results['content'][host]['status'] == 'failure':
    note = note + u"Failure: {}\n".format(results['content'][host]['reason'])
    
  note = note + "\n"
    
note_text = helper.createPlainText(note)
incident.addNote(note_text)
```

---

