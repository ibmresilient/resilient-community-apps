<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-sdk codegen
    Generated with resilient-sdk v50.0.151
-->

# Playbook - Example: Jira Close Issue (Task)

### API Name
`example_jira_close_issue_task`

### Status
`enabled`

### Activation Type
`Manual`

### Activation Conditions
`incident.properties.jira_linked_to_incident equals True`

### Object Type
`jira_task_references`

### Description
Close the SOAR task


---
## Function - Jira Transition Issue

### API Name
`jira_transition_issue`

### Output Name
`close_task`

### Message Destination
`fn_jira`

### Function-Input Script
```python
from json import dumps

inputs.jira_label = row.server
inputs.jira_issue_id = row.jira_issue_id_col
inputs.jira_transition_id = "Done"
inputs.jira_comment = "Closed in IBM SOAR\n\nResolution: Done\n"

# Define JIRA fields here
inputs.jira_fields = dumps({"customfield_10041":{"value":"Resolved"}})
```

---

## Local script - Post-process

### Description


### Script Type
`Local script`

### Object Type
`jira_task_references`

### Script Content
```python
from datetime import datetime
time_now = datetime.now()
close_task = playbook.functions.results.close_task

if close_task.get("success"):
  row.date = time_now
  row.status = "Closed"
  row.last_updated = time_now
```

---

