<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-sdk codegen
-->

# Example: Jira Transition Issue (Task)

## Function - Jira Transition Issue

### API Name
`jira_transition_issue`

### Output Name
`None`

### Message Destination
`fn_jira`

### Pre-Processing Script
```python
# Example: Jira Transition Issue (Task) pre-processing script
def dict_to_json_str(d):
  """Function that converts a dictionary into a JSON string.
     Supports types: basestring, unicode, bool, int and nested dicts.
     Does not support lists.
     If the value is None, it sets it to False."""

  json_entry = u'"{0}":{1}'
  json_entry_str = u'"{0}":"{1}"'
  entries = []

  for entry in d:
    key = entry
    value = d[entry] 
    
    if not value:
      value = False

    if isinstance(value, list):
      helper.fail('dict_to_json_str does not support Python Lists')

    if isinstance(value, basestring):
      value = value.replace(u'"', u'\\"')
      entries.append(json_entry_str.format(unicode(key), unicode(value)))

    elif isinstance(value, unicode):
      entries.append(json_entry.format(unicode(key), unicode(value)))

    elif isinstance(value, bool):
      entries.append(json_entry.format(key, 'true' if value else 'false'))

    elif isinstance(value, int):
      entries.append(json_entry.format(unicode(key), value))

    elif isinstance(value, dict):
      entries.append(json_entry.format(key, dict_to_json_str(value)))

    else:
      helper.fail('dict_to_json_str does not support this type: {}'.format(type(value)))

  return u'{} {} {}'.format(u'{', ','.join(entries), u'}')

inputs.jira_label = row.server
inputs.jira_issue_id = row.jira_issue_id_col
inputs.jira_transition_id = "Done"
inputs.jira_comment = u"Closed in IBM SOAR\n\nResolution: Done\n"

# Define JIRA fields here
inputs.jira_fields = dict_to_json_str({"resolution": { "name": "Done" }})
```

### Post-Processing Script
```python
from java.util import Date
time_now = Date().time

if results.get("success"):
  row.date = time_now
  row.status = "Closed"
```

---

