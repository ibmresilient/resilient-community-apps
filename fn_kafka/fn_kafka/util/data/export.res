{
  "action_order": [],
  "actions": [],
  "apps": [],
  "automatic_tasks": [],
  "case_matching_profiles": [],
  "export_date": 1715714943326,
  "export_format_version": 2,
  "export_type": null,
  "fields": [
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/kafka_topic",
      "hide_notification": false,
      "id": 315,
      "input_type": "text",
      "internal": false,
      "is_tracked": false,
      "name": "kafka_topic",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "required": "always",
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "kafka_topic",
      "tooltip": "Kafka topic to send message to",
      "type_id": 11,
      "uuid": "8b5cb7e3-a801-42f5-8253-6cb2f557e536",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/kafka_key",
      "hide_notification": false,
      "id": 316,
      "input_type": "text",
      "internal": false,
      "is_tracked": false,
      "name": "kafka_key",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "kafka_key",
      "tooltip": "Optional key to pass with Kafka message",
      "type_id": 11,
      "uuid": "b0911574-5221-405d-bf6e-f14d8b8477b0",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/kafka_message",
      "hide_notification": false,
      "id": 317,
      "input_type": "text",
      "internal": false,
      "is_tracked": false,
      "name": "kafka_message",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "required": "always",
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "kafka_message",
      "tooltip": "Message to send, can be in JSON format",
      "type_id": 11,
      "uuid": "b41dae3b-b0e7-41ef-a097-ac12db1832c5",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/kafka_broker_label",
      "hide_notification": false,
      "id": 318,
      "input_type": "text",
      "internal": false,
      "is_tracked": false,
      "name": "kafka_broker_label",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "required": "always",
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "kafka_broker_label",
      "tooltip": "Broker label defined in app.config",
      "type_id": 11,
      "uuid": "fa964900-3f10-493d-bde0-4105c73cd31a",
      "values": []
    },
    {
      "export_key": "incident/internal_customizations_field",
      "id": 0,
      "input_type": "text",
      "internal": true,
      "name": "internal_customizations_field",
      "read_only": true,
      "text": "Customizations Field (internal)",
      "type_id": 0,
      "uuid": "bfeec2d4-3770-11e8-ad39-4a0004044aa1"
    }
  ],
  "functions": [
    {
      "created_date": 1715021328224,
      "description": {
        "content": "Send messages through Kafka based on a named topic",
        "format": "text"
      },
      "destination_handle": "fn_kafka",
      "display_name": "Kafka: Send",
      "export_key": "kafka_send",
      "id": 1,
      "last_modified_by": {
        "display_name": "Admin User",
        "id": 1,
        "name": "admin@example.com",
        "type": "user"
      },
      "last_modified_time": 1715356743876,
      "name": "kafka_send",
      "output_description": {
        "content": null,
        "format": "text"
      },
      "output_json_example": "{\"version\": \"1.0\", \"success\": true, \"reason\": null, \"content\": null, \"raw\": \"null\", \"inputs\": {\"kafka_broker_label\": \"brokerA\", \"kafka_message\": \"{\\\"name\\\": \\\"my test incident\\\",\\\"description\\\": \\\"this is from SOAR\\\",\\\"status\\\": \\\"A\\\",\\\"severity_code\\\": \\\"High\\\", \\\"discovered_date\\\": 1708705700642, \\\"start_date\\\": 1708705700642}\", \"kafka_key\": null, \"kafka_topic\": \"quickstart-events\"}, \"metrics\": {\"version\": \"1.0\", \"package\": \"fn-kafka\", \"package_version\": \"1.0.2\", \"host\": \"PMBP.local\", \"execution_time_ms\": 559, \"timestamp\": \"2024-05-07 15:32:32\"}}",
      "output_json_schema": "{\"$schema\": \"http://json-schema.org/draft-06/schema\", \"type\": \"object\", \"properties\": {\"version\": {\"type\": \"string\"}, \"success\": {\"type\": \"boolean\"}, \"reason\": {}, \"content\": {}, \"raw\": {\"type\": \"string\"}, \"inputs\": {\"type\": \"object\", \"properties\": {\"kafka_broker_label\": {\"type\": \"string\"}, \"kafka_message\": {\"type\": \"string\"}, \"kafka_key\": {}, \"kafka_topic\": {\"type\": \"string\"}}}, \"metrics\": {\"type\": \"object\", \"properties\": {\"version\": {\"type\": \"string\"}, \"package\": {\"type\": \"string\"}, \"package_version\": {\"type\": \"string\"}, \"host\": {\"type\": \"string\"}, \"execution_time_ms\": {\"type\": \"integer\"}, \"timestamp\": {\"type\": \"string\"}}}}}",
      "tags": [],
      "uuid": "6974cf84-6b1c-4f77-985c-17ea824d9ac3",
      "version": 2,
      "view_items": [
        {
          "content": "fa964900-3f10-493d-bde0-4105c73cd31a",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "8b5cb7e3-a801-42f5-8253-6cb2f557e536",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "b0911574-5221-405d-bf6e-f14d8b8477b0",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "b41dae3b-b0e7-41ef-a097-ac12db1832c5",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        }
      ],
      "workflows": []
    }
  ],
  "geos": null,
  "groups": null,
  "id": 9,
  "inbound_destinations": [],
  "inbound_mailboxes": null,
  "incident_artifact_types": [],
  "incident_types": [
    {
      "create_date": 1715714930395,
      "description": "Customization Packages (internal)",
      "enabled": false,
      "export_key": "Customization Packages (internal)",
      "hidden": false,
      "id": 0,
      "name": "Customization Packages (internal)",
      "parent_id": null,
      "system": false,
      "update_date": 1715714930395,
      "uuid": "bfeec2d4-3770-11e8-ad39-4a0004044aa0"
    }
  ],
  "layouts": [],
  "locale": null,
  "message_destinations": [
    {
      "api_keys": [
        "d37f5264-0b5c-4237-8324-bfb026cc9756",
        "d738ffae-f795-4c94-81f1-f6fe55e2c340"
      ],
      "destination_type": 0,
      "expect_ack": true,
      "export_key": "fn_kafka",
      "name": "fn_kafka",
      "programmatic_name": "fn_kafka",
      "tags": [],
      "users": [],
      "uuid": "babcbb7b-03fb-4ee4-93dc-0c845e47bc5c"
    }
  ],
  "notifications": null,
  "overrides": null,
  "phases": [],
  "playbooks": [
    {
      "activation_type": "manual",
      "content": {
        "content_version": 17,
        "xml": "\u003c?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?\u003e\u003cdefinitions xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:resilient=\"http://resilient.ibm.com/bpmn\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" targetNamespace=\"http://www.camunda.org/test\"\u003e\u003cprocess id=\"playbook_65dd8f3d_62ed_4825_b84c_8d09d042a980\" isExecutable=\"true\" name=\"playbook_65dd8f3d_62ed_4825_b84c_8d09d042a980\"\u003e\u003cdocumentation/\u003e\u003cstartEvent id=\"StartEvent_155asxm\"\u003e\u003coutgoing\u003eFlow_0ss04xn\u003c/outgoing\u003e\u003c/startEvent\u003e\u003cserviceTask id=\"ServiceTask_1\" name=\"Kafka: Send\" resilient:type=\"function\"\u003e\u003cextensionElements\u003e\u003cresilient:function uuid=\"6974cf84-6b1c-4f77-985c-17ea824d9ac3\"\u003e{\"inputs\":{},\"pre_processing_script\":\"inputs.kafka_broker_label = playbook.inputs.kafka_broker_label\\ninputs.kafka_topic = playbook.inputs.kafka_topic\\ninputs.kafka_key = playbook.inputs.kafka_key\\ninputs.kafka_message = playbook.inputs.kafka_message.get(\\\"content\\\")\",\"pre_processing_script_language\":\"python3\",\"result_name\":\"kafka_send_results\"}\u003c/resilient:function\u003e\u003c/extensionElements\u003e\u003cincoming\u003eFlow_0ss04xn\u003c/incoming\u003e\u003coutgoing\u003eFlow_17xa0vd\u003c/outgoing\u003e\u003c/serviceTask\u003e\u003csequenceFlow id=\"Flow_0ss04xn\" sourceRef=\"StartEvent_155asxm\" targetRef=\"ServiceTask_1\"/\u003e\u003cscriptTask id=\"ScriptTask_2\" name=\"Kafka: Write results to note\"\u003e\u003cextensionElements\u003e\u003cresilient:script uuid=\"0d4f9ab4-25a7-4d7b-ad9f-55f2c64dbb80\"/\u003e\u003c/extensionElements\u003e\u003cincoming\u003eFlow_17xa0vd\u003c/incoming\u003e\u003coutgoing\u003eFlow_1vovo25\u003c/outgoing\u003e\u003cscript\u003escript\u003c/script\u003e\u003c/scriptTask\u003e\u003csequenceFlow id=\"Flow_17xa0vd\" sourceRef=\"ServiceTask_1\" targetRef=\"ScriptTask_2\"/\u003e\u003cendEvent id=\"EndPoint_3\" resilient:documentation=\"End point\"\u003e\u003cincoming\u003eFlow_1vovo25\u003c/incoming\u003e\u003c/endEvent\u003e\u003csequenceFlow id=\"Flow_1vovo25\" sourceRef=\"ScriptTask_2\" targetRef=\"EndPoint_3\"/\u003e\u003c/process\u003e\u003cbpmndi:BPMNDiagram id=\"BPMNDiagram_1\"\u003e\u003cbpmndi:BPMNPlane bpmnElement=\"playbook_65dd8f3d_62ed_4825_b84c_8d09d042a980\" id=\"BPMNPlane_1\"\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Flow_1vovo25\" id=\"Flow_1vovo25_di\"\u003e\u003comgdi:waypoint x=\"721\" y=\"402\"/\u003e\u003comgdi:waypoint x=\"721\" y=\"454\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Flow_17xa0vd\" id=\"Flow_17xa0vd_di\"\u003e\u003comgdi:waypoint x=\"721\" y=\"262\"/\u003e\u003comgdi:waypoint x=\"721\" y=\"318\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Flow_0ss04xn\" id=\"Flow_0ss04xn_di\"\u003e\u003comgdi:waypoint x=\"721\" y=\"117\"/\u003e\u003comgdi:waypoint x=\"721\" y=\"178\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"StartEvent_155asxm\" id=\"StartEvent_155asxm_di\"\u003e\u003comgdc:Bounds height=\"52\" width=\"187.083\" x=\"627\" y=\"65\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"0\" width=\"90\" x=\"616\" y=\"100\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNShape bpmnElement=\"ServiceTask_1\" id=\"ServiceTask_1_di\"\u003e\u003comgdc:Bounds height=\"84\" width=\"196\" x=\"623\" y=\"177.64999389648438\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNShape bpmnElement=\"ScriptTask_2\" id=\"ScriptTask_2_di\"\u003e\u003comgdc:Bounds height=\"84\" width=\"196\" x=\"623\" y=\"317.6499938964844\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNShape bpmnElement=\"EndPoint_3\" id=\"EndPoint_3_di\"\u003e\u003comgdc:Bounds height=\"52\" width=\"132.15\" x=\"655\" y=\"453.6499938964844\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003c/bpmndi:BPMNPlane\u003e\u003c/bpmndi:BPMNDiagram\u003e\u003c/definitions\u003e"
      },
      "create_date": 1715086744963,
      "creator_principal": {
        "display_name": "Admin User",
        "id": 1,
        "name": "admin@example.com",
        "type": "user"
      },
      "deployment_id": "playbook_65dd8f3d_62ed_4825_b84c_8d09d042a980",
      "description": {
        "content": "Send messages through Kafka based on a named topic",
        "format": "text"
      },
      "display_name": "Kafka: Send (PB)",
      "export_key": "kafka_send",
      "field_type_handle": "playbook_65dd8f3d_62ed_4825_b84c_8d09d042a980",
      "fields_type": {
        "actions": [],
        "display_name": "Kafka: Send (PB)",
        "export_key": "playbook_65dd8f3d_62ed_4825_b84c_8d09d042a980",
        "fields": {
          "kafka_broker_label": {
            "allow_default_value": false,
            "blank_option": false,
            "calculated": false,
            "changeable": true,
            "chosen": false,
            "default_chosen_by_server": false,
            "deprecated": false,
            "export_key": "playbook_65dd8f3d_62ed_4825_b84c_8d09d042a980/kafka_broker_label",
            "hide_notification": false,
            "id": 319,
            "input_type": "text",
            "internal": false,
            "is_tracked": false,
            "name": "kafka_broker_label",
            "operation_perms": {},
            "operations": [],
            "placeholder": "",
            "prefix": null,
            "read_only": false,
            "required": "always",
            "rich_text": false,
            "tags": [],
            "templates": [],
            "text": "Broker Label",
            "tooltip": "Broker label defined in app.config",
            "type_id": 1000,
            "uuid": "8e53036a-41be-412f-a645-c21a92872266",
            "values": []
          },
          "kafka_key": {
            "allow_default_value": false,
            "blank_option": false,
            "calculated": false,
            "changeable": true,
            "chosen": false,
            "default_chosen_by_server": false,
            "deprecated": false,
            "export_key": "playbook_65dd8f3d_62ed_4825_b84c_8d09d042a980/kafka_key",
            "hide_notification": false,
            "id": 320,
            "input_type": "text",
            "internal": false,
            "is_tracked": false,
            "name": "kafka_key",
            "operation_perms": {},
            "operations": [],
            "placeholder": "",
            "prefix": null,
            "read_only": false,
            "rich_text": false,
            "tags": [],
            "templates": [],
            "text": "Key",
            "tooltip": "Optional key to pass with Kafka message",
            "type_id": 1000,
            "uuid": "fefc3bb4-35e5-4fc3-a58b-02891312419c",
            "values": []
          },
          "kafka_message": {
            "allow_default_value": false,
            "blank_option": false,
            "calculated": false,
            "changeable": true,
            "chosen": false,
            "default_chosen_by_server": false,
            "deprecated": false,
            "export_key": "playbook_65dd8f3d_62ed_4825_b84c_8d09d042a980/kafka_message",
            "hide_notification": false,
            "id": 321,
            "input_type": "textarea",
            "internal": false,
            "is_tracked": false,
            "name": "kafka_message",
            "operation_perms": {},
            "operations": [],
            "placeholder": "",
            "prefix": null,
            "read_only": false,
            "required": "always",
            "rich_text": false,
            "tags": [],
            "templates": [],
            "text": "Message",
            "tooltip": "Message to send, can be in JSON format",
            "type_id": 1000,
            "uuid": "9d54088e-4c52-452a-9a99-e2fedad650f0",
            "values": []
          },
          "kafka_topic": {
            "allow_default_value": false,
            "blank_option": false,
            "calculated": false,
            "changeable": true,
            "chosen": false,
            "default_chosen_by_server": false,
            "deprecated": false,
            "export_key": "playbook_65dd8f3d_62ed_4825_b84c_8d09d042a980/kafka_topic",
            "hide_notification": false,
            "id": 345,
            "input_type": "text",
            "internal": false,
            "is_tracked": false,
            "name": "kafka_topic",
            "operation_perms": {},
            "operations": [],
            "placeholder": "",
            "prefix": null,
            "read_only": false,
            "required": "always",
            "rich_text": false,
            "tags": [],
            "templates": [],
            "text": "Topic",
            "tooltip": "Kafka topic to send message to",
            "type_id": 1000,
            "uuid": "d55cd37b-c8a2-4e0f-850b-5e2a1479c37d",
            "values": []
          }
        },
        "for_actions": false,
        "for_custom_fields": false,
        "for_notifications": false,
        "for_workflows": false,
        "id": null,
        "parent_types": [
          "__playbook"
        ],
        "properties": {
          "can_create": false,
          "can_destroy": false,
          "for_who": []
        },
        "scripts": [],
        "tags": [],
        "type_id": 28,
        "type_name": "playbook_65dd8f3d_62ed_4825_b84c_8d09d042a980",
        "uuid": "5e5b808a-a08f-4612-a84a-760f249d6f07"
      },
      "has_logical_errors": false,
      "id": 1,
      "is_deleted": false,
      "is_locked": false,
      "last_modified_principal": {
        "display_name": "Admin User",
        "id": 1,
        "name": "admin@example.com",
        "type": "user"
      },
      "last_modified_time": 1715714898780,
      "local_scripts": [
        {
          "actions": [],
          "created_date": 1715095682626,
          "description": "Write results of Kafka Send function to a note",
          "enabled": false,
          "export_key": "Kafka: Write results to note",
          "id": 3,
          "language": "python3",
          "last_modified_by": "admin@example.com",
          "last_modified_time": 1715106299410,
          "name": "Kafka: Write results to note",
          "object_type": "incident",
          "playbook_handle": "kafka_send",
          "programmatic_name": "kafka_send_kafka_write_results_to_note",
          "script_text": "results = playbook.functions.results.kafka_send_results\n\nif not results.success:\n    incident.addNote(f\"\u003cb\u003eKafka: Send (PB):\u003c/b\u003e Unable to send message to broker {playbook.inputs.kafka_broker_label}.\")\nelse:\n  incident.addNote(f\"\u003cb\u003eKafka: Send (PB):\u003c/b\u003e Sent message to broker {playbook.inputs.kafka_broker_label}: {playbook.inputs.kafka_message.get(\u0027content\u0027)}\")",
          "tags": [],
          "uuid": "0d4f9ab4-25a7-4d7b-ad9f-55f2c64dbb80"
        }
      ],
      "manual_settings": {
        "activation_conditions": {
          "conditions": [],
          "logic_type": "all"
        },
        "view_items": [
          {
            "content": "8e53036a-41be-412f-a645-c21a92872266",
            "element": "field_uuid",
            "field_type": "playbook_65dd8f3d_62ed_4825_b84c_8d09d042a980",
            "show_if": null,
            "show_link_header": false,
            "step_label": null
          },
          {
            "content": "d55cd37b-c8a2-4e0f-850b-5e2a1479c37d",
            "element": "field_uuid",
            "field_type": "playbook_65dd8f3d_62ed_4825_b84c_8d09d042a980",
            "show_if": null,
            "show_link_header": false,
            "step_label": null
          },
          {
            "content": "fefc3bb4-35e5-4fc3-a58b-02891312419c",
            "element": "field_uuid",
            "field_type": "playbook_65dd8f3d_62ed_4825_b84c_8d09d042a980",
            "show_if": null,
            "show_link_header": false,
            "step_label": null
          },
          {
            "content": "9d54088e-4c52-452a-9a99-e2fedad650f0",
            "element": "field_uuid",
            "field_type": "playbook_65dd8f3d_62ed_4825_b84c_8d09d042a980",
            "show_if": null,
            "show_link_header": false,
            "step_label": null
          }
        ]
      },
      "name": "kafka_send",
      "object_type": "incident",
      "status": "enabled",
      "tag": {
        "display_name": "Playbook_65dd8f3d-62ed-4825-b84c-8d09d042a980",
        "id": 1,
        "name": "playbook_65dd8f3d_62ed_4825_b84c_8d09d042a980",
        "type": "playbook",
        "uuid": "1bf5f77f-bbec-4b5f-8e2d-b13370464bff"
      },
      "tags": [],
      "type": "default",
      "uuid": "65dd8f3d-62ed-4825-b84c-8d09d042a980",
      "version": 25
    }
  ],
  "regulators": null,
  "roles": [],
  "scripts": [],
  "server_version": {
    "build_number": 9097,
    "major": 50,
    "minor": 0,
    "version": "50.0.9097"
  },
  "tags": [],
  "task_order": [],
  "timeframes": null,
  "types": [],
  "workflows": [],
  "workspaces": []
}
