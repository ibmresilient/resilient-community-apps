<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-sdk codegen
    Generated with resilient-sdk v51.0.5.0.1475
-->

# Example: Twilio Receive Messages

## Function - Twilio: Get Responses

### API Name
`twilio_get_responses`

### Output Name
`None`

### Message Destination
`fn_twilio`

### Pre-Processing Script
```python
inputs.twilio_phone_number = rule.properties.twilio_sms_destination
inputs.twilio_date_sent_ts = rule.properties.twilio_after_date_ts
inputs.twilio_wait_timeout = rule.properties.twilio_wait_timeout
```

### Post-Processing Script
```python
from datetime import datetime

if results.success:
  for entry in results.content:
    row = incident.addRow("twilio_sms_log")
    row['row_created'] = datetime.now().strftime('%d/%m/%y %H:%M:%S')
    row['status'] = entry.get("status")
    row['message_id'] = entry.get("messaging_service_sid")
    row['date_created'] = entry.get("date_created_ts")
    row['msg_body'] = entry.get("message_body")
    row['phone_number'] = entry.get("phone_number")
    row["direction"] = entry.get("direction")
else:
  incident.addNote("Twilio Received Messages failed: {}".format(results.reason))
  
  
```

---

