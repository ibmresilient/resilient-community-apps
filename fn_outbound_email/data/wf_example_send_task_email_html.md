<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-sdk codegen
-->

# Example: Send Task Email HTML

## Function - Outbound Email: Send Email

### API Name
`send_email`

### Output Name
`outbound_email_results`

### Message Destination
`email_outbound`

### Pre-Processing Script
```python
import datetime
inputs.mail_to = rule.properties.mail_to
inputs.mail_cc = rule.properties.mail_cc
inputs.mail_attachments = rule.properties.mail_attachments
inputs.mail_incident_id = incident.id
inputs.mail_from = rule.properties.mail_from
inputs.mail_subject = u"[{0}] {1} Task:{2}".format(incident.id, incident.name, task.name)

creation_date = datetime.datetime.fromtimestamp(incident.create_date/1000).strftime('%Y-%m-%d %H:%M:%S')
type_ids = u", ".join(incident.incident_type_ids)
sev_code = u"{}".format(incident.severity_code)
current_plan = u"{}".format(incident.plan_status)

inputs.mail_body_html = u"""
<h2>Incident Summary</h2>
    Severity Code: {0}
<br>
    Plan Status: {1}
<br>
    Created: {2}
<br>
    Incident Type: {3}
<br>
    Incident Link: <a target='_blank' href='{{{{ template_helper.generate_incident_url({6}) }}}}'>{6}</a>
<br>
    Task: <a target='_blank' href='{{{{ template_helper.generate_task_url({6},{7}) }}}}'>{4}</a>
<br>
    Instructions: 
<br>
{5}
""".format(sev_code, current_plan, creation_date, type_ids, task.name, task.instructions.get("content") if task.instructions else '-', incident.id, task.id)

```

### Post-Processing Script
```python
None
```

---

