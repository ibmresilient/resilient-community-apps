<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="search" title="Search" href="../search.html" />

    <link rel="shortcut icon" href="../_static/IBM_Security_Shield.ico"/><!-- Generated with Sphinx 8.1.3 and Furo 2024.08.06 -->
        <title>OAuth Utilities - QRadar SOAR Apps</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=afe95b24" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">QRadar SOAR Apps</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../_static/IBM_Security_Light.png" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../_static/IBM_Security_Dark.png" alt="Dark Logo"/>
  </div>
  
  <span class="sidebar-brand-text">QRadar SOAR Apps</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">New and Recently Updated Apps</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../fn_service_now/README.html">ServiceNow</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of ServiceNow</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../fn_service_now/docs/install_guide/README.html">ServiceNow Installation Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fn_service_now/docs/customize_snow_guide/README.html">ServiceNow Customization Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fn_service_now/docs/customize_resilient_guide/README.html">SOAR Customization Guide</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../fn_remedy/README.html">Remedy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_siemplify/README.html">Siemplify</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_vmware_cbc/README.html">VMware Carbon Black Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_aws_iam/README.html">AWS IAM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_symantec_dlp/README.html">Symantec DLP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rc_data_feed_plugin_resilientfeed/README.html">Data Feeder for SOAR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_wiz/README.html">Wiz</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">App Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../docs/python_api.html">IBM SOAR Python Documentation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">All Apps</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../fn_algosec/README.html">AlgoSec</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_abuseipdb/README.html">AbuseIPDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_alienvault_otx/README.html">AlienVault OTX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_anomali_staxx/README.html">Anomali Staxx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_ansible/README.html">Ansible for SOAR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_ansible_tower/README.html">Ansible Tower</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_api_void/README.html">APIVoid Threat Analysis APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_aws_guardduty/README.html">AWS GuardDuty</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_aws_utilities/README.html">AWS Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_axonius/README.html">Axonius</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_azure_automation_utilities/README.html">Azure Automation Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_bigfix/README.html">BigFix</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_bmc_helix/README.html">BMC Helix</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_calendar_invite/README.html">Calendar Invite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_cisco_amp4ep/README.html">Cisco Secure Endpoint</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_cisco_asa/README.html">Cisco ASA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_cisco_enforcement/README.html">Cisco Umbrella Enforcement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_cisco_umbrella_inv/README.html">Cisco Umbrella Investigate</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_clamav/README.html">ClamAV</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_cloud_foundry/README.html">Cloud Foundry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_components/README.html">App Host Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_create_webex_meeting/README.html">Cisco WebEx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_create_zoom_meeting/README.html">Zoom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_cve_search/README.html">CVE Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_darktrace/README.html">Darktrace <!-- omit in toc --></a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_datatable_utils/README.html">Datatable Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_elasticsearch/README.html">ElasticSearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_email_header_validation/README.html">Email Header Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_exchange/README.html">Microsoft Exchange</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_exchange_online/README.html">Microsoft Exchange Online</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_extrahop/README.html">ExtraHop for IBM SOAR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_geocoding/README.html">Google Geocoding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_github/README.html">GitHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_google_cloud_dlp/README.html">Google Cloud DLP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_google_cloud_scc/README.html">Google Cloud Security Command Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_googlesafebrowsing/README.html">Google Safe Browsing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_greynoise/README.html">GreyNoise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_grpc_interface/README.html">gRPC Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_guardium_insights_integration/README.html">Guardium Insights Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_guardium_integration/README.html">Guardium Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_hibp/README.html">Have I Been Pwned</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_html2pdf/README.html">HTML to PDF</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_icdx/README.html">Symantec ICDx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_incident_utils/README.html">Incident Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_ioc_parser_v2/README.html">IOC Parser</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_ipinfo/README.html">IPInfo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_isitphishing/README.html">IsItPhishing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_jira/README.html">Jira</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_joe_sandbox_analysis/README.html">Joe Sandbox Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_kafka/README.html">Kafka</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_ldap_utilities/README.html">LDAP Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_maas360/README.html">MaaS360</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_mandiant/README.html">Mandiant Threat Intelligence</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_mcafee_atd/README.html">McAfee ATD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_mcafee_epo/README.html">McAfee ePO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_mcafee_esm/README.html">McAfee ESM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_mcafee_opendxl/README.html">McAfee OpenDXL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_mcafee_tie/README.html">McAfee TIE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_microsoft_defender/README.html">Microsoft Defender</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_microsoft_security_graph/README.html">Microsoft Security Graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_microsoft_sentinel/README.html">Microsoft Sentinel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_misp/README.html">MISP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_mitre_integration/README.html">MITRE ATT&amp;CK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_mxtoolbox/README.html">MxToolBox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_netdevice/README.html">netMiko</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_network_utilities/README.html">Network Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_ocr/README.html">Image OCR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_odbc_query/README.html">ODBC Query</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_outbound_email/README.html">Outbound Email</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_pa_panorama/README.html">Palo Alto Panorama</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_pagerduty/README.html">PagerDuty</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_parse_utilities/README.html">Parse Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_passivetotal/README.html">PassiveTotal</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_pastebin/README.html">PasteBin Creator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_phish_ai/README.html">Phish.AI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_phish_tank/README.html">Phish Tank</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_pipl/README.html">Pipl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_playbook_maker/README.html">Playbook Maker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_playbook_utils/README.html">Playbook Utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_proofpoint_tap/README.html">Proofpoint TAP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_proofpoint_trap/README.html">Proofpoint TRAP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_pulsedive/README.html">Pulsedive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_qradar_advisor/README.html">QRadar Advisor Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_qradar_enhanced_data/README.html">QRadar Enhanced Data Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_qradar_integration/README.html">QRadar Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_query_tor_network/README.html">TOR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_randori/README.html">Randori</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_rapid7_insight_idr/README.html">Rapid7 InsightIDR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_reaqta/README.html">QRadar EDR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_relations/README.html">Parent/Child Relationships</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_rest_api/README.html">REST API Functions for SOAR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_rsa_netwitness/README.html">RSA NetWitness</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_salesforce/README.html">Salesforce</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_soar_utils/README.html">SOAR Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_scheduler/README.html">Scheduler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_secureworks_ctp/README.html">Secureworks CTP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_sentinelone/README.html">SentinelOne</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_sep/README.html">Symantec Endpoint Protection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_shadowserver/README.html">Shadowserver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_shodan/README.html">Shodan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_slack/README.html">Slack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_snapshot_url/README.html">Snapshot URL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_spamhaus_query/README.html">Spamhaus Lookup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_splunk_integration/README.html">Splunk</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_sumo_logic/README.html">Sumo Logic Cloud SIEM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_task_utils/README.html">Task Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_teams/README.html">Microsoft Teams</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_threatminer/README.html">ThreatMiner</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_timer/README.html">Timer Function</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_trusteer_ppd/README.html">Trusteer Pinpoint Detect</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_twilio/README.html">Twilio SMS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_twitter_most_popular/README.html">Twitter Search API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_url_to_dns/README.html">URL to DNS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_urlhaus/README.html">URLhaus</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_urlscanio/README.html">URLScan.io</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_utilities/README.html">Utilities (Deprecated)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_virustotal/README.html">VirusTotal</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_vmray_analyzer/README.html">VMRay Sandbox Analyzer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_watsonx_analyst/README.html">watsonx.ai for SOAR Analysts<!-- omit in toc --></a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_webex/README.html">Cisco Webex</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_whois/README.html">Whois</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_whois_rdap/README.html">Whois RDAP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_wiki/README.html">SOAR Wiki</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_xforce/README.html">IBM XForce Collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_yeti/README.html">Yeti</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fn_zia/README.html">Zscaler Internet Access Functions for IBM SOAR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rc_data_feed/README.html">Data Feed Extension</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rc_data_feed_plugin_elasticfeed/README.html">Data Feed Elasticsearch Plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rc_data_feed_plugin_kafkafeed/README.html">Data Feed KafkaFeed Plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rc_data_feed_plugin_odbcfeed/README.html">Data Feeder for ODBC Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rc_data_feed_plugin_splunkfeed/README.html">Data Feed plugin for Splunk</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rc-cts-abuseipdb/README.html">AbuseIPDB Threat Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rc-cts-haveibeenpwned/README.html">Have I Been Pwned Threat Searcher</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rc-cts-mcafeetie/README.html">McAfee TIE Threat Searcher</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rc-cts-passivetotal/README.html">RiskIQ PassiveTotal</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rc-cts-shadowserver/README.html">ShadowServer Threat Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rc-cts-urlscanio/README.html">URLScan IO Threat Searcher</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          

<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <!--

  It is best edited using a Text Editor with a Markdown Previewer. VS Code
  is a good example. Checkout https://guides.github.com/features/mastering-markdown/
  for tips on writing with Markdown

  All fields followed by "::CHANGE_ME::"" should be manually edited

  If you make manual edits and run docgen again, a .bak file will be created

  Store any screenshots in the "doc/screenshots" directory and reference them like:
  ![screenshot: screenshot_1](./screenshots/screenshot_1.png)

  NOTE: If your app is available in the container-format only, there is no need to mention the integration server in this readme.
-->
<section id="oauth-utilities">
<h1>OAuth Utilities<a class="headerlink" href="#oauth-utilities" title="Link to this heading">¶</a></h1>
<section id="table-of-contents">
<h2>Table of Contents<a class="headerlink" href="#table-of-contents" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="#release-notes"><span class="xref myst">Release Notes</span></a></p></li>
<li><p><a class="reference internal" href="#overview"><span class="xref myst">Overview</span></a></p>
<ul>
<li><p><a class="reference internal" href="#key-features"><span class="xref myst">Key Features</span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#requirements"><span class="xref myst">Requirements</span></a></p></li>
<li><p><a class="reference internal" href="#installation"><span class="xref myst">Installation</span></a></p>
<ul>
<li><p><a class="reference internal" href="#install"><span class="xref myst">Install</span></a></p></li>
<li><p><a class="reference internal" href="#configuration"><span class="xref myst">Configuration</span></a></p></li>
<li><p><a class="reference internal" href="#usage"><span class="xref myst">Usage</span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#configure-oauth-20-credentials"><span class="xref myst">Configure OAuth 2.0 credentials</span></a></p>
<ul>
<li><p><a class="reference internal" href="#google-gmail"><span class="xref myst">Google Gmail</span></a></p></li>
<li><p><a class="reference internal" href="#microsoft-outlook-365"><span class="xref myst">Microsoft Outlook 365</span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#troubleshooting--support"><span class="xref myst">Troubleshooting &amp; Support</span></a></p></li>
</ul>
</section>
<hr class="docutils" />
<section id="release-notes">
<h2>Release Notes<a class="headerlink" href="#release-notes" title="Link to this heading">¶</a></h2>
<!--
  Specify all changes in this release. Do not remove the release
  notes of a previous release
-->
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Version</p></th>
<th class="head"><p>Date</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1.0.0</p></td>
<td><p>07/2022</p></td>
<td><p>Initial Release</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<hr class="docutils" />
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">¶</a></h2>
<!--
  Provide a high-level description of the function itself and its remote software or application.
  The text below is parsed from the "description" and "long_description" attributes in the setup.py file
-->
<p><strong>OAuth utilities</strong></p>
<p>The OAuth Utilities package provides tools and utilities to support OAuth for IBM SOAR apps.</p>
<section id="key-features">
<h3>Key Features<a class="headerlink" href="#key-features" title="Link to this heading">¶</a></h3>
<!--
  List the Key Features of the package
-->
<ul class="simple">
<li><p>A utility to generate an OAuth 2.0 authorization code flow refresh token for an IBM SOAR app.</p></li>
</ul>
</section>
</section>
<hr class="docutils" />
<section id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Link to this heading">¶</a></h2>
<!--
  List any Requirements
-->
<section id="python-environment">
<h3>Python Environment<a class="headerlink" href="#python-environment" title="Link to this heading">¶</a></h3>
<p>Both Python 3.6 and python 3.9 are supported.
Additional package dependencies might exist for each of these packages:</p>
<ul class="simple">
<li><p>Jinja2&gt;=30.0.0</p></li>
<li><p>six&gt;=39.0.0</p></li>
<li><p>urllib3&gt;=0.18.2</p></li>
<li><p>requests&gt;=0.18.2</p></li>
<li><p>flask&gt;=2.0.3</p></li>
<li><p>pyOpenssl&gt;=0.18.2</p></li>
<li><p>click&gt;=8.0.4</p></li>
</ul>
<section id="prerequisites">
<h4>Prerequisites<a class="headerlink" href="#prerequisites" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Utility <code class="docutils literal notranslate"><span class="pre">oauth2_generate_refresh_token</span></code>: An OAuth 2.0 identity provider service with an app or project configured to allow user access to a 3rd party application.</p></li>
</ul>
</section>
<section id="configuration">
<h4>Configuration<a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Utility <code class="docutils literal notranslate"><span class="pre">oauth2_generate_refresh_token</span></code>: The following settings must be provided for the OAuth 2.0 service.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">client_id</span>
<span class="n">client_secret</span>
<span class="n">scope</span>
<span class="n">token_url</span>
<span class="n">auth_url</span>
</pre></div>
</div>
</section>
<section id="permission">
<h4>Permission<a class="headerlink" href="#permission" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Utility <code class="docutils literal notranslate"><span class="pre">oauth2_generate_refresh_token</span></code>: The provided OAuth 2.0 configuration settings must have required access to the 3rd party app.</p></li>
</ul>
</section>
</section>
</section>
<hr class="docutils" />
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Link to this heading">¶</a></h2>
<section id="install">
<h3>Install<a class="headerlink" href="#install" title="Link to this heading">¶</a></h3>
<p>You can download the oauth-utils app packages from the <a class="reference external" href="https://github.com/ibmresilient/resilient-community-apps">IBM Resilient Community</a>  or <a class="reference external" href="https://exchange.xforce.ibmcloud.com">IBM X-Force App Exchange</a>.</p>
<p>Complete the following steps to install the <code class="docutils literal notranslate"><span class="pre">oauth-utils</span></code> Python package:</p>
<ol class="arabic simple">
<li><p>Ensure that your python environment is up to date, as follows:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">pip</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">setuptools</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Go to the folder where the downloaded app is located and unzip. For example:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unzip</span> <span class="n">oauth</span><span class="o">-</span><span class="n">utils</span><span class="o">-</span><span class="mf">1.0.0</span><span class="o">-</span><span class="mf">00001.</span><span class="n">zip</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>The app zip file contains a python package. Install the package using the following command:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">oauth</span><span class="o">-</span><span class="n">utils</span><span class="o">-</span><span class="mf">1.0.0</span><span class="o">-</span><span class="mf">00001.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>If running in browser mode, install optional python modules using the following command:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">oauth</span><span class="o">-</span><span class="n">utils</span><span class="o">-</span><span class="mf">1.0.0</span><span class="o">-</span><span class="mf">00001.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span><span class="p">[</span><span class="n">browser</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="package-configuration">
<h3>Package Configuration<a class="headerlink" href="#package-configuration" title="Link to this heading">¶</a></h3>
<section id="utility-oauth2-generate-refresh-token">
<h4>Utility: oauth2_generate_refresh_token<a class="headerlink" href="#utility-oauth2-generate-refresh-token" title="Link to this heading">¶</a></h4>
</section>
<section id="required-settings">
<h4>Required Settings<a class="headerlink" href="#required-settings" title="Link to this heading">¶</a></h4>
<p>The following table provides the settings required to execute this utility. These settings are either read from an app.config file or provided as command-line arguments.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Setting/Argument</p></th>
<th class="head text-center"><p>Required</p></th>
<th class="head"><p>Example</p></th>
<th class="head"><p>Cli usage</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>client_id</p></td>
<td class="text-center"><p>Yes</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1234567a-abc8-90d1-2efa3-123456789abcd</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-ci</span> <span class="pre">or</span> <span class="pre">--client_id</span> <span class="pre">&lt;CLIENT_ID&gt;</span></code></p></td>
<td><p><em>OAuth 2.0 application or project client ID.</em></p></td>
</tr>
<tr class="row-odd"><td><p>client_secret</p></td>
<td class="text-center"><p>Yes</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ABCDEF-123456789abcd123456789a_aWX4</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-ci</span> <span class="pre">or</span> <span class="pre">--client_secret</span> <span class="pre">&lt;CLIENT_SECRET&gt;</span></code></p></td>
<td><p><em>OAuth 2.0 application or project client Secret.</em></p></td>
</tr>
<tr class="row-even"><td><p>scope</p></td>
<td class="text-center"><p>Yes</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">https://mail.myservice.com/</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-sc</span> <span class="pre">or</span> <span class="pre">--scope</span> <span class="pre">&lt;SCOPE&gt;</span></code></p></td>
<td><p><em>OAuth 2.0 application or project scope.</em></p></td>
</tr>
<tr class="row-odd"><td><p>token_url</p></td>
<td class="text-center"><p>Yes</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">https://myservice.com/o/oauth2/token</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-tu</span> <span class="pre">or</span> <span class="pre">--token_url</span> <span class="pre">&lt;TOKEN_URL&gt;</span></code></p></td>
<td><p><em>OAuth 2.0 application or project token url.</em></p></td>
</tr>
<tr class="row-even"><td><p>auth_url</p></td>
<td class="text-center"><p>Yes</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">https://myservice.com/o/oauth2/auth</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-au</span> <span class="pre">or</span> <span class="pre">--auth_url</span> <span class="pre">&lt;AUTH_URL&gt;</span></code></p></td>
<td><p><em>OAuth 2.0 application or project authorization url.</em></p></td>
</tr>
</tbody>
</table>
</div>
<p><strong><em>NOTE:</em></strong> The settings are all read either from an app.config file or as command-line arguments. These operations are mutually exclusive.</p>
<p><strong><em>NOTE:</em></strong> The settings are read from an app.config file if one is located in the environment. Alternative app.config files can be selected using the -c or –config_file option.</p>
</section>
<section id="arguments">
<h4>Arguments<a class="headerlink" href="#arguments" title="Link to this heading">¶</a></h4>
<p>The following table provides additional optional command-line arguments which can be used to execute this utility.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Argument</p></th>
<th class="head text-center"><p>Required</p></th>
<th class="head"><p>Example</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>browser</p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-b</span> <span class="pre">or</span> <span class="pre">--browser</span></code></p></td>
<td><p><em>Browser mode. Use a browser to control the flow and run a callback listener.</em></p></td>
</tr>
<tr class="row-odd"><td><p>config_file</p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-c</span> <span class="pre">or</span> <span class="pre">--config_file</span> <span class="pre">&lt;path_to_config_file&gt;/app.config</span></code></p></td>
<td><p><em>Location of app.config file to override default.</em></p></td>
</tr>
<tr class="row-even"><td><p>port</p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-p</span> <span class="pre">or</span> <span class="pre">--port</span> <span class="pre">4000</span></code></p></td>
<td><p><em>TCP port used for callback url and listener (default is 8080).</em></p></td>
</tr>
<tr class="row-odd"><td><p>timeout</p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-t</span> <span class="pre">or</span> <span class="pre">--timeout</span> <span class="pre">90</span></code></p></td>
<td><p><em>Timeout callback listener after timeout (seconds).</em></p></td>
</tr>
<tr class="row-even"><td><p>app_name</p></td>
<td class="text-center"><p>No</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-a</span> <span class="pre">or</span> <span class="pre">--app_name</span> <span class="pre">fn_outbound_email</span></code></p></td>
<td><p><em>The app name to read if more than one app is defined in an app.config file.</em></p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<hr class="docutils" />
<section id="usage">
<h3>Usage<a class="headerlink" href="#usage" title="Link to this heading">¶</a></h3>
<p>The OAuth Utilities for SOAR app supplies various subcommands to help with OAuth support for apps in a SOAR environment.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ oauth-utils
usage:
    $ oauth-utils &lt;subcommand&gt; ...
    $ oauth-utils -v &lt;subcommand&gt; ...
    $ oauth-utils oauth2_generate_refresh_token
    $ oauth-utils oauth2_generate_refresh_token -b
    $ oauth-utils oauth2_generate_refresh_token -c &lt;path_to_config_file&gt;/app.config -a &lt;app_name&gt;
    $ oauth-utils -h


Tools to manage OAuth for IBM SOAR apps

optional arguments:
  -h, --help                       show this help message and exit
  -v, --verbose                    Set the log level to DEBUG
</pre></div>
</div>
<section id="id1">
<h4>Utility: oauth2_generate_refresh_token<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h4>
<p>A utility to generate a refresh token for an OAuth 2.0 service (to be used with an IBM SOAR app).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>usage: $ oauth-utils &lt;subcommand&gt; ...
    $ oauth-utils -v &lt;subcommand&gt; ...
    $ oauth-utils oauth2_generate_refresh_token
    $ oauth-utils oauth2_generate_refresh_token -b
    $ oauth-utils oauth2_generate_refresh_token -c &lt;path_to_config_file&gt;/app.config -a &lt;app_name&gt;
    $ oauth-utils -h oauth2_generate_refresh_token
       [-h] [-c CONFIG_FILE] [-t TIMEOUT] [-b] [-a APP_NAME] [-p PORT]
       [-ci CLIENT_ID] [-cs CLIENT_SECRET] [-sc SCOPE] [-tu TOKEN_URL]
       [-au AUTH_URL]

A utility to generate a refresh token for an OAuth 2.0 service (to be used with an IBM SOAR app).
The parameters used for the OAuth 2.0 service can be taken either from an app.config file or manually from the command line.
(For further information please refer to the auth_utils documentation.)

optional arguments:
  -h, --help                       show this help message and exit
  -c CONFIG_FILE, --config_file CONFIG_FILE
                                   Location of app.config file
  -t TIMEOUT, --timeout TIMEOUT    Timeout callback listener after timeout (seconds)
  -b, --browser                    Use browser and listener
  -a APP_NAME, --app_name APP_NAME
                                   Specify the app name
  -p PORT, --port PORT             Specify port for callback url and listener
  -ci CLIENT_ID, --client_id CLIENT_ID
                                   Specify OAuth 2.0 application client ID
  -cs CLIENT_SECRET, --client_secret CLIENT_SECRET
                                   Specify OAuth 2.0 application client secret
  -sc SCOPE, --scope SCOPE         Specify OAuth 2.0 application scope
  -tu TOKEN_URL, --token_url TOKEN_URL
                                   Specify OAuth 2.0 application token url
  -au AUTH_URL, --auth_url AUTH_URL
                                   Specify OAuth 2.0 application authorization url
</pre></div>
</div>
</section>
</section>
</section>
<hr class="docutils" />
<section id="configure-oauth-2-0-credentials">
<h2>Configure OAuth 2.0 credentials<a class="headerlink" href="#configure-oauth-2-0-credentials" title="Link to this heading">¶</a></h2>
<p>To use the <code class="docutils literal notranslate"><span class="pre">oauth2_generate_refresh_token</span></code> utility, set up an app or project for an OAuth 2.0 identity provider service from which you can get the required configuration settings, such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">client_id</span>
<span class="n">client_secret</span>
<span class="n">scope</span>
<span class="n">token_url</span>
<span class="n">auth_url</span>
</pre></div>
</div>
<p>The setup procedure varies depending on the provider. This document provides examples for 2 well known services <code class="docutils literal notranslate"><span class="pre">Google</span> <span class="pre">Gmail</span></code> and                 <code class="docutils literal notranslate"><span class="pre">Microsoft</span> <span class="pre">Outlook</span> <span class="pre">365</span></code>. These examples can be used to send email using SMTP.</p>
<section id="google-gmail">
<h3>Google Gmail<a class="headerlink" href="#google-gmail" title="Link to this heading">¶</a></h3>
<section id="endpoints">
<h4>Endpoints<a class="headerlink" href="#endpoints" title="Link to this heading">¶</a></h4>
<p>Google Authorization endpoint - used by client to obtain authorization from the resource owner.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">auth_url</span><span class="o">=</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">accounts</span><span class="o">.</span><span class="n">google</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">o</span><span class="o">/</span><span class="n">oauth2</span><span class="o">/</span><span class="n">auth</span>
</pre></div>
</div>
<p>Google Token endpoint - used by client to exchange an authorization grant or refresh token for an access token.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">token_url</span><span class="o">=</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">accounts</span><span class="o">.</span><span class="n">google</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">o</span><span class="o">/</span><span class="n">oauth2</span><span class="o">/</span><span class="n">token</span>
</pre></div>
</div>
</section>
<section id="create-the-new-project">
<h4>Create the new project.<a class="headerlink" href="#create-the-new-project" title="Link to this heading">¶</a></h4>
<ul>
<li><p>As the SMTP email user, log in to <a class="reference external" href="https://console.cloud.google.com/">Google cloud</a> and create a Google cloud project.</p></li>
<li><p>Give your project a name, change the project ID if needed, and click the <code class="docutils literal notranslate"><span class="pre">Create</span></code> button.</p>
<p><img alt="screenshot: oauth-utils-goog-create-project" src="../_images/oauth-utils-goog-create-project.png" /></p>
<p><img alt="screenshot: oauth-utils-goog-create-project_2" src="../_images/oauth-utils-goog-create-project_2.png" /></p>
</li>
</ul>
</section>
<section id="configure-oauth-consent-screen">
<h4>Configure OAuth Consent Screen.<a class="headerlink" href="#configure-oauth-consent-screen" title="Link to this heading">¶</a></h4>
<ul>
<li><p>In the APIs and Services section, click OAuth Consent Screen and set the user type to <code class="docutils literal notranslate"><span class="pre">External</span></code>. Click on <code class="docutils literal notranslate"><span class="pre">Create</span></code>.</p>
<p><img alt="screenshot: oauth-utils-goog-user-external" src="../_images/oauth-utils-goog-user-external.png" /></p>
</li>
<li><p>Enter a name for your application and provide an email address where Google might contact you.</p>
<p><img alt="screenshot: oauth-utils-goog-oc-app-info" src="../_images/oauth-utils-goog-oc-app-info.png" /></p>
<p><img alt="screenshot: oauth-utils-goog-oc-dev-info" src="../_images/oauth-utils-goog-oc-dev-info.png" /></p>
</li>
<li><p>Provide one or more Scopes for Google APIs. Click the <code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">Or</span> <span class="pre">Remove</span> <span class="pre">Scopes</span></code> button and add https://mail.google.com/ to the list of scopes. Click <code class="docutils literal notranslate"><span class="pre">Save</span></code> and <code class="docutils literal notranslate"><span class="pre">Continue</span></code>.</p>
<p><img alt="screenshot: oauth-utils-goog-oc-dev-scopes" src="../_images/oauth-utils-goog-oc-dev-scopes.png" /></p>
<p><img alt="screenshot: oauth-utils-goog-oc-dev-scopes_2" src="../_images/oauth-utils-goog-oc-dev-scopes_2.png" /></p>
</li>
<li><p>Since a User Type of <code class="docutils literal notranslate"><span class="pre">External</span></code> is used, you need to add a user who has access to the app. In this example, the test user is the same as the app user. Click <code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">Users</span></code>, and  add the user. Click <code class="docutils literal notranslate"><span class="pre">Save</span></code> and <code class="docutils literal notranslate"><span class="pre">Continue</span></code>.</p>
<p><img alt="screenshot: oauth-utils-goog-oc-dev-test-user" src="../_images/oauth-utils-goog-oc-dev-test-user.png" /></p>
</li>
</ul>
</section>
<section id="configure-credentials">
<h4>Configure Credentials.<a class="headerlink" href="#configure-credentials" title="Link to this heading">¶</a></h4>
<ul>
<li><p>In the APIs &amp; Services section, click <code class="docutils literal notranslate"><span class="pre">Credentials</span></code> and then click <code class="docutils literal notranslate"><span class="pre">Create</span> <span class="pre">credentials</span></code>.</p>
<p><img alt="screenshot: oauth-utils-goog-creds-create" src="../_images/oauth-utils-goog-creds-create.png" /></p>
</li>
<li><p>Select <code class="docutils literal notranslate"><span class="pre">OAuth</span> <span class="pre">Client</span> <span class="pre">ID</span></code> to create a new client ID then select <code class="docutils literal notranslate"><span class="pre">Desktop</span> <span class="pre">app</span></code>. The client ID is used to verify application identify to Google’s OAuth servers.</p>
<p><img alt="screenshot: oauth-utils-goog-creds-desktop" src="../_images/oauth-utils-goog-creds-desktop.png" />
<img alt="screenshot: oauth-utils-goog-creds-desktop_2" src="../_images/oauth-utils-goog-creds-desktop_2.png" /></p>
</li>
<li><p>When the OAuth client is created you are presented with a screen showing your client ID and secret.</p>
<p><img alt="screenshot: oauth-utils-goog-creds-created" src="../_images/oauth-utils-goog-creds-created.png" /></p>
</li>
</ul>
<p>You can now add these credentials and scope to an app.config file or alternatively use as command-line arguments for the <code class="docutils literal notranslate"><span class="pre">oauth2_generate_refresh_token</span></code> utility.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">client_id</span><span class="o">=</span><span class="mi">337895628616</span><span class="o">-</span><span class="n">h4epvvbqv5946aun1u9qg7kqp6tu5c1j</span><span class="o">.</span><span class="n">apps</span><span class="o">.</span><span class="n">googleusercontent</span><span class="o">.</span><span class="n">com</span>
<span class="n">client_secret</span><span class="o">=</span><span class="n">ABCDEF</span><span class="o">-</span><span class="mi">1</span><span class="n">AB_2ABCdeFGhij3abABabCde</span><span class="o">-</span><span class="n">AB</span>
<span class="n">scope</span><span class="o">=</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">mail</span><span class="o">.</span><span class="n">google</span><span class="o">.</span><span class="n">com</span><span class="o">/</span>
<span class="n">token_url</span><span class="o">=</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">accounts</span><span class="o">.</span><span class="n">google</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">o</span><span class="o">/</span><span class="n">oauth2</span><span class="o">/</span><span class="n">token</span>
<span class="n">auth_url</span><span class="o">=</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">accounts</span><span class="o">.</span><span class="n">google</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">o</span><span class="o">/</span><span class="n">oauth2</span><span class="o">/</span><span class="n">auth</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Ensure you are logged out of any Google accounts.</p></li>
<li><p>Execute the <code class="docutils literal notranslate"><span class="pre">oauth2_generate_refresh_token</span></code> utility using the new credentials as command line arguments.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ oauth-utils oauth2_generate_refresh_token -ci=337895628616-h4epvvbqv5946aun1u9qg7kqp6tu5c1j.apps.googleusercontent.com -cs=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 -sc=https://mail.google.com/ -tu=https://accounts.google.com/o/oauth2/token -au=https://accounts.google.com/o/oauth2/auth
Running from command line.
Using OAuth2 discrete settings from command-line arguments.

To authorize a token, copy the following URL into a browser and follow the directions then enter the generated callback URL below:

https://accounts.google.com/o/oauth2/auth?state=6a3290f368de76e0dc83d7a380ca91e8950a57ff2aabc94c706b3418743e2743&amp;scope=https%3A%2F%2Fmail.google.com%2F&amp;client_id=337895628616-h4epvvbqv5946aun1u9qg7kqp6tu5c1j.apps.googleusercontent.com&amp;response_type=code&amp;response_mode=query&amp;redirect_uri=https%3A%2F%2Flocalhost%3A8080%2Fcallback

Enter callback URL:
</pre></div>
</div>
<ul>
<li><p>Enter the URL in a browser, log in as the SMTP email user, and follow the directions by clicking <code class="docutils literal notranslate"><span class="pre">Continue</span></code> in each presented screen.</p>
<p><img alt="screenshot: oauth-utils-goog-web " src="../_images/oauth-utils-goog-web.png" /></p>
<p><img alt="screenshot: oauth-utils-goog-web_2 " src="../_images/oauth-utils-goog-web_2.png" /></p>
</li>
<li><p>Eventually the user is presented with an <code class="docutils literal notranslate"><span class="pre">Unable</span> <span class="pre">to</span> <span class="pre">connect</span></code> message in the browser and a callback URL in the browser location window.</p>
<p><img alt="screenshot: oauth-utils-goog-web-callback " src="../_images/oauth-utils-goog-web-callback.png" /></p>
</li>
<li><p>Enter the callback address from the browser location window on the command line.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Enter callback URL: https://localhost:8080/callback?state=6c98b3f1dcc03245a5f9e525ad6ac11983dc26dadebeb497492462aa166e19f0&amp;code=4/0AdQt8qjMgTnOh42tSkJRafz_uNmJIvOLsanTp9NUoj1YDBRr7oW94nqXADDHD1BIe6Bz6g&amp;scope=https://mail.google.com/


refresh_token=1//07JEwfJ_7KNbWCgYIARAAGAcSNwF-L9IrH71Z4sT_VsmL4kO3rSaW4fEKKTpetFVhf6dfxDBuPxqB-KkE2DJEo_8Xo1hOkfP_RyY

</pre></div>
</div>
<ul class="simple">
<li><p>Add the resultant <code class="docutils literal notranslate"><span class="pre">refresh_token</span></code> to the app.config file for the required app.</p></li>
</ul>
<p><strong><em>NOTE:</em></strong> In the example, we used a test user with User Type of <code class="docutils literal notranslate"><span class="pre">External</span></code>. Selecting User Type <code class="docutils literal notranslate"><span class="pre">Internal</span></code> allows the application to access the Google API without having to go through the verification process.</p>
<p>See: <a class="reference external" href="https://support.google.com/cloud/answer/6158849?hl=en">Setting up OAuth 2.0 with Google Cloud</a></p>
</section>
</section>
<section id="microsoft-outlook-365">
<h3>Microsoft Outlook 365<a class="headerlink" href="#microsoft-outlook-365" title="Link to this heading">¶</a></h3>
<section id="id2">
<h4>Endpoints<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h4>
<p>Microsoft Authorization endpoint - used by client to obtain authorization from the resource owner.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">auth_url</span><span class="o">=</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">login</span><span class="o">.</span><span class="n">microsoftonline</span><span class="o">.</span><span class="n">com</span><span class="o">/&lt;</span><span class="n">tenant_id</span><span class="o">&gt;/</span><span class="n">oauth2</span><span class="o">/</span><span class="n">v2</span><span class="mf">.0</span><span class="o">/</span><span class="n">authorize</span>
</pre></div>
</div>
<p>Microsoft Token endpoint - used by client to exchange an authorization grant or refresh token for an access token.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">token_url</span><span class="o">=</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">login</span><span class="o">.</span><span class="n">microsoftonline</span><span class="o">.</span><span class="n">com</span><span class="o">/&lt;</span><span class="n">tenant_id</span><span class="o">&gt;/</span><span class="n">oauth2</span><span class="o">/</span><span class="n">v2</span><span class="mf">.0</span><span class="o">/</span><span class="n">token</span>
</pre></div>
</div>
</section>
<section id="app-registration">
<h4>App Registration<a class="headerlink" href="#app-registration" title="Link to this heading">¶</a></h4>
<ul>
<li><p>As the SMTP email user, log in to the <a class="reference external" href="https://portal.azure.com/">Microsoft Azure Portal</a> and authenticate.</p></li>
<li><p>Under <code class="docutils literal notranslate"><span class="pre">Azure</span> <span class="pre">services</span></code>, click  on <code class="docutils literal notranslate"><span class="pre">Azure</span> <span class="pre">Active</span> <span class="pre">Directory</span></code>.</p>
<p><img alt="screenshot: oauth-utils-ms-azure " src="../_images/oauth-utils-ms-azure.png" /></p>
</li>
<li><p>Click on <code class="docutils literal notranslate"><span class="pre">App</span> <span class="pre">Registrations</span></code> &gt;<code class="docutils literal notranslate"><span class="pre">New</span> <span class="pre">Registration</span></code>.</p>
<p><img alt="screenshot: oauth-utils-ms-new-reg " src="../_images/oauth-utils-ms-new-reg.png" /></p>
</li>
<li><p>Give your application a name. For <code class="docutils literal notranslate"><span class="pre">Redirect</span> <span class="pre">URI</span></code> select <code class="docutils literal notranslate"><span class="pre">Web</span></code> and enter <code class="docutils literal notranslate"><span class="pre">https://localhost:8080/callback</span></code>. Click <code class="docutils literal notranslate"><span class="pre">Register</span></code>.</p>
<p><img alt="screenshot: oauth-utils-ms-register " src="../_images/oauth-utils-ms-register.png" /></p>
</li>
<li><p>Copy and save the Application (client) ID and Directory (tenant) ID locally.</p>
<p><img alt="screenshot: oauth-utils-ms-cli-id " src="../_images/oauth-utils-ms-cli-id.png" /></p>
</li>
</ul>
</section>
<section id="authentication">
<h4>Authentication<a class="headerlink" href="#authentication" title="Link to this heading">¶</a></h4>
<ul>
<li><p>Under <code class="docutils literal notranslate"><span class="pre">Manage</span></code> on the left menu, select <code class="docutils literal notranslate"><span class="pre">Authentication</span></code>.</p>
<p><img alt="screenshot: oauth-utils-ms-auth " src="../_images/oauth-utils-ms-auth.png" /></p>
</li>
<li><p>Select <code class="docutils literal notranslate"><span class="pre">Yes</span></code> for <code class="docutils literal notranslate"><span class="pre">Enable</span> <span class="pre">the</span> <span class="pre">following</span> <span class="pre">mobile</span> <span class="pre">and</span> <span class="pre">desktop</span> <span class="pre">flows</span></code> then click <code class="docutils literal notranslate"><span class="pre">Save</span></code>.</p>
<p><img alt="screenshot: oauth-utils-ms-auth_2 " src="../_images/oauth-utils-ms-auth_2.png" /></p>
</li>
</ul>
</section>
<section id="api-permissions">
<h4>API Permissions<a class="headerlink" href="#api-permissions" title="Link to this heading">¶</a></h4>
<ul>
<li><p>On the left side under <code class="docutils literal notranslate"><span class="pre">Manage</span></code>, select <code class="docutils literal notranslate"><span class="pre">API</span> <span class="pre">Permissions</span></code>.</p></li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">a</span> <span class="pre">permission</span></code>.</p>
<p><img alt="screenshot: oauth-utils-ms-perms " src="../_images/oauth-utils-ms-perms.png" /></p>
</li>
<li><p>On the Request API permission screen, select Microsoft Graph.</p></li>
<li><p>In Graph API, choose Delegated permissions.</p></li>
<li><p>Add the following permissions.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">offline_access</span>
<span class="n">SMTP</span><span class="o">.</span><span class="n">Send</span>
</pre></div>
</div>
<p><img alt="screenshot: oauth-utils-ms-perms_2 " src="../_images/oauth-utils-ms-perms_2.png" /></p>
<ul>
<li><p>You need an admin user account to <code class="docutils literal notranslate"><span class="pre">Grant</span> <span class="pre">admin</span> <span class="pre">consent</span> <span class="pre">for</span> <span class="pre">&lt;user&gt;</span></code> to enable these permissions.</p>
<p><img alt="screenshot: oauth-utils-ms-grant " src="../_images/oauth-utils-ms-grant.png" /></p>
<p><img alt="screenshot: oauth-utils-ms-grant_2 " src="../_images/oauth-utils-ms-grant_2.png" /></p>
</li>
</ul>
</section>
<section id="create-client-secret">
<h4>Create client secret<a class="headerlink" href="#create-client-secret" title="Link to this heading">¶</a></h4>
<ul>
<li><p>On the left side under <code class="docutils literal notranslate"><span class="pre">Manage</span></code>, select <code class="docutils literal notranslate"><span class="pre">Certificate</span> <span class="pre">and</span> <span class="pre">secrets</span></code>.</p></li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">New</span> <span class="pre">client</span> <span class="pre">secret</span></code>.</p></li>
<li><p>Enter a name for the client secret.
<img alt="screenshot: oauth-utils-ms-sec " src="../_images/oauth-utils-ms-sec.png" /></p>
<p><img alt="screenshot: oauth-utils-ms-sec_2 " src="../_images/oauth-utils-ms-sec_2.png" /></p>
<p><img alt="screenshot: oauth-utils-ms-sec_3 " src="../_images/oauth-utils-ms-sec_3.png" /></p>
</li>
<li><p>Save the secret <code class="docutils literal notranslate"><span class="pre">Value</span></code> locally. This is be used as the value for the <code class="docutils literal notranslate"><span class="pre">client_secret</span></code> setting/argument.</p></li>
</ul>
</section>
<section id="authenticated-smtp">
<h4>Authenticated SMTP<a class="headerlink" href="#authenticated-smtp" title="Link to this heading">¶</a></h4>
<ul>
<li><p>Log in to <a class="reference external" href="https://admin.microsoft.com">Microsoft 365 admin center</a> as an admin user and go to <code class="docutils literal notranslate"><span class="pre">Users</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">Active</span> <span class="pre">users</span></code>.</p></li>
<li><p>Select the SMTP user, and click <code class="docutils literal notranslate"><span class="pre">Mail</span></code>.</p></li>
<li><p>In the Email apps section, click Manage email apps.</p></li>
<li><p>Verify the <code class="docutils literal notranslate"><span class="pre">Authenticated</span> <span class="pre">SMTP</span></code> setting is checked.</p></li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">changes</span></code>.</p>
<p><img alt="screenshot: oauth-utils-ms-admin-smtp " src="../_images/oauth-utils-ms-admin-smtp.png" /></p>
</li>
</ul>
<p>You can now add credentials and scope obtained above to an app.config file or alternatively use as command line arguments for the <code class="docutils literal notranslate"><span class="pre">oauth2_generate_refresh_token</span></code> utility.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">client_id</span><span class="o">=</span><span class="mi">1</span><span class="n">c22e8d1</span><span class="o">-</span><span class="n">daf0</span><span class="o">-</span><span class="mi">407</span><span class="n">e</span><span class="o">-</span><span class="n">b576</span><span class="o">-</span><span class="mi">0778</span><span class="n">cc3cd812</span>
<span class="n">client_secret</span><span class="o">=</span><span class="n">AB12A</span><span class="o">~</span><span class="n">abcde5AbCabc2maQxCVdhvEgowkT1ABcDe</span>
<span class="n">scope</span><span class="o">=</span><span class="n">offline_access</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">outlook</span><span class="o">.</span><span class="n">office365</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">SMTP</span><span class="o">.</span><span class="n">Send</span>
<span class="n">token_url</span><span class="o">=</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">login</span><span class="o">.</span><span class="n">microsoftonline</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">c06fa6c3</span><span class="o">-</span><span class="mi">5</span><span class="n">dd0</span><span class="o">-</span><span class="mi">48</span><span class="n">c9</span><span class="o">-</span><span class="mi">9</span><span class="n">a4b</span><span class="o">-</span><span class="mi">7</span><span class="n">edbf1904269</span><span class="o">/</span><span class="n">oauth2</span><span class="o">/</span><span class="n">v2</span><span class="mf">.0</span><span class="o">/</span><span class="n">token</span>
<span class="n">auth_url</span><span class="o">=</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">login</span><span class="o">.</span><span class="n">microsoftonline</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">c06fa6c3</span><span class="o">-</span><span class="mi">5</span><span class="n">dd0</span><span class="o">-</span><span class="mi">48</span><span class="n">c9</span><span class="o">-</span><span class="mi">9</span><span class="n">a4b</span><span class="o">-</span><span class="mi">7</span><span class="n">edbf1904269</span><span class="o">/</span><span class="n">oauth2</span><span class="o">/</span><span class="n">v2</span><span class="mf">.0</span><span class="o">/</span><span class="n">authorize</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Ensure you are logged out of any Microsoft accounts.</p></li>
<li><p>Using the browser mode option, execute the <code class="docutils literal notranslate"><span class="pre">oauth2_generate_refresh_token</span></code> utility using the new credentials in the app.config file.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ oauth-utils oauth2_generate_refresh_token -b
Running with callback listener and web browser.
Reading OAuth2 settings from app.config file /Users/johnpren/.resilient/app.config.
/Users/johnpren/ws/venv_3.6.8_oauth-utils/lib/python3.6/site-packages/werkzeug/serving.py:469: CryptographyDeprecationWarning: Python 3.6 is no longer supported by the Python core team. Therefore, support for it is deprecated in cryptography and will be removed in a future release.
  from cryptography import x509
Starting callback listener on port 8080.
Starting browser.
</pre></div>
</div>
<p>A web browser is launched, and the rest of the process is be completed using the browser.</p>
<ul class="simple">
<li><p>In the browser, sign in as the SMTP email user.</p></li>
</ul>
<p><img alt="screenshot: oauth-utils-ms-brow-sign-in " src="../_images/oauth-utils-ms-brow-sign-in.png" /></p>
<ul class="simple">
<li><p>Follow the directions by clicking <code class="docutils literal notranslate"><span class="pre">Accept</span></code>.</p></li>
</ul>
<p><img alt="screenshot: oauth-utils-ms-brow-accept " src="../_images/oauth-utils-ms-brow-accept.png" /></p>
<ul class="simple">
<li><p>The browser is redirected to the callback URL (default port 8080) and is processed by a local listener.</p></li>
<li><p>If you are satisfied that it is redirected to the correct location, click <code class="docutils literal notranslate"><span class="pre">Accept</span> <span class="pre">the</span> <span class="pre">Risk</span> <span class="pre">and</span> <span class="pre">Continue</span></code>.</p></li>
</ul>
<p><img alt="screenshot: oauth-utils-ms-brow-accept-risk " src="../_images/oauth-utils-ms-brow-accept-risk.png" /></p>
<p>A refresh token is displayed in the browser.</p>
<p><img alt="screenshot: oauth-utils-ms-brow-refresh-tok " src="../_images/oauth-utils-ms-brow-refresh-tok.png" /></p>
<ul class="simple">
<li><p>Add the resultant <code class="docutils literal notranslate"><span class="pre">refresh_token</span></code> to the app.config file for the required app.</p></li>
</ul>
<p>See: <a class="reference external" href="https://docs.microsoft.com/en-us/exchange/client-developer/legacy-protocols/how-to-authenticate-an-imap-pop-smtp-application-by-using-oauth">Using OAuth 2.0 with Microsoft for Office 365 users</a></p>
</section>
</section>
</section>
<hr class="docutils" />
<section id="troubleshooting-support">
<h2>Troubleshooting &amp; Support<a class="headerlink" href="#troubleshooting-support" title="Link to this heading">¶</a></h2>
<p>Refer to the documentation listed in the Requirements section for troubleshooting information.</p>
<section id="for-support">
<h3>For Support<a class="headerlink" href="#for-support" title="Link to this heading">¶</a></h3>
<p>This is a IBM Community provided package. Please search the Community <a class="reference external" href="https://ibm.biz/soarcommunity">ibm.biz/soarcommunity</a> for assistance.</p>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">OAuth Utilities</a><ul>
<li><a class="reference internal" href="#table-of-contents">Table of Contents</a></li>
<li><a class="reference internal" href="#release-notes">Release Notes</a></li>
<li><a class="reference internal" href="#overview">Overview</a><ul>
<li><a class="reference internal" href="#key-features">Key Features</a></li>
</ul>
</li>
<li><a class="reference internal" href="#requirements">Requirements</a><ul>
<li><a class="reference internal" href="#python-environment">Python Environment</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#configuration">Configuration</a></li>
<li><a class="reference internal" href="#permission">Permission</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#installation">Installation</a><ul>
<li><a class="reference internal" href="#install">Install</a></li>
<li><a class="reference internal" href="#package-configuration">Package Configuration</a><ul>
<li><a class="reference internal" href="#utility-oauth2-generate-refresh-token">Utility: oauth2_generate_refresh_token</a></li>
<li><a class="reference internal" href="#required-settings">Required Settings</a></li>
<li><a class="reference internal" href="#arguments">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#usage">Usage</a><ul>
<li><a class="reference internal" href="#id1">Utility: oauth2_generate_refresh_token</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#configure-oauth-2-0-credentials">Configure OAuth 2.0 credentials</a><ul>
<li><a class="reference internal" href="#google-gmail">Google Gmail</a><ul>
<li><a class="reference internal" href="#endpoints">Endpoints</a></li>
<li><a class="reference internal" href="#create-the-new-project">Create the new project.</a></li>
<li><a class="reference internal" href="#configure-oauth-consent-screen">Configure OAuth Consent Screen.</a></li>
<li><a class="reference internal" href="#configure-credentials">Configure Credentials.</a></li>
</ul>
</li>
<li><a class="reference internal" href="#microsoft-outlook-365">Microsoft Outlook 365</a><ul>
<li><a class="reference internal" href="#id2">Endpoints</a></li>
<li><a class="reference internal" href="#app-registration">App Registration</a></li>
<li><a class="reference internal" href="#authentication">Authentication</a></li>
<li><a class="reference internal" href="#api-permissions">API Permissions</a></li>
<li><a class="reference internal" href="#create-client-secret">Create client secret</a></li>
<li><a class="reference internal" href="#authenticated-smtp">Authenticated SMTP</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#troubleshooting-support">Troubleshooting &amp; Support</a><ul>
<li><a class="reference internal" href="#for-support">For Support</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../_static/js/custom.js?v=a365c389"></script>
    </body>
</html>