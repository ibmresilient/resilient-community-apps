<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-circuits codegen
-->

# Example of updating Splunk ES notable event

## Function - Splunk Update Notable Event

### API Name
`splunk_update_notable`

### Output Name
`None`

### Message Destination
`splunk_es_rest`

### Pre-Processing Script
```python
if incident.properties.splunk_notable_event_id:
  inputs.event_id = incident.properties.splunk_notable_event_id
  if incident.plan_status == "C":
      inputs.notable_event_status = 5
      inputs.comment = "SOAR incident is closed"
  else:
      inputs.notable_event_status = 2
      inputs.comment = "SOAR incident is active"
  inputs.splunk_label = rule.properties.splunk_servers
else:
  helper.fail("Ensure that the incident custom field is set: splunk_notable_event_id")
```

### Post-Processing Script
```python
# {'status_code': 200, 'content': {'details': {}, 'success_count': 1, 'failure_count': 0, 'warnings': [], 'success': True, 'message': '1 event updated successfully'}}

result_note = u"<b>Splunk Update notable event</b>:<br><br>"
if isinstance(results.get("content"), dict):
  result_note = result_note + u"""<b>Splunk Update Status</b>: {}<br>
<b>Message</b>: {}""".format("Successful" if results.get("content", {}).get("success", False) else "Unsuccessful",
                             results.get("content", {}).get("message", "None"))
else:
  result_note = result_note + results.get("content")

incident.addNote(helper.createRichText(result_note))
```

---

