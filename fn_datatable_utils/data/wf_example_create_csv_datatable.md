<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-circuits codegen
-->

# Example: Data Table Utils: Create CSV Datatable

## Function - Data Table Utils: Create CSV Datatable

### API Name
`dt_utils_create_csv_table`

### Output Name
`None`

### Message Destination
`fn_datatable_utils`

### Pre-Processing Script
```python
# Data Table Utils: Example: CSV Table
#####################
### Define Inputs ###
#####################
# The ID of this incident
inputs.incident_id = incident.id
# The api name of the Data Table to update
inputs.datable_name = "dt_utils_test_data_table"
# The id of the attachment -- uncomment when reading csv data from an attachmennt
# inputs.attachment_id = attachment.id
# The name of the attachment
#inputs.attachment_name = attachment.name
# The CSV data
inputs.csv_data = u"""cve_id,published_date,summary,data,references,vulnerability_configuration,more_data,select,multi_select, extra 
18023,6/6/2020,"my summary 中国人.",12345,人,yes,abcde,3,"a, c", "a",中"""
# A boolean to determine if CSV headers should be used
inputs.use_csv_header = False
## The mapping format that should be followed
inputs.mapping_table = u"""cve_id,published_date,summary,data,references,vulnerability_configuration,more_data,select,multi_select, extra 
18023,6/6/2020,"my summary 中国人.",12345,人,yes,abcde,3,"a, c", "a",中"""
inputs.date_time_format = "%d/%m/%Y"
```

### Post-Processing Script
```python
if results.success:
  note_text = u"""Results from Data Table Utils: Create CSV Datatable\nData Source: {0}\nRows added: {1}\nRows not added: {2}""".format( results.content.data_source, results.content.rows_added, results.content.rows_with_errors )
  incident.addNote(note_text)
else:
  incident.addNote(u"Error: Failed to add rows")
```

---

