{
  "action_order": [],
  "actions": [],
  "apps": [],
  "automatic_tasks": [],
  "export_date": 1687769730423,
  "export_format_version": 2,
  "export_type": null,
  "fields": [
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/pb_min_incident_date",
      "hide_notification": false,
      "id": 557,
      "input_type": "datepicker",
      "internal": false,
      "is_tracked": false,
      "name": "pb_min_incident_date",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "pb_min_incident_date",
      "tooltip": "",
      "type_id": 11,
      "uuid": "903b98e5-add5-4a75-90b9-6892bf9c3ecc",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/pbm_type",
      "hide_notification": false,
      "id": 558,
      "input_type": "select",
      "internal": false,
      "is_tracked": false,
      "name": "pbm_type",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "required": "always",
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "pbm_type",
      "tooltip": "",
      "type_id": 11,
      "uuid": "aead1bdc-96a7-4d72-a3be-53eb83a74e71",
      "values": [
        {
          "default": true,
          "enabled": true,
          "hidden": false,
          "label": "all",
          "properties": null,
          "uuid": "852b647c-2c8c-467d-800d-d56b75cadd32",
          "value": 102
        },
        {
          "default": false,
          "enabled": true,
          "hidden": false,
          "label": "enabled",
          "properties": null,
          "uuid": "cfed433b-0e50-4d5d-8dc2-0eaa50bf71ef",
          "value": 103
        },
        {
          "default": false,
          "enabled": true,
          "hidden": false,
          "label": "draft",
          "properties": null,
          "uuid": "fe8b8171-7e39-4196-949a-f21b9684defd",
          "value": 104
        }
      ]
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/pb_id",
      "hide_notification": false,
      "id": 559,
      "input_type": "number",
      "internal": false,
      "is_tracked": false,
      "name": "pb_id",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "pb_id",
      "tooltip": "",
      "type_id": 11,
      "uuid": "d63b66e3-a0e2-4538-950a-84dd352a4e7f",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/pbm_name_contains",
      "hide_notification": false,
      "id": 560,
      "input_type": "text",
      "internal": false,
      "is_tracked": false,
      "name": "pbm_name_contains",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "pbm_name_contains",
      "tooltip": "",
      "type_id": 11,
      "uuid": "107c2bf5-e40d-4914-a81b-01c2bfa5db3c",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/pbm_body",
      "hide_notification": false,
      "id": 561,
      "input_type": "text",
      "internal": false,
      "is_tracked": false,
      "name": "pbm_body",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "required": "always",
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "pbm_body",
      "tooltip": "",
      "type_id": 11,
      "uuid": "1733d87b-950a-4cd1-bc3a-b97c00cd2e7f",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/pbm_name",
      "hide_notification": false,
      "id": 562,
      "input_type": "text",
      "internal": false,
      "is_tracked": false,
      "name": "pbm_name",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "pbm_name",
      "tooltip": "",
      "type_id": 11,
      "uuid": "24b7f008-87e6-4be8-8b07-6d2a14cec2d6",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/pb_min_incident_id",
      "hide_notification": false,
      "id": 563,
      "input_type": "number",
      "internal": false,
      "is_tracked": false,
      "name": "pb_min_incident_id",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "pb_min_incident_id",
      "tooltip": "",
      "type_id": 11,
      "uuid": "2aefc15a-903d-4d35-95b9-fb33903d788c",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/pbm_id",
      "hide_notification": false,
      "id": 564,
      "input_type": "number",
      "internal": false,
      "is_tracked": false,
      "name": "pbm_id",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "pbm_id",
      "tooltip": "",
      "type_id": 11,
      "uuid": "3deee557-3d9a-4e21-b8f5-9c16d85f7a36",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/pb_object_type",
      "hide_notification": false,
      "id": 565,
      "input_type": "text",
      "internal": false,
      "is_tracked": false,
      "name": "pb_object_type",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "pb_object_type",
      "tooltip": "",
      "type_id": 11,
      "uuid": "5cce9a2b-2be8-49e9-b375-2bcfc8f176e3",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/pb_object_name",
      "hide_notification": false,
      "id": 566,
      "input_type": "text",
      "internal": false,
      "is_tracked": false,
      "name": "pb_object_name",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "pb_object_name",
      "tooltip": "",
      "type_id": 11,
      "uuid": "70e912c6-af8a-464e-98e4-dde1a8cac210",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/pb_max_incident_id",
      "hide_notification": false,
      "id": 567,
      "input_type": "number",
      "internal": false,
      "is_tracked": false,
      "name": "pb_max_incident_id",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "pb_max_incident_id",
      "tooltip": "",
      "type_id": 11,
      "uuid": "72a0140a-d90a-420f-9047-edf56fc14f8a",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/pbm_base64_content",
      "hide_notification": false,
      "id": 568,
      "input_type": "boolean",
      "internal": false,
      "is_tracked": false,
      "name": "pbm_base64_content",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "pbm_base64_content",
      "tooltip": "",
      "type_id": 11,
      "uuid": "747e0fdc-ed09-4fd2-9f22-59bcb756cf0b",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/pb_max_incident_date",
      "hide_notification": false,
      "id": 569,
      "input_type": "datepicker",
      "internal": false,
      "is_tracked": false,
      "name": "pb_max_incident_date",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "rich_text": false,
      "tags": [],
      "templates": [],
      "text": "pb_max_incident_date",
      "tooltip": "",
      "type_id": 11,
      "uuid": "7d535619-1d5f-4298-8e7b-2dafe3ecda28",
      "values": []
    },
    {
      "export_key": "incident/internal_customizations_field",
      "id": 0,
      "input_type": "text",
      "internal": true,
      "name": "internal_customizations_field",
      "read_only": true,
      "text": "Customizations Field (internal)",
      "type_id": 0,
      "uuid": "bfeec2d4-3770-11e8-ad39-4a0004044aa1"
    }
  ],
  "functions": [
    {
      "created_date": 1687768418663,
      "description": {
        "content": "Extract a playbook in .resz format. Use either the id or name to specify the playbook to export",
        "format": "text"
      },
      "destination_handle": "fn_playbook_utils",
      "display_name": "PB: Export Playbook",
      "export_key": "pb_export_playbook",
      "id": 1,
      "last_modified_by": {
        "display_name": "Resilient Sysadmin",
        "id": 6,
        "name": "playbook@ibm.com",
        "type": "user"
      },
      "last_modified_time": 1687769239268,
      "name": "pb_export_playbook",
      "output_json_example": "{}",
      "output_json_schema": "{}",
      "tags": [],
      "uuid": "1e7c6db0-408f-433f-bc4e-df1ff5c759f4",
      "version": 2,
      "view_items": [
        {
          "content": "3deee557-3d9a-4e21-b8f5-9c16d85f7a36",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "24b7f008-87e6-4be8-8b07-6d2a14cec2d6",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        }
      ],
      "workflows": []
    },
    {
      "created_date": 1687768418726,
      "description": {
        "content": "Get information on playbook run a given incident or for a range of incidents",
        "format": "text"
      },
      "destination_handle": "fn_playbook_utils",
      "display_name": "PB: Get Playbook Data",
      "export_key": "pb_get_playbook_data",
      "id": 2,
      "last_modified_by": {
        "display_name": "Resilient Sysadmin",
        "id": 6,
        "name": "playbook@ibm.com",
        "type": "user"
      },
      "last_modified_time": 1687769239318,
      "name": "pb_get_playbook_data",
      "output_json_example": "{}",
      "output_json_schema": "{}",
      "tags": [],
      "uuid": "d3b215fc-8c94-45eb-97d9-0c1b3a71e3a5",
      "version": 2,
      "view_items": [
        {
          "content": "2aefc15a-903d-4d35-95b9-fb33903d788c",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "72a0140a-d90a-420f-9047-edf56fc14f8a",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "903b98e5-add5-4a75-90b9-6892bf9c3ecc",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "7d535619-1d5f-4298-8e7b-2dafe3ecda28",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "70e912c6-af8a-464e-98e4-dde1a8cac210",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "5cce9a2b-2be8-49e9-b375-2bcfc8f176e3",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        }
      ],
      "workflows": [
        {
          "actions": [],
          "description": null,
          "name": "PB: Get workflow/playbook usage",
          "object_type": "incident",
          "programmatic_name": "wf_get_workflow_data",
          "tags": [],
          "uuid": null,
          "workflow_id": 6
        },
        {
          "actions": [],
          "description": null,
          "name": "PB: Get workflow/playbook usage at incident close",
          "object_type": "incident",
          "programmatic_name": "wf_get_workflow_usage_at_incident_close",
          "tags": [],
          "uuid": null,
          "workflow_id": 2
        },
        {
          "actions": [],
          "description": null,
          "name": "PB: Get workflow/playbooks frequency",
          "object_type": "incident",
          "programmatic_name": "wf_get_workflow_frequency",
          "tags": [],
          "uuid": null,
          "workflow_id": 3
        },
        {
          "actions": [],
          "description": null,
          "name": "PB: Get workflows/playbooks by artifact value",
          "object_type": "artifact",
          "programmatic_name": "wf_get_workflows_by_artifact_value",
          "tags": [],
          "uuid": null,
          "workflow_id": 1
        },
        {
          "actions": [],
          "description": null,
          "name": "PB: Get workflows/playbooks by artifact value for last 30 days",
          "object_type": "artifact",
          "programmatic_name": "pb_get_workflows_by_artifact_value_for_last_30_days",
          "tags": [],
          "uuid": null,
          "workflow_id": 7
        },
        {
          "actions": [],
          "description": null,
          "name": "PB: Get workflows/playbooks by attachment filename",
          "object_type": "attachment",
          "programmatic_name": "wf_get_workflows_by_attachment_filename",
          "tags": [],
          "uuid": null,
          "workflow_id": 4
        },
        {
          "actions": [],
          "description": null,
          "name": "PB: Get workflows/playbooks by task name",
          "object_type": "task",
          "programmatic_name": "wf_get_workflows_by_task_name",
          "tags": [],
          "uuid": null,
          "workflow_id": 5
        }
      ]
    },
    {
      "created_date": 1687768418782,
      "description": {
        "content": "Get playbooks which match the type and optionally name criteria",
        "format": "text"
      },
      "destination_handle": "fn_playbook_utils",
      "display_name": "PB: Get Playbooks",
      "export_key": "pb_get_playbooks",
      "id": 3,
      "last_modified_by": {
        "display_name": "Resilient Sysadmin",
        "id": 6,
        "name": "playbook@ibm.com",
        "type": "user"
      },
      "last_modified_time": 1687769239370,
      "name": "pb_get_playbooks",
      "output_json_example": "{}",
      "output_json_schema": "{}",
      "tags": [],
      "uuid": "7b91d207-82db-4867-b3df-96a6ad1e8591",
      "version": 2,
      "view_items": [
        {
          "content": "aead1bdc-96a7-4d72-a3be-53eb83a74e71",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "107c2bf5-e40d-4914-a81b-01c2bfa5db3c",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        }
      ],
      "workflows": []
    },
    {
      "created_date": 1687768418846,
      "description": {
        "content": "Get information about a workflow instance, such as it\u0027s run state",
        "format": "text"
      },
      "destination_handle": "fn_playbook_utils",
      "display_name": "PB: Get Workflow Content",
      "export_key": "pb_get_workflow_content",
      "id": 4,
      "last_modified_by": {
        "display_name": "Resilient Sysadmin",
        "id": 6,
        "name": "playbook@ibm.com",
        "type": "user"
      },
      "last_modified_time": 1687769239420,
      "name": "pb_get_workflow_content",
      "output_json_example": "{}",
      "output_json_schema": "{}",
      "tags": [],
      "uuid": "fcbdeb15-fb8f-4b13-ba39-53c3cbea473a",
      "version": 2,
      "view_items": [
        {
          "content": "d63b66e3-a0e2-4538-950a-84dd352a4e7f",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        }
      ],
      "workflows": []
    },
    {
      "created_date": 1687768418901,
      "description": {
        "content": "Get information on workflows run a given incident or for a range of incidents",
        "format": "text"
      },
      "destination_handle": "fn_playbook_utils",
      "display_name": "PB: Get Workflow Data",
      "export_key": "pb_get_workflow_data",
      "id": 5,
      "last_modified_by": {
        "display_name": "Resilient Sysadmin",
        "id": 6,
        "name": "playbook@ibm.com",
        "type": "user"
      },
      "last_modified_time": 1687769239468,
      "name": "pb_get_workflow_data",
      "output_json_example": "{}",
      "output_json_schema": "{}",
      "tags": [],
      "uuid": "ece3eb1b-2c95-4f0b-b00e-c610d418264a",
      "version": 2,
      "view_items": [
        {
          "content": "2aefc15a-903d-4d35-95b9-fb33903d788c",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "72a0140a-d90a-420f-9047-edf56fc14f8a",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "903b98e5-add5-4a75-90b9-6892bf9c3ecc",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "7d535619-1d5f-4298-8e7b-2dafe3ecda28",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "70e912c6-af8a-464e-98e4-dde1a8cac210",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "5cce9a2b-2be8-49e9-b375-2bcfc8f176e3",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        }
      ],
      "workflows": [
        {
          "actions": [],
          "description": null,
          "name": "PB: Get workflow/playbook usage",
          "object_type": "incident",
          "programmatic_name": "wf_get_workflow_data",
          "tags": [],
          "uuid": null,
          "workflow_id": 6
        },
        {
          "actions": [],
          "description": null,
          "name": "PB: Get workflow/playbook usage at incident close",
          "object_type": "incident",
          "programmatic_name": "wf_get_workflow_usage_at_incident_close",
          "tags": [],
          "uuid": null,
          "workflow_id": 2
        },
        {
          "actions": [],
          "description": null,
          "name": "PB: Get workflow/playbooks frequency",
          "object_type": "incident",
          "programmatic_name": "wf_get_workflow_frequency",
          "tags": [],
          "uuid": null,
          "workflow_id": 3
        },
        {
          "actions": [],
          "description": null,
          "name": "PB: Get workflows/playbooks by artifact value",
          "object_type": "artifact",
          "programmatic_name": "wf_get_workflows_by_artifact_value",
          "tags": [],
          "uuid": null,
          "workflow_id": 1
        },
        {
          "actions": [],
          "description": null,
          "name": "PB: Get workflows/playbooks by artifact value for last 30 days",
          "object_type": "artifact",
          "programmatic_name": "pb_get_workflows_by_artifact_value_for_last_30_days",
          "tags": [],
          "uuid": null,
          "workflow_id": 7
        },
        {
          "actions": [],
          "description": null,
          "name": "PB: Get workflows/playbooks by attachment filename",
          "object_type": "attachment",
          "programmatic_name": "wf_get_workflows_by_attachment_filename",
          "tags": [],
          "uuid": null,
          "workflow_id": 4
        },
        {
          "actions": [],
          "description": null,
          "name": "PB: Get workflows/playbooks by task name",
          "object_type": "task",
          "programmatic_name": "wf_get_workflows_by_task_name",
          "tags": [],
          "uuid": null,
          "workflow_id": 5
        }
      ]
    },
    {
      "created_date": 1687768418959,
      "description": {
        "content": "Import a playbook, converting the content from base64 if necessary",
        "format": "text"
      },
      "destination_handle": "fn_playbook_utils",
      "display_name": "PB: Import Playbook",
      "export_key": "pb_import_playbook",
      "id": 6,
      "last_modified_by": {
        "display_name": "Resilient Sysadmin",
        "id": 6,
        "name": "playbook@ibm.com",
        "type": "user"
      },
      "last_modified_time": 1687769239512,
      "name": "pb_import_playbook",
      "output_json_example": "{}",
      "output_json_schema": "{}",
      "tags": [],
      "uuid": "8428b4c2-b03b-4e07-932d-3bbf3d44a61b",
      "version": 2,
      "view_items": [
        {
          "content": "1733d87b-950a-4cd1-bc3a-b97c00cd2e7f",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "747e0fdc-ed09-4fd2-9f22-59bcb756cf0b",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        }
      ],
      "workflows": []
    }
  ],
  "geos": null,
  "groups": null,
  "id": 3,
  "inbound_destinations": [],
  "inbound_mailboxes": null,
  "incident_artifact_types": [],
  "incident_types": [
    {
      "create_date": 1687769727097,
      "description": "Customization Packages (internal)",
      "enabled": false,
      "export_key": "Customization Packages (internal)",
      "hidden": false,
      "id": 0,
      "name": "Customization Packages (internal)",
      "parent_id": null,
      "system": false,
      "update_date": 1687769727097,
      "uuid": "bfeec2d4-3770-11e8-ad39-4a0004044aa0"
    }
  ],
  "industries": null,
  "layouts": [],
  "locale": null,
  "message_destinations": [
    {
      "api_keys": [
        "55c9789e-566b-4c31-824a-2cf12da820c2"
      ],
      "destination_type": 0,
      "expect_ack": true,
      "export_key": "fn_playbook_utils",
      "name": "fn_playbook_utils",
      "programmatic_name": "fn_playbook_utils",
      "tags": [],
      "users": [
        "playbook@ibm.com"
      ],
      "uuid": "d55df3da-7223-40d8-9ca8-72e1f3167267"
    }
  ],
  "notifications": null,
  "overrides": null,
  "phases": [],
  "playbooks": [
    {
      "activation_type": "manual",
      "content": {
        "content_version": 4,
        "xml": "\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\u003cdefinitions xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:resilient=\"http://resilient.ibm.com/bpmn\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" targetNamespace=\"http://www.camunda.org/test\"\u003e\u003cprocess id=\"playbook_96cf233f_1b29_43f1_aa25_fced41f00054\" isExecutable=\"true\" name=\"playbook_96cf233f_1b29_43f1_aa25_fced41f00054\"\u003e\u003cdocumentation/\u003e\u003cstartEvent id=\"StartEvent_155asxm\"\u003e\u003coutgoing\u003eFlow_0i1pu2h\u003c/outgoing\u003e\u003c/startEvent\u003e\u003cserviceTask id=\"ServiceTask_1\" name=\"PB: Get Workflow Data\" resilient:type=\"function\"\u003e\u003cextensionElements\u003e\u003cresilient:function uuid=\"ece3eb1b-2c95-4f0b-b00e-c610d418264a\"\u003e{\"inputs\":{},\"pre_processing_script\":\"inputs.pb_max_incident_id = playbook.inputs.pb_max_incident_id\\ninputs.pb_min_incident_id = playbook.inputs.pb_min_incident_id\\n\\ninputs.pb_min_incident_date = playbook.inputs.pb_min_incident_date\\ninputs.pb_max_incident_date = playbook.inputs.pb_max_incident_date\\n\\ninputs.pb_object_name = inputs.pb_object_type = None\",\"pre_processing_script_language\":\"python3\",\"result_name\":\"workflow_data\"}\u003c/resilient:function\u003e\u003c/extensionElements\u003e\u003cincoming\u003eFlow_0i1pu2h\u003c/incoming\u003e\u003coutgoing\u003eFlow_0gqk1a4\u003c/outgoing\u003e\u003c/serviceTask\u003e\u003cscriptTask id=\"ScriptTask_2\" name=\"PB: Display workflow data\"\u003e\u003cextensionElements\u003e\u003cresilient:script uuid=\"52b3f960-ee96-4fff-80bb-71744f6f9a2c\"/\u003e\u003c/extensionElements\u003e\u003cincoming\u003eFlow_0gqk1a4\u003c/incoming\u003e\u003coutgoing\u003eFlow_0futfps\u003c/outgoing\u003e\u003cscript\u003escript\u003c/script\u003e\u003c/scriptTask\u003e\u003cscriptTask id=\"ScriptTask_3\" name=\"PB: Display playbook data\"\u003e\u003cextensionElements\u003e\u003cresilient:script uuid=\"fadb0f23-7415-4029-a502-552ccb523002\"/\u003e\u003c/extensionElements\u003e\u003cincoming\u003eFlow_1kqy65f\u003c/incoming\u003e\u003coutgoing\u003eFlow_0wylp9j\u003c/outgoing\u003e\u003cscript\u003escript\u003c/script\u003e\u003c/scriptTask\u003e\u003cserviceTask id=\"ServiceTask_4\" name=\"PB: Get Playbook Data\" resilient:type=\"function\"\u003e\u003cextensionElements\u003e\u003cresilient:function uuid=\"d3b215fc-8c94-45eb-97d9-0c1b3a71e3a5\"\u003e{\"inputs\":{},\"pre_processing_script\":\"inputs.pb_max_incident_id = playbook.inputs.pb_max_incident_id\\ninputs.pb_min_incident_id =  playbook.inputs.pb_min_incident_id\\n\\ninputs.pb_min_incident_date = playbook.inputs.pb_min_incident_date\\ninputs.pb_max_incident_date = playbook.inputs.pb_max_incident_date\\n\\ninputs.pb_object_name = inputs.pb_object_type = None\",\"pre_processing_script_language\":\"python3\",\"result_name\":\"playbook_data\"}\u003c/resilient:function\u003e\u003c/extensionElements\u003e\u003cincoming\u003eFlow_0futfps\u003c/incoming\u003e\u003coutgoing\u003eFlow_1kqy65f\u003c/outgoing\u003e\u003c/serviceTask\u003e\u003csequenceFlow id=\"Flow_0i1pu2h\" sourceRef=\"StartEvent_155asxm\" targetRef=\"ServiceTask_1\"/\u003e\u003csequenceFlow id=\"Flow_0gqk1a4\" sourceRef=\"ServiceTask_1\" targetRef=\"ScriptTask_2\"/\u003e\u003csequenceFlow id=\"Flow_0futfps\" sourceRef=\"ScriptTask_2\" targetRef=\"ServiceTask_4\"/\u003e\u003csequenceFlow id=\"Flow_1kqy65f\" sourceRef=\"ServiceTask_4\" targetRef=\"ScriptTask_3\"/\u003e\u003cendEvent id=\"EndPoint_5\" resilient:documentation=\"End point\"\u003e\u003cincoming\u003eFlow_0wylp9j\u003c/incoming\u003e\u003c/endEvent\u003e\u003csequenceFlow id=\"Flow_0wylp9j\" sourceRef=\"ScriptTask_3\" targetRef=\"EndPoint_5\"/\u003e\u003c/process\u003e\u003cbpmndi:BPMNDiagram id=\"BPMNDiagram_1\"\u003e\u003cbpmndi:BPMNPlane bpmnElement=\"playbook_96cf233f_1b29_43f1_aa25_fced41f00054\" id=\"BPMNPlane_1\"\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Flow_0i1pu2h\" id=\"Flow_0i1pu2h_di\"\u003e\u003comgdi:waypoint x=\"722\" y=\"117\"/\u003e\u003comgdi:waypoint x=\"722\" y=\"168\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Flow_0gqk1a4\" id=\"Flow_0gqk1a4_di\"\u003e\u003comgdi:waypoint x=\"722\" y=\"252\"/\u003e\u003comgdi:waypoint x=\"722\" y=\"298\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Flow_0futfps\" id=\"Flow_0futfps_di\"\u003e\u003comgdi:waypoint x=\"722\" y=\"382\"/\u003e\u003comgdi:waypoint x=\"722\" y=\"428\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Flow_1kqy65f\" id=\"Flow_1kqy65f_di\"\u003e\u003comgdi:waypoint x=\"722\" y=\"512\"/\u003e\u003comgdi:waypoint x=\"722\" y=\"535\"/\u003e\u003comgdi:waypoint x=\"750\" y=\"535\"/\u003e\u003comgdi:waypoint x=\"750\" y=\"558\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Flow_0wylp9j\" id=\"Flow_0wylp9j_di\"\u003e\u003comgdi:waypoint x=\"750\" y=\"642\"/\u003e\u003comgdi:waypoint x=\"750\" y=\"664\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"StartEvent_155asxm\" id=\"StartEvent_155asxm_di\"\u003e\u003comgdc:Bounds height=\"52\" width=\"187.188\" x=\"628\" y=\"65\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"0\" width=\"90\" x=\"616\" y=\"100\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNShape bpmnElement=\"ServiceTask_1\" id=\"ServiceTask_1_di\"\u003e\u003comgdc:Bounds height=\"84\" width=\"196\" x=\"624\" y=\"168\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNShape bpmnElement=\"ScriptTask_2\" id=\"ScriptTask_2_di\"\u003e\u003comgdc:Bounds height=\"84\" width=\"196\" x=\"624\" y=\"298\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNShape bpmnElement=\"ScriptTask_3\" id=\"ScriptTask_3_di\"\u003e\u003comgdc:Bounds height=\"84\" width=\"196\" x=\"652\" y=\"558\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNShape bpmnElement=\"ServiceTask_4\" id=\"ServiceTask_4_di\"\u003e\u003comgdc:Bounds height=\"84\" width=\"196\" x=\"624\" y=\"428\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNShape bpmnElement=\"EndPoint_5\" id=\"EndPoint_5_di\"\u003e\u003comgdc:Bounds height=\"52\" width=\"132.2188\" x=\"684\" y=\"664\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003c/bpmndi:BPMNPlane\u003e\u003c/bpmndi:BPMNDiagram\u003e\u003c/definitions\u003e"
      },
      "create_date": 1687768514037,
      "creator_principal": {
        "display_name": "Resilient Sysadmin",
        "id": 6,
        "name": "playbook@ibm.com",
        "type": "user"
      },
      "deployment_id": "playbook_96cf233f_1b29_43f1_aa25_fced41f00054",
      "description": {
        "content": "Get workflows and playbooks for one or a range of incidents",
        "format": "text"
      },
      "display_name": "PB: Get workflow/playbook usage (PB)",
      "export_key": "pb_get_workflowplaybook_usage_pb",
      "field_type_handle": "playbook_96cf233f_1b29_43f1_aa25_fced41f00054",
      "fields_type": {
        "actions": [],
        "display_name": "PB: Get workflow/playbook usage (PB)",
        "export_key": "playbook_96cf233f_1b29_43f1_aa25_fced41f00054",
        "fields": {
          "pb_max_incident_date": {
            "allow_default_value": false,
            "blank_option": false,
            "calculated": false,
            "changeable": true,
            "chosen": false,
            "default_chosen_by_server": false,
            "deprecated": false,
            "export_key": "playbook_96cf233f_1b29_43f1_aa25_fced41f00054/pb_max_incident_date",
            "hide_notification": false,
            "id": 570,
            "input_type": "datepicker",
            "internal": false,
            "is_tracked": false,
            "name": "pb_max_incident_date",
            "operation_perms": {},
            "operations": [],
            "placeholder": "",
            "prefix": null,
            "read_only": false,
            "rich_text": false,
            "tags": [],
            "templates": [],
            "text": "Max incident date",
            "tooltip": "",
            "type_id": 1001,
            "uuid": "99719f20-8693-4d2d-a93a-74371370b489",
            "values": []
          },
          "pb_max_incident_id": {
            "allow_default_value": false,
            "blank_option": false,
            "calculated": false,
            "changeable": true,
            "chosen": false,
            "default_chosen_by_server": false,
            "deprecated": false,
            "export_key": "playbook_96cf233f_1b29_43f1_aa25_fced41f00054/pb_max_incident_id",
            "hide_notification": false,
            "id": 571,
            "input_type": "number",
            "internal": false,
            "is_tracked": false,
            "name": "pb_max_incident_id",
            "operation_perms": {},
            "operations": [],
            "placeholder": "",
            "prefix": null,
            "read_only": false,
            "rich_text": false,
            "tags": [],
            "templates": [],
            "text": "Max incident Id",
            "tooltip": "Last incident to search",
            "type_id": 1001,
            "uuid": "3d88b859-d239-49dc-bcbc-d0d32213e097",
            "values": []
          },
          "pb_min_incident_date": {
            "allow_default_value": false,
            "blank_option": false,
            "calculated": false,
            "changeable": true,
            "chosen": false,
            "default_chosen_by_server": false,
            "deprecated": false,
            "export_key": "playbook_96cf233f_1b29_43f1_aa25_fced41f00054/pb_min_incident_date",
            "hide_notification": false,
            "id": 572,
            "input_type": "datepicker",
            "internal": false,
            "is_tracked": false,
            "name": "pb_min_incident_date",
            "operation_perms": {},
            "operations": [],
            "placeholder": "",
            "prefix": null,
            "read_only": false,
            "rich_text": false,
            "tags": [],
            "templates": [],
            "text": "Min incident date",
            "tooltip": "",
            "type_id": 1001,
            "uuid": "a298a551-416c-4117-8134-e82acc6bd84c",
            "values": []
          },
          "pb_min_incident_id": {
            "allow_default_value": false,
            "blank_option": false,
            "calculated": false,
            "changeable": true,
            "chosen": false,
            "default_chosen_by_server": false,
            "deprecated": false,
            "export_key": "playbook_96cf233f_1b29_43f1_aa25_fced41f00054/pb_min_incident_id",
            "hide_notification": false,
            "id": 573,
            "input_type": "number",
            "internal": false,
            "is_tracked": false,
            "name": "pb_min_incident_id",
            "operation_perms": {},
            "operations": [],
            "placeholder": "",
            "prefix": null,
            "read_only": false,
            "rich_text": false,
            "tags": [],
            "templates": [],
            "text": "Min incident Id",
            "tooltip": "First incident to search",
            "type_id": 1001,
            "uuid": "5058bd44-d1f5-4cf4-809c-d970ef0ab52c",
            "values": []
          }
        },
        "for_actions": false,
        "for_custom_fields": false,
        "for_notifications": false,
        "for_workflows": false,
        "id": null,
        "parent_types": [
          "__playbook"
        ],
        "properties": {
          "can_create": false,
          "can_destroy": false,
          "for_who": []
        },
        "scripts": [],
        "tags": [],
        "type_id": 28,
        "type_name": "playbook_96cf233f_1b29_43f1_aa25_fced41f00054",
        "uuid": "abfe5c20-f14e-4147-bc70-0705bbaa7827"
      },
      "has_logical_errors": false,
      "id": 1,
      "is_deleted": false,
      "is_locked": false,
      "last_modified_principal": {
        "display_name": "Resilient Sysadmin",
        "id": 6,
        "name": "playbook@ibm.com",
        "type": "user"
      },
      "last_modified_time": 1687769065776,
      "local_scripts": [],
      "manual_settings": {
        "activation_conditions": {
          "conditions": [],
          "logic_type": "all"
        },
        "view_items": [
          {
            "content": "5058bd44-d1f5-4cf4-809c-d970ef0ab52c",
            "element": "field_uuid",
            "field_type": "playbook_96cf233f_1b29_43f1_aa25_fced41f00054",
            "show_if": null,
            "show_link_header": false,
            "step_label": null
          },
          {
            "content": "3d88b859-d239-49dc-bcbc-d0d32213e097",
            "element": "field_uuid",
            "field_type": "playbook_96cf233f_1b29_43f1_aa25_fced41f00054",
            "show_if": null,
            "show_link_header": false,
            "step_label": null
          },
          {
            "content": "a298a551-416c-4117-8134-e82acc6bd84c",
            "element": "field_uuid",
            "field_type": "playbook_96cf233f_1b29_43f1_aa25_fced41f00054",
            "show_if": null,
            "show_link_header": false,
            "step_label": null
          },
          {
            "content": "99719f20-8693-4d2d-a93a-74371370b489",
            "element": "field_uuid",
            "field_type": "playbook_96cf233f_1b29_43f1_aa25_fced41f00054",
            "show_if": null,
            "show_link_header": false,
            "step_label": null
          }
        ]
      },
      "name": "pb_get_workflowplaybook_usage_pb",
      "object_type": "incident",
      "status": "enabled",
      "tag": {
        "display_name": "Playbook_96cf233f-1b29-43f1-aa25-fced41f00054",
        "id": 2,
        "name": "playbook_96cf233f_1b29_43f1_aa25_fced41f00054",
        "type": "playbook",
        "uuid": "c924aead-51b7-459a-82ca-db6149e70e61"
      },
      "tags": [],
      "type": "default",
      "uuid": "96cf233f-1b29-43f1-aa25-fced41f00054",
      "version": 8
    }
  ],
  "regulators": null,
  "roles": [],
  "scripts": [
    {
      "actions": [],
      "created_date": 1687768417904,
      "description": "Display usage data for playbooks\nThis script relies on the workflow property: playbook_data",
      "enabled": false,
      "export_key": "PB: Display playbook data",
      "id": 3,
      "language": "python3",
      "last_modified_by": "playbook@ibm.com",
      "last_modified_time": 1687769667025,
      "name": "PB: Display playbook data",
      "object_type": "incident",
      "playbook_handle": null,
      "programmatic_name": "pb_display_playbook_data",
      "script_text": "from datetime import datetime\n\ncurrent_dt = datetime.now()\n\nURL_MAP  = {\n  \u0027incident\u0027: u\"\u003ca href=\u0027/#incidents/{0}\u0027\u003e{3}\u003c/a\u003e\",\n  \u0027incident_element\u0027: u\"\u003ca href=\u0027/#incidents/{0}\u0027\u003e{0}\u003c/a\u003e\",\n  \u0027task\u0027: u\"\u003ca href=\u0027/#incidents/{0}?taskId={1}\u0026tabName=details\u0026org_id={2}\u0027\u003e{3}\u003c/a\u003e\",\n  \u0027artifact\u0027: u\"\u003ca href=\u0027/#incidents/{0}/artifact/{1}?org_id={2}\u0027\u003e{3}\u003c/a\u003e\",\n  \u0027workflow\u0027: u\"\u003ca href=\u0027/#customize?tab=workflows\u0026workflow={1}\u0027\u003e{3}\u003c/a\u003e\",\n  \u0027playbook\u0027: u\"\u003ca href=\u0027/#playbooks/designer/{1}\u0027\u003e{3}\u003c/a\u003e\"\n}\n\ndef make_url(org_id, inc_id, element_type, element_id, element_name):\n  if element_type in URL_MAP:\n    return URL_MAP[element_type].format(inc_id, element_id, org_id, element_name)\n\n  return str(element_name)\n\n# --- S T A R T\nresults = playbook.functions.results.playbook_data\n\nif results.success:\n  org_id = results.content[\u0027org_id\u0027]\n  data_flg = None\n  for key_incident, value_playbooks in results.content[\u0027playbook_content\u0027].items():\n    data_flg = False\n    for entity in value_playbooks:\n      # skip these workflows/playbooks\n      if \"PB: Get\" in entity.get(\"playbook\", {}).get(\"display_name\"):\n        continue\n\n      if (results.inputs.get(\u0027pb_object_name\u0027) and results.inputs[\u0027pb_object_name\u0027] == entity.get(\"object\", {}).get(\"object_name\")) or not results.inputs.get(\u0027pb_object_name\u0027):\n        row = incident.addRow(\u0027workflow_usage\u0027)\n        incident_name = entity.get(\"object\", {}).get(\"parent\", {}).get(\"object_name\") if entity.get(\"object\", {}).get(\"parent\", {}) else entity.get(\"object\", {}).get(\"object_name\")\n        incident_id = entity.get(\"object\", {}).get(\"parent\", {}).get(\"object_id\") if entity.get(\"object\", {}).get(\"parent\", {}) else entity.get(\"object\", {}).get(\"object_id\")\n        row[\u0027report_date\u0027] = current_dt\n        row[\u0027incident\u0027] = helper.createRichText(make_url(org_id, key_incident, \u0027incident\u0027, incident_id, incident_name))\n        row[\u0027type\u0027] = \u0027playbook\u0027\n        row[\u0027workflow\u0027] = helper.createRichText(make_url(org_id, key_incident, \u0027playbook\u0027, entity.get(\"playbook\", {}).get(\"id\"), entity.get(\"playbook\", {}).get(\"display_name\")))\n        row[\u0027workflow_id\u0027] = entity.get(\"playbook\", {}).get(\"id\")\n        row[\u0027execution_date\u0027] = entity.get(\"start_time\")\n        row[\u0027element_type\u0027] = entity.get(\"object\", {}).get(\"type_name\")\n        if entity.get(\"object\", {}).get(\"type_name\") == \u0027incident\u0027:\n            row[\u0027element_value\u0027] = helper.createRichText(make_url(org_id, key_incident, \u0027incident_element\u0027, entity.get(\"object\", {}).get(\"object_id\"), entity.get(\"object\", {}).get(\"object_id\")))\n        else:\n            row[\u0027element_value\u0027] = helper.createRichText(make_url(org_id, key_incident, entity.get(\"object\", {}).get(\"type_name\"), entity.get(\"object\", {}).get(\"object_id\"), entity.get(\"object\", {}).get(\"object_name\")))\n        data_flg = True\n  \n  if data_flg == False:\n    incident.addNote(\"PB: Get playbook usage ({}) returned no results for incident range: {}-{}\".format(results.inputs.get(\u0027pb_object_name\u0027), results.content[\u0027min_id\u0027], results.content[\u0027max_id\u0027]))\nelse:\n  incident.addNote(\"PB: Get playbook usage ({}) failed: {}\".format(results.inputs.get(\u0027pb_object_name\u0027), results.reason))\n",
      "tags": [],
      "uuid": "fadb0f23-7415-4029-a502-552ccb523002"
    },
    {
      "actions": [],
      "created_date": 1687768417950,
      "description": "Display usage data for workflows\nThis script relies on the workflow property: workflow_data",
      "enabled": false,
      "export_key": "PB: Display workflow data",
      "id": 4,
      "language": "python3",
      "last_modified_by": "playbook@ibm.com",
      "last_modified_time": 1687769678379,
      "name": "PB: Display workflow data",
      "object_type": "incident",
      "playbook_handle": null,
      "programmatic_name": "pb_display_workflow_data",
      "script_text": "from datetime import datetime\n\ncurrent_dt = datetime.now()\n\nURL_MAP  = {\n  \u0027incident\u0027: u\"\u003ca href=\u0027/#incidents/{0}\u0027\u003e{3}\u003c/a\u003e\",\n  \u0027incident_element\u0027: u\"\u003ca href=\u0027/#incidents/{0}\u0027\u003e{0}\u003c/a\u003e\",\n  \u0027task\u0027: u\"\u003ca href=\u0027/#incidents/{0}?taskId={1}\u0026tabName=details\u0026org_id={2}\u0027\u003e{3}\u003c/a\u003e\",\n  \u0027artifact\u0027: u\"\u003ca href=\u0027/#incidents/{0}/artifact/{1}?org_id={2}\u0027\u003e{3}\u003c/a\u003e\",\n  \u0027workflow\u0027: u\"\u003ca href=\u0027/#customize?tab=workflows\u0026workflow={1}\u0027\u003e{3}\u003c/a\u003e\",\n  \u0027playbook\u0027: u\"\u003ca href=\u0027/#playbooks/designer/{1}\u0027\u003e{3}\u003c/a\u003e\"\n}\n\ndef make_url(org_id, inc_id, element_type, element_id, element_name):\n  if element_type in URL_MAP:\n    return URL_MAP[element_type].format(inc_id, element_id, org_id, element_name)\n\n  return str(element_name)\n\n# --- S T A R T\nresults = playbook.functions.results.workflow_data\n\nif results.success:\n  org_id = results.content[\u0027org_id\u0027]\n  data_flg = False\n  for key_incident, value_workflow in results.content[\u0027workflow_content\u0027].items():\n    for entity in value_workflow[\u0027entities\u0027]:\n      # skip these workflows/playbooks\n      if \"PB: Get\" in entity.get(\"workflow\", {}).get(\"name\"):\n        continue\n\n      if (results.inputs.get(\u0027pb_object_name\u0027) and results.inputs[\u0027pb_object_name\u0027] == entity.get(\"object\", {}).get(\"object_name\")) or not results.inputs.get(\u0027pb_object_name\u0027):\n        row = incident.addRow(\u0027workflow_usage\u0027)\n        incident_name = entity.get(\"object\", {}).get(\"parent\", {}).get(\"object_name\") if entity.get(\"object\", {}).get(\"parent\", {}) else entity.get(\"object\", {}).get(\"object_name\")\n        incident_id = entity.get(\"object\", {}).get(\"parent\", {}).get(\"object_id\") if entity.get(\"object\", {}).get(\"parent\", {}) else entity.get(\"object\", {}).get(\"object_id\")\n        row[\u0027report_date\u0027] = current_dt\n        row[\u0027incident\u0027] = helper.createRichText(make_url(org_id, key_incident, \u0027incident\u0027, incident_id, incident_name))\n        row[\u0027type\u0027] = \u0027workflow\u0027\n        row[\u0027workflow\u0027] = helper.createRichText(make_url(org_id, key_incident, \u0027workflow\u0027, entity.get(\"workflow\", {}).get(\"workflow_id\"), entity.get(\"workflow\", {}).get(\"name\")))\n        row[\u0027workflow_id\u0027] = entity.get(\"workflow\", {}).get(\"workflow_id\")\n        row[\u0027execution_date\u0027] = entity.get(\"start_date\")\n        row[\u0027element_type\u0027] = entity.get(\"object\", {}).get(\"type_name\")\n        if entity.get(\"object\", {}).get(\"type_name\") == \u0027incident\u0027:\n            row[\u0027element_value\u0027] = helper.createRichText(make_url(org_id, key_incident, \u0027incident_element\u0027, entity.get(\"object\", {}).get(\"object_id\"), entity.get(\"object\", {}).get(\"object_id\")))\n        else:\n            row[\u0027element_value\u0027] = helper.createRichText(make_url(org_id, key_incident, entity.get(\"object\", {}).get(\"type_name\"), entity.get(\"object\", {}).get(\"object_id\"), entity.get(\"object\", {}).get(\"object_name\")))\n        data_flg = True\n  \n  if not data_flg:\n    incident.addNote(\"PB: Get workflow usage ({}) returned no results for incident range: {}-{}\".format(results.inputs.get(\u0027pb_object_name\u0027), results.content[\u0027min_id\u0027], results.content[\u0027max_id\u0027]))\nelse:\n  incident.addNote(\"PB: Get workflow usage ({}) failed: {}\".format(results.inputs.get(\u0027pb_object_name\u0027), results.reason))\n",
      "tags": [],
      "uuid": "52b3f960-ee96-4fff-80bb-71744f6f9a2c"
    }
  ],
  "server_version": {
    "build_number": 8131,
    "major": 46,
    "minor": 0,
    "version": "46.0.8131"
  },
  "tags": [],
  "task_order": [],
  "timeframes": null,
  "types": [
    {
      "actions": [],
      "display_name": "Playbook Usage",
      "export_key": "workflow_usage",
      "fields": {
        "element_type": {
          "allow_default_value": false,
          "blank_option": true,
          "calculated": false,
          "changeable": true,
          "chosen": true,
          "default_chosen_by_server": false,
          "deprecated": false,
          "export_key": "workflow_usage/element_type",
          "hide_notification": false,
          "id": 545,
          "input_type": "text",
          "internal": false,
          "is_tracked": false,
          "name": "element_type",
          "operation_perms": {},
          "operations": [],
          "order": 6,
          "placeholder": "",
          "prefix": null,
          "read_only": false,
          "rich_text": false,
          "tags": [],
          "templates": [],
          "text": "Element type",
          "tooltip": "",
          "type_id": 1000,
          "uuid": "091ecc44-0670-4670-a86e-d80e6d546cee",
          "values": [],
          "width": 70
        },
        "element_value": {
          "allow_default_value": false,
          "blank_option": false,
          "calculated": false,
          "changeable": true,
          "chosen": false,
          "default_chosen_by_server": false,
          "deprecated": false,
          "export_key": "workflow_usage/element_value",
          "hide_notification": false,
          "id": 546,
          "input_type": "textarea",
          "internal": false,
          "is_tracked": false,
          "name": "element_value",
          "operation_perms": {},
          "operations": [],
          "order": 7,
          "placeholder": "",
          "prefix": null,
          "read_only": false,
          "rich_text": true,
          "tags": [],
          "templates": [],
          "text": "Element value",
          "tooltip": "",
          "type_id": 1000,
          "uuid": "790a0c5b-20fe-4e2b-944e-71d57a256e03",
          "values": [],
          "width": 160
        },
        "execution_date": {
          "allow_default_value": false,
          "blank_option": true,
          "calculated": false,
          "changeable": true,
          "chosen": true,
          "default_chosen_by_server": false,
          "deprecated": false,
          "export_key": "workflow_usage/execution_date",
          "hide_notification": false,
          "id": 547,
          "input_type": "datetimepicker",
          "internal": false,
          "is_tracked": false,
          "name": "execution_date",
          "operation_perms": {},
          "operations": [],
          "order": 5,
          "placeholder": "",
          "prefix": null,
          "read_only": false,
          "rich_text": false,
          "tags": [],
          "templates": [],
          "text": "Execution date",
          "tooltip": "",
          "type_id": 1000,
          "uuid": "9812673d-950c-46ed-9542-f6e4acb2f959",
          "values": [],
          "width": 84
        },
        "incident": {
          "allow_default_value": false,
          "blank_option": true,
          "calculated": false,
          "changeable": true,
          "chosen": true,
          "default_chosen_by_server": false,
          "deprecated": false,
          "export_key": "workflow_usage/incident",
          "hide_notification": false,
          "id": 548,
          "input_type": "textarea",
          "internal": false,
          "is_tracked": false,
          "name": "incident",
          "operation_perms": {},
          "operations": [],
          "order": 1,
          "placeholder": "",
          "prefix": null,
          "read_only": false,
          "rich_text": true,
          "tags": [],
          "templates": [],
          "text": "Incident",
          "tooltip": "",
          "type_id": 1000,
          "uuid": "726985cb-ad0e-4266-8f97-3ad09828507e",
          "values": [],
          "width": 68
        },
        "report_date": {
          "allow_default_value": false,
          "blank_option": true,
          "calculated": false,
          "changeable": true,
          "chosen": true,
          "default_chosen_by_server": false,
          "deprecated": false,
          "export_key": "workflow_usage/report_date",
          "hide_notification": false,
          "id": 549,
          "input_type": "datetimepicker",
          "internal": false,
          "is_tracked": false,
          "name": "report_date",
          "operation_perms": {},
          "operations": [],
          "order": 0,
          "placeholder": "",
          "prefix": null,
          "read_only": false,
          "rich_text": false,
          "tags": [],
          "templates": [],
          "text": "Report date",
          "tooltip": "",
          "type_id": 1000,
          "uuid": "23313ce9-1667-4e9e-a94a-fc34c354c4ba",
          "values": [],
          "width": 63
        },
        "type": {
          "allow_default_value": false,
          "blank_option": false,
          "calculated": false,
          "changeable": true,
          "chosen": false,
          "default_chosen_by_server": false,
          "deprecated": false,
          "export_key": "workflow_usage/type",
          "hide_notification": false,
          "id": 550,
          "input_type": "text",
          "internal": false,
          "is_tracked": false,
          "name": "type",
          "operation_perms": {},
          "operations": [],
          "order": 2,
          "placeholder": "",
          "prefix": null,
          "read_only": false,
          "rich_text": false,
          "tags": [],
          "templates": [],
          "text": "Type",
          "tooltip": "",
          "type_id": 1000,
          "uuid": "6ddf6205-f72c-4e76-a530-cafe3b7e16e5",
          "values": [],
          "width": 37
        },
        "workflow": {
          "allow_default_value": false,
          "blank_option": false,
          "calculated": false,
          "changeable": true,
          "chosen": false,
          "default_chosen_by_server": false,
          "deprecated": false,
          "export_key": "workflow_usage/workflow",
          "hide_notification": false,
          "id": 551,
          "input_type": "textarea",
          "internal": false,
          "is_tracked": false,
          "name": "workflow",
          "operation_perms": {},
          "operations": [],
          "order": 3,
          "placeholder": "",
          "prefix": null,
          "read_only": false,
          "rich_text": true,
          "tags": [],
          "templates": [],
          "text": "Playbook/Workflow",
          "tooltip": "",
          "type_id": 1000,
          "uuid": "3ab02cb2-1486-4ef0-bd79-6c12fb165125",
          "values": [],
          "width": 153
        },
        "workflow_id": {
          "allow_default_value": false,
          "blank_option": false,
          "calculated": false,
          "changeable": true,
          "chosen": false,
          "default_chosen_by_server": false,
          "deprecated": false,
          "export_key": "workflow_usage/workflow_id",
          "hide_notification": false,
          "id": 552,
          "input_type": "number",
          "internal": false,
          "is_tracked": false,
          "name": "workflow_id",
          "operation_perms": {},
          "operations": [],
          "order": 4,
          "placeholder": "",
          "prefix": null,
          "read_only": false,
          "rich_text": false,
          "tags": [],
          "templates": [],
          "text": "Id",
          "tooltip": "",
          "type_id": 1000,
          "uuid": "a04a6f72-7174-4737-a320-deac86878adf",
          "values": [],
          "width": 74
        }
      },
      "for_actions": false,
      "for_custom_fields": false,
      "for_notifications": false,
      "for_workflows": false,
      "id": null,
      "parent_types": [
        "incident"
      ],
      "properties": {
        "can_create": false,
        "can_destroy": false,
        "for_who": []
      },
      "scripts": [],
      "tags": [],
      "type_id": 8,
      "type_name": "workflow_usage",
      "uuid": "ee895dbb-2e2d-4ac1-b6a6-d93de03ab899"
    }
  ],
  "workflows": [],
  "workspaces": []
}
