<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-circuits codegen
-->

# Example: MaaS360 Stop App Distribution

## Function - MaaS360 Stop App Distribution

### API Name
`maas360_stop_app_distribution`

### Output Name
`None`

### Message Destination
`fn_maas360`

### Pre-Processing Script
```python
inputs.maas360_app_type = rule.properties.maas360_rule_app_type if rule.properties.maas360_rule_app_type is not None else inputs.maas360_app_type
inputs.maas360_app_id = artifact.value
inputs.maas360_target_devices = rule.properties.maas360_target_devices if rule.properties.maas360_target_devices is not None else inputs.maas360_target_devices
inputs.maas360_device_id = rule.properties.maas360_rule_device_id if rule.properties.maas360_rule_device_id is not None else inputs.maas360_device_id
inputs.maas360_device_group_id = rule.properties.maas360_device_group_id if rule.properties.maas360_device_group_id is not None else inputs.maas360_device_group_id
```

### Post-Processing Script
```python
# Print empty string instead of None
def string_value(value):
  return value if value is not None else ""
  
def add_results_note(inputs, response_desc):
  noteText = u"""Stop App Distribution - {} for input params: 
    - appId: '{}' 
    - appType: '{}'
    - targetDevices: '{}'
    - deviceId: '{}'
    - deviceGroupId: '{}'.""".format(
      response_desc,
      inputs.get("maas360_app_id"), 
      inputs.get("maas360_app_type").name, 
      inputs.get("maas360_target_devices").name, 
      string_value(inputs.get("maas360_device_id")),
      string_value(inputs.get("maas360_device_group_id"))
      )
  incident.addNote(noteText)
  
########################
# Mainline starts here #
########################

if results and results.get("success"):
  content = results.get("content")
  if content:
    # Write results to a Note
    inputs = results.get("inputs")
    add_results_note(inputs, content.get("description"))
```

---

