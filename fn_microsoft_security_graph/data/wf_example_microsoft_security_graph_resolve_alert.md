<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-sdk codegen
    Generated with resilient-sdk v51.0.2.0.974
-->

# Example: Microsoft Security Graph Resolve Alert

## Function - Microsoft Security Graph Update Alert

### API Name
`microsoft_security_graph_update_alert`

### Output Name
``

### Message Destination
`microsoft_security_graph_message_destination`

### Pre-Processing Script
```python
from datetime import datetime

# Current time in ISO 8601 format
epoch_time = datetime.utcnow()
closedDateTime = epoch_time.isoformat() + "Z"  # Adding 'Z' to indicate UTC time

provider = workflow.properties.msg_alert_details.content.vendorInformation.provider
vendor = workflow.properties.msg_alert_details.content.vendor

data = '''{{
        "closedDateTime": "{0}",
        "status": "{1}",
        "vendorInformation":
        {{
            "provider": "{2}",
            "vendor": "{3}"
        }}
    }}'''.format(closedDateTime, "resolved", provider, vendor)

inputs.microsoft_security_graph_alert_data = data
inputs.microsoft_security_graph_alert_id = incident.properties.microsoft_security_graph_alert_id

```

### Post-Processing Script
```python
# Put the results json into a workflow property so we can call the
# convert_json_to_rich_text script to print readable formatted json in an incident note.
json_note = {"version": "1.0.",
             "header": "Microsoft Security Graph Resolve Alert",
             "json": results.content}

workflow.addProperty('convert_json_to_rich_text', json_note)
```

---

## Function - Microsoft Security Graph Get Alert Details

### API Name
`microsoft_security_graph_get_alert_details`

### Output Name
`msg_alert_details`

### Message Destination
`microsoft_security_graph_message_destination`

### Pre-Processing Script
```python
inputs.microsoft_security_graph_alert_id = incident.properties.microsoft_security_graph_alert_id
```

### Post-Processing Script
```python
None
```

---

