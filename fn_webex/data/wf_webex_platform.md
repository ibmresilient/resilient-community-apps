<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-sdk codegen
-->

# WebEx Platform

## Function - Webex: Create Meeting

### API Name
`webex_create_meeting`

### Output Name
``

### Message Destination
`fn_webex`

### Pre-Processing Script
```python
# To set meeting name to the workflow inputs, uncomment the following lines
inputs.webex_meeting_name = incident.name
inputs.webex_incident_id = str(incident.id)

# Get the agenda from the activity field or the incident description
if rule.properties.webex_meeting_agenda is None:
  if incident.description is not None and incident.description.content is not None:
    inputs.webex_meeting_agenda = incident.description.content
  else:
    inputs.webex_meeting_agenda = ""
else:
  inputs.webex_meeting_agenda = rule.properties.webex_meeting_agenda

inputs.webex_meeting_password = inputs.webex_meeting_password if rule.properties.webex_meeting_password is None else rule.properties.webex_meeting_password

if rule.properties.webex_meeting_attendee:
    inputs.webex_meeting_attendee = rule.properties.webex_meeting_attendee
    
if rule.properties.webex_add_all_members is not None:
    inputs.webex_add_all_members = rule.properties.webex_add_all_members
```

### Post-Processing Script
```python
content = results.get("content")

if not results.success:
  text = u"Unable to create Cisco WebEx Meeting"

  fail_reason = content.get("fail_reason")
  if fail_reason:
    text = u"{0}:\n\tFailure reason: {1}".format(text, fail_reason)
else:
  ref_html_room = u"""<a href='{0}'>Link</a>""".format(content.get("meetingLink"))

  text = u"<b>Cisco WebEx Meeting Links:</b><br />Webex Room URL: {0}".format(ref_html_room)
  for key in content:
      text += u"<br />{} : {}".format(key, content.get(key))
  
note = helper.createRichText(text)
incident.addNote(note)
```

---

