<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-sdk codegen
-->

# Example: LDAP Utilities: Update

## Function - LDAP Utilities: Update

### API Name
`ldap_utilities_update`

### Output Name
``

### Message Destination
`fn_ldap_utilities`

### Pre-Processing Script
```python
# Once the LDAP Utilities: Search completes, get the DN of the first entry
# which will be the DN of the account you want to update. Then set
# the name of the attribute to update and list the values
inputs.ldap_domain_name = 'Domain1'
inputs.ldap_dn = workflow.properties.search_output["entries"][0]["dn"]
inputs.ldap_attribute_name = "homePhone"
inputs.ldap_attribute_values = "['081111111']"
# inputs.ldap_attribute_values = "['081111111', '082222222']"
```

### Post-Processing Script
```python
# If the function is successful in updating the value of the attribute,
# a note is added to the incident

if (results.success):
  noteText = """<br><i style="color: #979ca3"> LDAP Utilities: Update workflow <u>complete</u>:</i>
                    An LDAP Attribute has been updated
                    <b>Attribute:</b> {0}
                    <b>New Value(s):</b> {1}
                    <b>DN:</b> '{2}'""".format(results.attribute_name, results.attribute_values, results.user_dn)

  incident.addNote(helper.createRichText(noteText))
```

---

## Function - LDAP Utilities: Search

### API Name
`ldap_utilities_search`

### Output Name
`search_output`

### Message Destination
`fn_ldap_utilities`

### Pre-Processing Script
```python
# Set the ldap_search_base and ldap_search_filter
# using the ldap_param wildcard then get the email
# address the user you want to update from the artifact's value
inputs.ldap_domain_name = 'Domain1'
inputs.ldap_search_base = "dc=example,dc=com"
inputs.ldap_search_filter = "(&(mail=%ldap_param%))"
inputs.ldap_search_param =  artifact.value
```

### Post-Processing Script
```python
# No post-processing script here as output being passed into next function
```

---

