<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-sdk codegen
    Generated with resilient-sdk v51.0.5.0.1475
-->

# Playbook - BitSight Cyber Insurance: Get Portfolio Details - Example (PB)

### API Name
`bitsight_cyber_insurance_get_portfolio_details`

### Status
`enabled`

### Activation Type
`Manual`

### Activation Conditions
`-`

### Activation Form Elements
| Input Field Label | API Name | Element Type | Tooltip | Requirement |
| ----------------- | -------- | ------------ | ------- | ----------- |
| Countries | `bitsight_ci_countries` | text | Country codes. Use EUU for all EU countries and NEU for all non-EU countries. Example: US,CA. Filter companies by one or more countries in which they have IP addresses. | Optional |
| Exclude Subscription Type Slug | `bitsight_ci_exclude_subscription_type_slug` | text | Comma separated subscription slug names. Exclude one or more subscription types. | Optional |
| Filter Group | `bitsight_ci_filter_group` | select | Group filters and modify the way the filters intersect with each other. | Optional |
| Folder GUID | `bitsight_ci_folder_guid` | text | Filter alerts by the specified folder. Folder unique identifier. | Optional |
| Industry | `bitsight_ci_industry` | text | Industry name. Filter companies by their industry. | Optional |
| Industry Slug | `bitsight_ci_industry_slug` | text | Industry slug name. Filter companies by their industry. | Optional |
| Life Cycle Slug | `bitsight_ci_life_cycle_slug` | multiselect | Life Cycle slug names. null to include companies that have not been assigned to a Life Cycle stage. Filter companies by their Life Cycle stage. | Optional |
| limit | `bitsight_ci_limit` | number | Set the maximum number of results. The results might include fewer records (even zero), but not more. Defaults to 100. | Optional |
| offset | `bitsight_ci_offset` | number | Set the starting point of the return. Defaults to 0. | Optional |
| Open Ports | `bitsight_ci_open_ports` | text | Comma-separated service names and port numbers. Example: SIP, Port 8081, HTTPS, Port 443. Filter companies by open ports. | Optional |
| Product Types | `bitsight_ci_product_types` | text | Comma-separated product types. Example: Order Management. Filter by companies that use certain service provider product types. | Optional |
| Products | `bitsight_ci_products` | text | Comma-separated product names. Example: Black Hills POS. Filter by companies that use certain service provider products. | Optional |
| Providers | `bitsight_ci_providers` | text | The name of the service provider. Example: Black Hills Technologies. Filter companies that rely on certain service providers. | Optional |
| Rating | `bitsight_ci_rating` | number | A 10-point incremental number between 250 and 900. Filter companies by their rating. | Optional |
| Rating gt > | `bitsight_ci_rating_gt` | number | A 10-point incremental number between 250 and 900. Filter companies that have a rating greater than the given value. | Optional |
| Rating gte >= | `bitsight_ci_rating_gte` | number | A 10-point incremental number between 250 and 900. Filter companies that have a rating greater than or equal to the given value. | Optional |
| Rating lt < | `bitsight_ci_rating_lt` | number | A 10-point incremental number between 250 and 900. Filter companies that have a rating less than the given value. | Optional |
| Rating lte <= | `bitsight_ci_rating_lte` | number | A 10-point incremental number between 250 and 900. Filter companies that have a rating less than or equal to the given value. | Optional |
| Rating Type | `bitsight_ci_rating_type` | select | Rating type name. Values: CURATED, SELF_PUBLISHED, and PRIVATE. Filter companies by rating type. | Optional |
| Relationship Slug | `bitsight_ci_relationship_slug` | select | Relationship slug name. Values: vendor, strategic_partner, fourth_party, subsidiary, benchmark, other, and null. Filter companies of certain relationships. | Optional |
| Risk Vectors Grade | `bitsight_ci_risk_vectors_grade` | text | Risk vector letter grades. Use filter_group=risk_vectors to filter by specific grades in specific risk vectors. Filter companies with certain risk vector letter grades. Does not include N/A letter grades. On its own, this includes companies that have any of the specified grades in any risk vector. | Optional |
| Risk Vectors Slug | `bitsight_ci_risk_vectors_slug` | text | Risk vector slug names. Use filter_group=risk_vectors to filter by specific grades in specific risk vectors. Filter companies with graded risk vectors. On its own, this includes companies with a grade in any of the specified risk vectors. | Optional |
| Security Incident Categories | `bitsight_ci_security_incident_categories` | multiselect | Comma-separated Public Disclosure risk type slug names. Values: breach, general, and other. Filter companies (including their subsidiaries) that have been affected by a Public Disclosures event in the past year. | Optional |
| Software Category | `bitsight_ci_software_category` | select | The supported status: Supported, Unsupported, Unknown. Use filter_group=software to filter by specific software in specific categories. Filter companies by the supported statuses of their software. | Optional |
| Software Name | `bitsight_ci_software_name` | text | Software name. Use filter_group=software to filter by specific software in specific categories. Filter companies with certain software detected on their network. On its own, this includes companies that have any of the specified software, across all software categories. | Optional |
| Subscription Type Slug | `bitsight_ci_subscription_type_slug` | multiselect | Comma-separated subscription slug names. Examples: applicants, countries, one-time, alerts-only, continuous_monitoring, and vendor-selection. Filter companies by subscription type. | Optional |
| Tier | `bitsight_ci_tier` | text | Tier unique identifiers tier_guid. null to include companies that are not in a tier. Filter companies by their tier. | Optional |
| Vendor Action Plan | `bitsight_ci_vendor_action_plan` | select | Action plan slug name. Values: monitor, review, and escalate. Filter companies by action plan. | Optional |
| vulnerabilities | `bitsight_ci_vulnerabilities` | text | Comma-separated vulnerability names. Example: CVE-2016-10712. Filter companies that have certain vulnerabilities.  | Optional |

### Object Type
`incident`

### Description
Get information about the companies in your portfolio.


---
## Function - BitSight Cyber Insurance: Get Portfolio Details

### API Name
`bitsight_cyber_insurance_get_portfolio_details`

### Output Name
`bitsight_ci_get_portfolio_details_return`

### Message Destination
`fn_bitsight_cyber_insurance`

### Function-Input Script
```python
if getattr(playbook.inputs, "bitsight_ci_limit", None):
  inputs.bitsight_ci_limit = getattr(playbook.inputs, "bitsight_ci_limit", None)
if getattr(playbook.inputs, "bitsight_ci_offset", None):
  inputs.bitsight_ci_offset = getattr(playbook.inputs, "bitsight_ci_offset", None)
if getattr(playbook.inputs, "bitsight_ci_countries", None):
  inputs.bitsight_ci_countries = getattr(playbook.inputs, "bitsight_ci_countries", None)
if getattr(playbook.inputs, "bitsight_ci_exclude_subscription_type_slug", None):
  inputs.bitsight_ci_exclude_subscription_type_slug = getattr(playbook.inputs, "bitsight_ci_exclude_subscription_type_slug", None)
if getattr(playbook.inputs, "bitsight_ci_filter_group", None):
  inputs.bitsight_ci_filter_group = getattr(playbook.inputs, "bitsight_ci_filter_group", None)
if getattr(playbook.inputs, "bitsight_ci_risk_vectors_grade", None):
  inputs.bitsight_ci_risk_vectors_grade = getattr(playbook.inputs, "bitsight_ci_risk_vectors_grade", None)
if getattr(playbook.inputs, "bitsight_ci_risk_vectors_slug", None):
  inputs.bitsight_ci_risk_vectors_slug = getattr(playbook.inputs, "bitsight_ci_risk_vectors_slug", None)
if getattr(playbook.inputs, "bitsight_ci_software_category", None):
  inputs.bitsight_ci_software_category = getattr(playbook.inputs, "bitsight_ci_software_category", None)
if getattr(playbook.inputs, "bitsight_ci_software_name", None):
  inputs.bitsight_ci_software_name = getattr(playbook.inputs, "bitsight_ci_software_name", None)
if getattr(playbook.inputs, "bitsight_ci_folder_guid", None):
  inputs.bitsight_ci_folder_guid = getattr(playbook.inputs, "bitsight_ci_folder_guid", None)
if getattr(playbook.inputs, "bitsight_ci_industry", None):
  inputs.bitsight_ci_industry = getattr(playbook.inputs, "bitsight_ci_industry", None)
if getattr(playbook.inputs, "bitsight_ci_industry_slug", None):
  inputs.bitsight_ci_industry_slug = getattr(playbook.inputs, "bitsight_ci_industry_slug", None)
if getattr(playbook.inputs, "bitsight_ci_infections", None):
  inputs.bitsight_ci_infections = getattr(playbook.inputs, "bitsight_ci_infections", None)
if getattr(playbook.inputs, "bitsight_ci_life_cycle_slug", None):
  inputs.bitsight_ci_life_cycle_slug = getattr(playbook.inputs, "bitsight_ci_life_cycle_slug", None)
if getattr(playbook.inputs, "bitsight_ci_open_ports", None):
  inputs.bitsight_ci_open_ports = getattr(playbook.inputs, "bitsight_ci_open_ports", None)
if getattr(playbook.inputs, "bitsight_ci_products", None):
  inputs.bitsight_ci_products = getattr(playbook.inputs, "bitsight_ci_products", None)
if getattr(playbook.inputs, "bitsight_ci_product_types", None):
  inputs.bitsight_ci_product_types = getattr(playbook.inputs, "bitsight_ci_product_types", None)
if getattr(playbook.inputs, "bitsight_ci_providers", None):
  inputs.bitsight_ci_providers = getattr(playbook.inputs, "bitsight_ci_providers", None)
if getattr(playbook.inputs, "bitsight_ci_rating", None):
  inputs.bitsight_ci_rating = getattr(playbook.inputs, "bitsight_ci_rating", None)
if getattr(playbook.inputs, "bitsight_ci_rating_gt", None):
  inputs.bitsight_ci_rating_gt = getattr(playbook.inputs, "bitsight_ci_rating_gt", None)
if getattr(playbook.inputs, "bitsight_ci_rating_gte", None):
  inputs.bitsight_ci_rating_gte = getattr(playbook.inputs, "bitsight_ci_rating_gte", None)
if getattr(playbook.inputs, "bitsight_ci_rating_lt", None):
  inputs.bitsight_ci_rating_lt = getattr(playbook.inputs, "bitsight_ci_rating_lt", None)
if getattr(playbook.inputs, "bitsight_ci_rating_lte", None):
  inputs.bitsight_ci_rating_lte = getattr(playbook.inputs, "bitsight_ci_rating_lte", None)
if getattr(playbook.inputs, "bitsight_ci_relationship_slug", None):
  inputs.bitsight_ci_relationship_slug = getattr(playbook.inputs, "bitsight_ci_relationship_slug", None)
if getattr(playbook.inputs, "bitsight_ci_security_incident_categories", None):
  inputs.bitsight_ci_security_incident_categories = getattr(playbook.inputs, "bitsight_ci_security_incident_categories", None)
if getattr(playbook.inputs, "bitsight_ci_subscription_type_slug", None):
  inputs.bitsight_ci_subscription_type_slug = getattr(playbook.inputs, "bitsight_ci_subscription_type_slug", None)
if getattr(playbook.inputs, "bitsight_ci_tier", None):
  inputs.bitsight_ci_tier = getattr(playbook.inputs, "bitsight_ci_tier", None)
if getattr(playbook.inputs, "bitsight_ci_rating_type", None):
  inputs.bitsight_ci_rating_type = getattr(playbook.inputs, "bitsight_ci_rating_type", None)
if getattr(playbook.inputs, "bitsight_ci_vendor_action_plan", None):
  inputs.bitsight_ci_vendor_action_plan = getattr(playbook.inputs, "bitsight_ci_vendor_action_plan", None)
if getattr(playbook.inputs, "bitsight_ci_vulnerabilities", None):
  inputs.bitsight_ci_vulnerabilities = getattr(playbook.inputs, "bitsight_ci_vulnerabilities", None)
```

---

## Local script - BitSight Cyber Insurance: Get Portfolio Details output

### Description


### Script Type
`Local script`

### Object Type
`incident`

### Script Content
```python
from json import dumps
results = playbook.functions.results.bitsight_ci_get_portfolio_details_return
if results.get("success", None):
  incident.addNote(f"BitSight Cyber Insurance: Get Portfolio Details returned:\n{dumps(results.get('content', {}), indent=4)}")
else:
  incident.addNote(f"BitSight Cyber Insurance: Get Portfolio Details failed with reason:\n{results.get('reason', None)}")
```

---

