<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-sdk codegen
    Generated with resilient-sdk v52.0.0.0.927
-->

# Playbook - VMware CBC: Post Tags

### API Name
`vmware_cbc_post_tags`

### Status
`enabled`

### Activation Type
`Manual`

### Activation Conditions
`incident.properties.vmware_cbc_alert_id has_a_value AND incident.properties.vmware_cbc_threat_id has_a_value`

### Activation Form Elements
| Input Field Label | API Name | Element Type | Tooltip | Requirement |
| ----------------- | -------- | ------------ | ------- | ----------- |
| Tag(s) | `vmware_cbc_tags` | text | Comma separated list of tags to add to the alert. | Optional |

### Object Type
`incident`

### Description
Manual playbook to add a list of tags to a Carbon Black Cloud alert in CBC.


---
## Function - VMware CBC: Post Tags

### API Name
`vmware_cbc_post_tags`

### Output Name
`post_tags_results`

### Message Destination
`vmware_carbon_black_cloud`

### Function-Input Script
```python
inputs.vmware_cbc_threat_id = incident.properties.vmware_cbc_threat_id
inputs.vmware_cbc_tags = playbook.inputs.vmware_cbc_tags
```

---

## Local script - VMware CBC: Post Tags results to note 

### Description
Write the results of function Post Tags to a note.

### Script Type
`Local script`

### Object Type
`incident`

### Script Content
```python
results = playbook.functions.results.post_tags_results

if results.get("success"):
    content = results.get("content")
    if content:
        note_text = f"<b>VMware CBC: Post Tags:</b>  {playbook.inputs.vmware_cbc_tags} added."
    else:
        note_text = "<b>VMware CBC: Post Tags</b> failed to post tag(s) - no content."
else:
    reason = results.get("reason")
    note_text = "<b>VMware CBC: Post Tags</b> failed to post tag(s) {reason}."
  
incident.addNote(note_text)
```

---

