<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-sdk codegen
    Generated with resilient-sdk v52.0.0.0.927
-->

# Playbook - VMware CBC: Post Note to CBC Alert

### API Name
`vmware_cbc_post_note_to_cbc_alert`

### Status
`enabled`

### Activation Type
`Manual`

### Activation Conditions
`incident.plan_status equals Active AND incident.properties.vmware_cbc_alert_id has_a_value AND note.text not_contains Created by VMware CBC: AND note.text not_contains Post note to CBC alert at`

### Object Type
`note`

### Description
Manual playbook to post a note to CBC alert in Carbon Black Cloud.


---
## Function - VMware CBC: Post Note to CBC Alert

### API Name
`vmware_cbc_post_note_to_cbc_alert`

### Output Name
`post_note_to_alert_results`

### Message Destination
`vmware_carbon_black_cloud`

### Function-Input Script
```python
inputs.vmware_cbc_alert_id = incident.properties.vmware_cbc_alert_id
inputs.vmware_cbc_alert_note_text = note.text.content
```

---

## Local script - VMare CBC: Write post note results to CBC to a note in SOAR

### Description
Write results of post note to CBC alert to a SOAR note

### Script Type
`Local script`

### Object Type
`note`

### Script Content
```python
from datetime import datetime

results = playbook.functions.results.post_note_to_alert_results

# Edit note in SOAR to indicate it was sent to CBC alert
if results.get("success"):
  # Get the current time
  now = datetime.now()
  note.text = u"<b>Post note to CBC alert at {0}</b><br>{1}".format(now, note.text.content)
  
```

---

