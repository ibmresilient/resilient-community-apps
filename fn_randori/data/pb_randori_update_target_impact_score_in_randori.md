<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-sdk codegen
    Generated with resilient-sdk v51.0.2.2.1096
-->

# Playbook - Randori: Update Target Impact Score in Randori

### API Name
`randori_update_target_impact_score_in_randori`

### Status
`enabled`

### Activation Type
`Manual`

### Activation Conditions
`incident.properties.randori_target_id has_a_value`

### Activation Form Elements
| Input Field Label | API Name | Element Type | Tooltip | Requirement |
| ----------------- | -------- | ------------ | ------- | ----------- |
| Impact Score | `randori_target_impact_score` | select | - | Always |
| Note | `randori_note` | textarea | - | Optional |

### Object Type
`incident`

### Description
Update the Impact Score of the target in Randori.  If an optional note is specified post that as a comment in the Randori target.


---
## Function - Randori: Update Target Impact Score

### API Name
`randori_update_target_impact_score`

### Output Name
`target_impact_score`

### Message Destination
`fn_randori`

### Function-Input Script
```python
inputs.randori_target_id = incident.properties.randori_target_id
inputs.randori_target_impact_score = playbook.inputs.randori_target_impact_score
inputs.randori_note = playbook.inputs.randori_note.content
```

---

## Local script - Update Impact Score in Randori and SOAR

### Description
If the Randori target impact score is updated in the calling function, then update the impact score custom field in SOAR and write the playbook results to a note.

### Script Type
`Local script`

### Object Type
`incident`

### Script Content
```python
target_impact_score = playbook.functions.results.target_impact_score

if not target_impact_score.success:
  incident.addNote("Randori: ERROR: Unable to Update Target Impact Score to <b>{}</b>".format(target_impact_score.inputs.randori_target_impact_score))
else:
  incident.properties.randori_target_impact_score = target_impact_score.inputs.randori_target_impact_score
  incident.addNote("Randori: Updated Target Impact Score to <b>{}</b> in Randori".format(incident.properties.randori_target_impact_score))
```

---

