<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-sdk codegen
    Generated with resilient-sdk v51.0.2.2.1096
-->

# Playbook - Randori: Send SOAR Note to Randori Target

### API Name
`randori_send_soar_note_to_randori_target`

### Status
`enabled`

### Activation Type
`Manual`

### Activation Conditions
`incident.plan_status equals Active AND incident.properties.randori_target_id has_a_value AND note.text not_contains Sent to Randori`

### Object Type
`note`

### Description
Send a SOAR note to the corresponding target as a comment in Randori. Edit the note in SOAR to incident was sent to Randori so the note is not sent more than once.


---
## Function - Randori: Send Note as Comment to Target

### API Name
`randori_send_note_as_comment_to_target`

### Output Name
`note_data`

### Message Destination
`fn_randori`

### Function-Input Script
```python
inputs.randori_target_id = incident.properties.randori_target_id
inputs.randori_comment_text = note.text.content
```

---

## Local script - Update SOAR Note to Indicate Sent to Randori

### Description
Update SOAR Note to Indicate Sent to Randori.

### Script Type
`Local script`

### Object Type
`note`

### Script Content
```python
from datetime import datetime

note_data = playbook.functions.results.note_data

# Edit note in SOAR to indicate it was sent to Randori
if note_data.success:
  # Get the current time
  now = datetime.now()
  note.text = u"<b>Created by IBM SOAR: at {0}</b><br>{1}".format(now, note.text.content)
```

---

