{
  "action_order": [],
  "actions": [],
  "apps": [],
  "automatic_tasks": [],
  "export_date": 1654709174546,
  "export_format_version": 2,
  "export_type": null,
  "fields": [
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/ocr_attachment_id",
      "hide_notification": false,
      "id": 558,
      "input_type": "number",
      "internal": false,
      "is_tracked": false,
      "name": "ocr_attachment_id",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "rich_text": false,
      "tags": [
        {
          "tag_handle": "playbook_b1eac7ff_fc16_4084_9045_b753d316a26e",
          "value": "Playbook Tag"
        }
      ],
      "templates": [],
      "text": "ocr_attachment_id",
      "tooltip": "",
      "type_id": 11,
      "uuid": "929a8b77-5876-40bd-be9b-a39b910f1ee7",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/ocr_artifact_id",
      "hide_notification": false,
      "id": 556,
      "input_type": "number",
      "internal": false,
      "is_tracked": false,
      "name": "ocr_artifact_id",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "rich_text": false,
      "tags": [
        {
          "tag_handle": "playbook_b1eac7ff_fc16_4084_9045_b753d316a26e",
          "value": "Playbook Tag"
        }
      ],
      "templates": [],
      "text": "ocr_artifact_id",
      "tooltip": "",
      "type_id": 11,
      "uuid": "a7af2d6e-a239-44ea-91a3-040eb470a24a",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/ocr_language",
      "hide_notification": false,
      "id": 563,
      "input_type": "text",
      "internal": false,
      "is_tracked": false,
      "name": "ocr_language",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "rich_text": false,
      "tags": [
        {
          "tag_handle": "playbook_b1eac7ff_fc16_4084_9045_b753d316a26e",
          "value": "Playbook Tag"
        }
      ],
      "templates": [],
      "text": "ocr_language",
      "tooltip": "",
      "type_id": 11,
      "uuid": "a98055ee-883f-4b39-a428-38c539984679",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/ocr_incident_id",
      "hide_notification": false,
      "id": 555,
      "input_type": "number",
      "internal": false,
      "is_tracked": false,
      "name": "ocr_incident_id",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "required": "always",
      "rich_text": false,
      "tags": [
        {
          "tag_handle": "playbook_b1eac7ff_fc16_4084_9045_b753d316a26e",
          "value": "Playbook Tag"
        }
      ],
      "templates": [],
      "text": "ocr_incident_id",
      "tooltip": "",
      "type_id": 11,
      "uuid": "aa71a32f-5495-4e65-8169-c1be988196d5",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/ocr_task_id",
      "hide_notification": false,
      "id": 557,
      "input_type": "number",
      "internal": false,
      "is_tracked": false,
      "name": "ocr_task_id",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "rich_text": false,
      "tags": [
        {
          "tag_handle": "playbook_b1eac7ff_fc16_4084_9045_b753d316a26e",
          "value": "Playbook Tag"
        }
      ],
      "templates": [],
      "text": "ocr_task_id",
      "tooltip": "",
      "type_id": 11,
      "uuid": "b1a0ef93-a52e-4c50-a521-dd8da24bbff7",
      "values": []
    },
    {
      "allow_default_value": false,
      "blank_option": false,
      "calculated": false,
      "changeable": true,
      "chosen": false,
      "default_chosen_by_server": false,
      "deprecated": false,
      "export_key": "__function/ocr_confidence_threshold",
      "hide_notification": false,
      "id": 560,
      "input_type": "number",
      "internal": false,
      "is_tracked": false,
      "name": "ocr_confidence_threshold",
      "operation_perms": {},
      "operations": [],
      "placeholder": "",
      "prefix": null,
      "read_only": false,
      "rich_text": false,
      "tags": [
        {
          "tag_handle": "playbook_b1eac7ff_fc16_4084_9045_b753d316a26e",
          "value": "Playbook Tag"
        }
      ],
      "templates": [],
      "text": "ocr_confidence_threshold",
      "tooltip": "defaults to 50%",
      "type_id": 11,
      "uuid": "bf7f1348-7b26-4a68-89ac-a2f966017913",
      "values": []
    },
    {
      "export_key": "incident/internal_customizations_field",
      "id": 0,
      "input_type": "text",
      "internal": true,
      "name": "internal_customizations_field",
      "read_only": true,
      "text": "Customizations Field (internal)",
      "type_id": 0,
      "uuid": "bfeec2d4-3770-11e8-ad39-4a0004044aa1"
    }
  ],
  "functions": [
    {
      "created_date": 1654540422196,
      "description": {
        "content": "runs OCR on an image in byte string format and returns the relevant results",
        "format": "text"
      },
      "destination_handle": "fn_ocr",
      "display_name": "Read Text From Image Bytes",
      "export_key": "fn_ocr",
      "id": 135,
      "last_modified_by": {
        "display_name": "Admin User",
        "id": 1,
        "name": "admin@example.com",
        "type": "user"
      },
      "last_modified_time": 1654702634983,
      "name": "fn_ocr",
      "tags": [
        {
          "tag_handle": "playbook_b1eac7ff_fc16_4084_9045_b753d316a26e",
          "value": "Playbook Tag"
        }
      ],
      "uuid": "7f05f3a0-1788-4634-b092-43ae4fe8b197",
      "version": 12,
      "view_items": [
        {
          "content": "aa71a32f-5495-4e65-8169-c1be988196d5",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "b1a0ef93-a52e-4c50-a521-dd8da24bbff7",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "a98055ee-883f-4b39-a428-38c539984679",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "bf7f1348-7b26-4a68-89ac-a2f966017913",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "929a8b77-5876-40bd-be9b-a39b910f1ee7",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        },
        {
          "content": "a7af2d6e-a239-44ea-91a3-040eb470a24a",
          "element": "field_uuid",
          "field_type": "__function",
          "show_if": null,
          "show_link_header": false,
          "step_label": null
        }
      ],
      "workflows": []
    }
  ],
  "geos": null,
  "groups": null,
  "id": 4,
  "inbound_destinations": [],
  "inbound_mailboxes": null,
  "incident_artifact_types": [],
  "incident_types": [
    {
      "create_date": 1654709173110,
      "description": "Customization Packages (internal)",
      "enabled": false,
      "export_key": "Customization Packages (internal)",
      "hidden": false,
      "id": 0,
      "name": "Customization Packages (internal)",
      "parent_id": null,
      "system": false,
      "update_date": 1654709173110,
      "uuid": "bfeec2d4-3770-11e8-ad39-4a0004044aa0"
    }
  ],
  "industries": null,
  "layouts": [],
  "locale": null,
  "message_destinations": [
    {
      "api_keys": [
        "ad261c1f-f1cc-4115-bbce-a151f88bac5e"
      ],
      "destination_type": 0,
      "expect_ack": true,
      "export_key": "fn_ocr",
      "name": "fn_ocr",
      "programmatic_name": "fn_ocr",
      "tags": [
        {
          "tag_handle": "playbook_b1eac7ff_fc16_4084_9045_b753d316a26e",
          "value": "Playbook Tag"
        }
      ],
      "users": [],
      "uuid": "70f0a4c8-8fda-41e5-a85b-96fe8dbb4307"
    }
  ],
  "notifications": null,
  "overrides": [],
  "phases": [],
  "playbooks": [
    {
      "activation_type": "manual",
      "content": {
        "content_version": 10,
        "xml": "\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\u003cdefinitions xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:resilient=\"http://resilient.ibm.com/bpmn\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" targetNamespace=\"http://www.camunda.org/test\"\u003e\u003cprocess id=\"playbook_b1eac7ff_fc16_4084_9045_b753d316a26e\" isExecutable=\"true\" name=\"playbook_b1eac7ff_fc16_4084_9045_b753d316a26e\"\u003e\u003cdocumentation/\u003e\u003cstartEvent id=\"StartEvent_155asxm\"\u003e\u003coutgoing\u003eFlow_06msd89\u003c/outgoing\u003e\u003c/startEvent\u003e\u003cserviceTask id=\"ServiceTask_1\" name=\"Read Text From Image Bytes\" resilient:type=\"function\"\u003e\u003cextensionElements\u003e\u003cresilient:function uuid=\"7f05f3a0-1788-4634-b092-43ae4fe8b197\"\u003e{\"inputs\":{},\"pre_processing_script\":\"inputs.ocr_incident_id = incident.id\\n# inputs.ocr_attachment_id = attachment.id if attachment.id else None\\ninputs.ocr_artifact_id = artifact.id if artifact.id else None\\ninputs.ocr_task_id = task.id if task and task.id else None\\ninputs.ocr_confidence_threshold = playbook.inputs.ocr_confidence_threshold\\ninputs.ocr_language = playbook.inputs.ocr_language\",\"pre_processing_script_language\":\"python3\",\"result_name\":\"ocr_results\"}\u003c/resilient:function\u003e\u003c/extensionElements\u003e\u003cincoming\u003eFlow_06msd89\u003c/incoming\u003e\u003coutgoing\u003eFlow_0l276jy\u003c/outgoing\u003e\u003c/serviceTask\u003e\u003csequenceFlow id=\"Flow_06msd89\" sourceRef=\"StartEvent_155asxm\" targetRef=\"ServiceTask_1\"/\u003e\u003cscriptTask id=\"ScriptTask_2\" name=\"ocr_results_to_note\"\u003e\u003cextensionElements\u003e\u003cresilient:script uuid=\"1d9740c6-4267-4cd1-8089-cc5f935387b7\"/\u003e\u003c/extensionElements\u003e\u003cincoming\u003eFlow_0l276jy\u003c/incoming\u003e\u003coutgoing\u003eFlow_1kd23ca\u003c/outgoing\u003e\u003cscript\u003escript\u003c/script\u003e\u003c/scriptTask\u003e\u003csequenceFlow id=\"Flow_0l276jy\" sourceRef=\"ServiceTask_1\" targetRef=\"ScriptTask_2\"/\u003e\u003cendEvent id=\"EndPoint_3\" resilient:documentation=\"End point\"\u003e\u003cincoming\u003eFlow_1kd23ca\u003c/incoming\u003e\u003c/endEvent\u003e\u003csequenceFlow id=\"Flow_1kd23ca\" sourceRef=\"ScriptTask_2\" targetRef=\"EndPoint_3\"/\u003e\u003c/process\u003e\u003cbpmndi:BPMNDiagram id=\"BPMNDiagram_1\"\u003e\u003cbpmndi:BPMNPlane bpmnElement=\"playbook_b1eac7ff_fc16_4084_9045_b753d316a26e\" id=\"BPMNPlane_1\"\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Flow_1kd23ca\" id=\"Flow_1kd23ca_di\"\u003e\u003comgdi:waypoint x=\"721\" y=\"402\"/\u003e\u003comgdi:waypoint x=\"721\" y=\"454\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Flow_0l276jy\" id=\"Flow_0l276jy_di\"\u003e\u003comgdi:waypoint x=\"721\" y=\"262\"/\u003e\u003comgdi:waypoint x=\"721\" y=\"318\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNEdge bpmnElement=\"Flow_06msd89\" id=\"Flow_06msd89_di\"\u003e\u003comgdi:waypoint x=\"721\" y=\"117\"/\u003e\u003comgdi:waypoint x=\"721\" y=\"178\"/\u003e\u003c/bpmndi:BPMNEdge\u003e\u003cbpmndi:BPMNShape bpmnElement=\"StartEvent_155asxm\" id=\"StartEvent_155asxm_di\"\u003e\u003comgdc:Bounds height=\"52\" width=\"181.515625\" x=\"630\" y=\"65\"/\u003e\u003cbpmndi:BPMNLabel\u003e\u003comgdc:Bounds height=\"0\" width=\"90\" x=\"616\" y=\"100\"/\u003e\u003c/bpmndi:BPMNLabel\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNShape bpmnElement=\"ServiceTask_1\" id=\"ServiceTask_1_di\"\u003e\u003comgdc:Bounds height=\"84\" width=\"196\" x=\"623\" y=\"178\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNShape bpmnElement=\"ScriptTask_2\" id=\"ScriptTask_2_di\"\u003e\u003comgdc:Bounds height=\"84\" width=\"196\" x=\"623\" y=\"318\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003cbpmndi:BPMNShape bpmnElement=\"EndPoint_3\" id=\"EndPoint_3_di\"\u003e\u003comgdc:Bounds height=\"52\" width=\"132.21875\" x=\"655\" y=\"454\"/\u003e\u003c/bpmndi:BPMNShape\u003e\u003c/bpmndi:BPMNPlane\u003e\u003c/bpmndi:BPMNDiagram\u003e\u003c/definitions\u003e"
      },
      "create_date": 1654544182141,
      "creator_principal": {
        "display_name": "Admin User",
        "id": 1,
        "name": "admin@example.com",
        "type": "user"
      },
      "deployment_id": "playbook_b1eac7ff_fc16_4084_9045_b753d316a26e",
      "description": {
        "content": "Reads text in an image using OCR",
        "format": "text"
      },
      "display_name": "Parse Image",
      "export_key": "parse_image",
      "field_type_handle": "playbook_b1eac7ff_fc16_4084_9045_b753d316a26e",
      "fields_type": {
        "actions": [],
        "display_name": "Parse Image",
        "export_key": "playbook_b1eac7ff_fc16_4084_9045_b753d316a26e",
        "fields": {
          "ocr_confidence_threshold": {
            "allow_default_value": false,
            "blank_option": false,
            "calculated": false,
            "changeable": true,
            "chosen": false,
            "default_chosen_by_server": false,
            "deprecated": false,
            "export_key": "playbook_b1eac7ff_fc16_4084_9045_b753d316a26e/ocr_confidence_threshold",
            "hide_notification": false,
            "id": 561,
            "input_type": "number",
            "internal": false,
            "is_tracked": false,
            "name": "ocr_confidence_threshold",
            "operation_perms": {},
            "operations": [],
            "placeholder": "49",
            "prefix": null,
            "read_only": false,
            "rich_text": false,
            "tags": [],
            "templates": [],
            "text": "Confidence Threshold",
            "tooltip": "Lines with confidence less than this number are ignored. Defaults to 49%",
            "type_id": 1005,
            "uuid": "796a2bfc-3a2c-4c3c-b013-ee7e70ef8de8",
            "values": []
          },
          "ocr_language": {
            "allow_default_value": false,
            "blank_option": false,
            "calculated": false,
            "changeable": true,
            "chosen": false,
            "default_chosen_by_server": false,
            "deprecated": false,
            "export_key": "playbook_b1eac7ff_fc16_4084_9045_b753d316a26e/ocr_language",
            "hide_notification": false,
            "id": 562,
            "input_type": "text",
            "internal": false,
            "is_tracked": false,
            "name": "ocr_language",
            "operation_perms": {},
            "operations": [],
            "placeholder": "en",
            "prefix": null,
            "read_only": false,
            "rich_text": false,
            "tags": [],
            "templates": [],
            "text": "OCR Language",
            "tooltip": "The language to detect. Defaults to \u0027en\u0027 (English), check Tesseract 5.0.1 documentation for a full list of languages and scripts.",
            "type_id": 1005,
            "uuid": "8353a029-9d48-41c0-bdb4-f07f6c122124",
            "values": []
          }
        },
        "for_actions": false,
        "for_custom_fields": false,
        "for_notifications": false,
        "for_workflows": false,
        "id": null,
        "parent_types": [
          "__playbook"
        ],
        "properties": {
          "can_create": false,
          "can_destroy": false,
          "for_who": []
        },
        "scripts": [],
        "tags": [],
        "type_id": 28,
        "type_name": "playbook_b1eac7ff_fc16_4084_9045_b753d316a26e",
        "uuid": "b7616e9c-0c43-4e5a-88ea-2e5303d58c37"
      },
      "has_logical_errors": false,
      "id": 6,
      "is_deleted": false,
      "is_locked": false,
      "last_modified_principal": {
        "display_name": "Admin User",
        "id": 1,
        "name": "admin@example.com",
        "type": "user"
      },
      "last_modified_time": 1654702644747,
      "local_scripts": [
        {
          "actions": [],
          "created_date": 1654544433068,
          "description": "converts the results from OCR function into a note",
          "enabled": false,
          "export_key": "ocr_results_to_note",
          "id": 11,
          "language": "python3",
          "last_modified_by": "admin@example.com",
          "last_modified_time": 1654548540648,
          "name": "ocr_results_to_note",
          "object_type": "artifact",
          "playbook_handle": "parse_image",
          "programmatic_name": "parse_image_ocr_results_to_note",
          "script_text": "content = playbook.functions.results.ocr_results[\"content\"]\nif content is not None:\n  # note_text = u\"File {0} converted to base64 format: {1}\".format(attachment.name, content[\"content\"])\n  # Make this parse when we know what the output will be\n  incident.addNote(content[\"text\"])",
          "tags": [],
          "uuid": "1d9740c6-4267-4cd1-8089-cc5f935387b7"
        }
      ],
      "manual_settings": {
        "activation_conditions": {
          "conditions": [
            {
              "evaluation_id": null,
              "field_name": "artifact.type",
              "method": "equals",
              "type": null,
              "value": "Other File"
            }
          ],
          "logic_type": "all"
        },
        "view_items": [
          {
            "content": "796a2bfc-3a2c-4c3c-b013-ee7e70ef8de8",
            "element": "field_uuid",
            "field_type": "playbook_b1eac7ff_fc16_4084_9045_b753d316a26e",
            "show_if": null,
            "show_link_header": false,
            "step_label": null
          },
          {
            "content": "8353a029-9d48-41c0-bdb4-f07f6c122124",
            "element": "field_uuid",
            "field_type": "playbook_b1eac7ff_fc16_4084_9045_b753d316a26e",
            "show_if": null,
            "show_link_header": false,
            "step_label": null
          }
        ]
      },
      "name": "parse_image",
      "object_type": "artifact",
      "status": "enabled",
      "tag": {
        "display_name": "Playbook_b1eac7ff-fc16-4084-9045-b753d316a26e",
        "id": 8,
        "name": "playbook_b1eac7ff_fc16_4084_9045_b753d316a26e",
        "type": "playbook",
        "uuid": "63e9eaba-9654-436c-a8dc-3e090b93f43c"
      },
      "tags": [],
      "type": "default",
      "uuid": "b1eac7ff-fc16-4084-9045-b753d316a26e",
      "version": 14
    }
  ],
  "regulators": null,
  "roles": [],
  "scripts": [],
  "server_version": {
    "build_number": 7899,
    "major": 45,
    "minor": 0,
    "version": "45.0.7899"
  },
  "tags": [],
  "task_order": [],
  "timeframes": null,
  "types": [],
  "workflows": [],
  "workspaces": []
}
