<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-sdk codegen
    Generated with resilient-sdk v50.0.151
-->

# Playbook - McAfee ePO Update User (PB)

### API Name
`mcafee_epo_update_user`

### Status
`enabled`

### Activation Type
`Manual`

### Activation Conditions
`-`

### Activation Form Elements
| Input Field Label | API Name | Element Type | Tooltip | Requirement |
| ----------------- | -------- | ------------ | ------- | ----------- |
| ePO Admin | `epo_admin` | boolean | If user should be admin | Optional |
| ePO Allowed IPs | `epo_allowed_ips` | text | List if IPs allowed to access the user | Optional |
| ePO Email | `epo_email` | text | Email for the ePO user | Optional |
| ePO Full Name | `epo_full_name` | text | Full name of the ePO user | Optional |
| ePO New Username | `epo_new_username` | text | Change ePO users username | Optional |
| ePO Notes | `epo_notes` | text | Notes to add to the ePO user | Optional |
| ePO Phone Number | `epo_phone_number` | text | Phone number for the ePO user | Optional |
| ePO Subject DN | `epo_subject_dn` | text | Subject DN to add to ePO user | Optional |
| ePO User Disbabled | `epo_user_disbabled` | boolean | If the user should be disabled | Optional |
| ePO User Password | `epo_user_password` | text | Password for the ePO user | Optional |
| ePO Windows Domain | `epo_windows_domain` | text | A windows domain to add to ePO server | Optional |
| ePO Windows Username | `epo_windows_username` | text | Windows username for ePO server | Optional |

### Object Type
`mcafee_epo_users`

### Description
None


---
## Function - McAfee ePO Update User

### API Name
`mcafee_epo_update_user`

### Output Name
`user`

### Message Destination
`mcafee_epo_message_destination`

### Function-Input Script
```python
inputs.mcafee_epo_admin = getattr(playbook.inputs, "epo_admin")
inputs.mcafee_epo_allowed_ips = getattr(playbook.inputs, "epo_allowed_ips")
inputs.mcafee_epo_email = getattr(playbook.inputs, "epo_email")
inputs.mcafee_epo_fullname = getattr(playbook.inputs, "epo_full_name")
inputs.mcafee_epo_notes = getattr(playbook.inputs, "epo_notes")
inputs.mcafee_epo_pass = getattr(playbook.inputs, "epo_user_password")
inputs.mcafee_epo_phone_number = getattr(playbook.inputs, "epo_phone_number")
inputs.mcafee_epo_user_disabled = getattr(playbook.inputs, "epo_user_disabled")
inputs.mcafee_epo_username = row.user_name
inputs.mcafee_epo_new_username = getattr(playbook.inputs, "epo_new_username")
inputs.mcafee_epo_subjectdn = getattr(playbook.inputs, "epo_subject_dn")
inputs.mcafee_epo_windowsdomain = getattr(playbook.inputs, "epo_windows_domain")
inputs.mcafee_epo_windowsusername = getattr(playbook.inputs, "epo_windows_username")
```

---

## Local script - post process

### Description


### Script Type
`Local script`

### Object Type
`mcafee_epo_users`

### Script Content
```python
results = playbook.functions.results.user
note = ""
if results.get("success"):
  inputs = results.get("inputs")
  if inputs.get("mcafee_epo_new_username"):
    row.user_name = inputs.get("mcafee_epo_new_username")
    note += "Username updated: {}\n".format(inputs.get("mcafee_epo_new_username"))
  if inputs.get("mcafee_epo_fullname"):
    row.full_name = inputs.get("mcafee_epo_fullname")
    note += "Full name updated: {}\n".format(inputs.get("mcafee_epo_fullname"))
  if inputs.get("mcafee_epo_email"):
    row.email = inputs.get("mcafee_epo_email")
    note += "Email updated: {}\n".format(inputs.get("mcafee_epo_email"))
  if inputs.get("mcafee_epo_phone_number"):
    row.phone_number = inputs.get("mcafee_epo_phone_number")
    note += "Phone number updated: {}\n".format(inputs.get("mcafee_epo_phone_number"))
  if inputs.get("mcafee_epo_user_disabled") != None:
    row.disabled = bool(inputs.get("mcafee_epo_user_disabled"))
    note += "User disabled updated: {}\n".format(bool(inputs.get("mcafee_epo_user_disabled")))
  if inputs.get("mcafee_epo_admin") != None:
    row.admin = bool(inputs.get("mcafee_epo_admin"))
    note += "Admin updated: {}\n".format(bool(inputs.get("mcafee_epo_admin")))
  if inputs.get("mcafee_epo_notes"):
    row.notes = inputs.get("mcafee_epo_notes")
    note += "Notes updated: {}\n".format(inputs.get("mcafee_epo_notes"))
  if inputs.get("mcafee_epo_allowed_ips"):
    row.allowed_ips = inputs.get("mcafee_epo_allowed_ips")
    note += "Allowed IPs updated: {}\n".format(inputs.get("mcafee_epo_allowed_ips"))
  incident.addNote("User: {} updated \n{}".format(row.user_name, note))
```

---

