<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-sdk codegen
    Generated with resilient-sdk v51.0.1.0.695
-->

# Playbook - Axonius: Run Enforcement by Name - Example

### API Name
`axonius_run_enforcement_set`

### Status
`enabled`

### Activation Type
`Manual`

### Activation Conditions
`-`

### Activation Form Elements
| Input Field Label | API Name | Element Type | Tooltip | Requirement |
| ----------------- | -------- | ------------ | ------- | ----------- |
| Enforcement Set Name | `axonius_enforcement_set_name` | text | Enforcement Set in Axonius to run from SOAR. | Always |

### Object Type
`incident`

### Description
Manual playbook to run an Axonius enforcement by specifying the enforcement name in Axonius.


---
## Function - Axonius: Run Enforcement Set

### API Name
`axonius_run_enforcement_set`

### Output Name
`run_enforcement_set_results`

### Message Destination
`fn_axonius`

### Function-Input Script
```python
inputs.axonius_enforcement_set_name = getattr(playbook.inputs, "axonius_enforcement_set_name", None)

if not inputs.axonius_enforcement_set_name:
  helper.fail("Axonius Enforcement Set Name must be specified.")
  
  
```

---

## Local script - Axonius: Write results of run enforcement set to note

### Description
Write results of run enforcement set function to a note.

### Script Type
`Local script`

### Object Type
`incident`

### Script Content
```python
results = playbook.functions.results.run_enforcement_set_results

if results.get("success", False):
  content = results.get("content", {})
  
  if content:
    values = content.get("value")
    note_text = ""
    for value in values:
      enforcement_name = value.get("name", None)
      enforcement_id = value.get("id", None)
      new_text = f"<b>Axonius: Run Enforcement by Name:</b> ran Enforcement Name: <b>{enforcement_name}</b><br> ID: {enforcement_id}<br>"
      note_text = note_text + new_text
  else:
    note_text = f"<b>Axonius: Run Enforcement by Name:</b> did not run: no content"
else:
  note_text = "<b>Axonius: Run Enforcement by Name:</b> failed:<br> {0}".format(results.get("reason", None))
incident.addNote(note_text)
```

---

