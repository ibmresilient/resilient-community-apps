<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-sdk codegen
-->

# Example: Symantec DLP - Set Incident Status to Closed

## Function - Symantec DLP: Update Incident

### API Name
`fn_symantec_dlp_update_incident`

### Output Name
`None`

### Message Destination
`fn_symantec_dlp`

### Pre-Processing Script
```python
#######################################
### Define pre-processing functions ###
#######################################
def dict_to_json_str(d):
  """Function that converts a dictionary into a JSON stringself.
     Supports basestring, bool and int.
     If the value is None, it sets it to False"""

  json_str = '"{ {0} }"'
  json_entry = '"{0}":{1}'
  json_entry_str = '"{0}":"{1}"'
  json_entry_unicode = u'"{0}":"{1}"'
  entries = [] 
  
  for entry in d:
    key = entry
    value = d[entry]
    
      
    if value is None:
      value = False
      
    if isinstance(value, unicode):
      entries.append(json_entry_unicode.format(key, value))
    elif isinstance(value, basestring):
      entries.append(json_entry_str.format(key, value))
    
    elif isinstance(value, bool):
      value = 'true' if value == True else 'false'
      entries.append(json_entry.format(key, value))
    
    else:
      entries.append(json_entry.format(key, value))
  
  return '{' + ','.join(entries) + '}'

from java.util import Date


payload = {
"status": "Closed",
"incident_id": incident.properties.sdlp_incident_id
}

payload['note'] = u"[{}] Resilient sent an Update Request to this Incident. Status was changed to {}".format(Date(), payload["status"])


inputs.sdlp_update_payload = dict_to_json_str(payload)
```

### Post-Processing Script
```python
None
```

---

