<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-sdk codegen
    Generated with resilient-sdk v51.0.5.0.1475
-->

# Example: Proofpoint TRAP: Delete List Member

## Function - Proofpoint TRAP: Delete List Member

### API Name
`fn_proofpoint_trap_delete_list_member`

### Output Name
`None`

### Message Destination
`fn_proofpoint_trap`

### Pre-Processing Script
```python
inputs.trap_list_id = row.list_id
inputs.trap_member_id = row.member_id
```

### Post-Processing Script
```python
##  ProofPoint Trap - fn_proofpoint_trap_delete_list_member##
# Example result:

"""
Results {'inputs': {u'trap_list_id': 1, u'trap_member_id': 8},
         'metrics': {'package': 'fn-proofpoint-trap', 'timestamp': '2019-09-04 17:06:02', 'package_version': '1.0.0',
                     'host': 'myhost.ibm.com', 'version': '1.0', 'execution_time_ms': 39
                     },
         'success': True,
         'content': 'OK',
         'raw': '"OK"',
         'reason': None,
         'version': '1.0'
}
"""
#  Globals
# List of fields in datatable "Proofpoint TRAP List Members" for fn_proofpoint_trap_delete_list_member script
DATA_TBL_FIELDS = ["query_execution_time", "status"]
FN_NAME = "fn_proofpoint_trap_delete_list_member"
WF_NAME = "Example: Proofpoint TRAP: Delete List Member"
STATUS = results.content
INPUTS = results.inputs
QUERY_EXECUTION_DATE = results["metrics"]["timestamp"]

# Processing


def main():
    note_text = ''
    if STATUS:
        note_text = "ProofPoint Trap Integration Integration: Workflow <b>{0}</b>: There was a valid result returned for Resilient function " \
                   "<b>{1}</b>".format(WF_NAME, FN_NAME)

        row.query_execution_date = QUERY_EXECUTION_DATE
        if STATUS.lower() == "ok":
            row.status = "Deleted"

    else:
        noteText += "ProofPoint Trap Integration: Workflow <b>{0}</b>: There were <b>no</b> results returned  for " \
                    "list id <b>{1}</b> for Resilient function <b>{3}</b>".format(WF_NAME, INPUTS["trap_list_id"], FN_NAME)

    incident.addNote(helper.createRichText(note_text))

if __name__ == "__main__":
    main()
```

---

