<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-sdk codegen
    Generated with resilient-sdk v51.0.5.0.1475
-->

# Playbook - SOAR Utils: Get Task contact Info- Example (PB)

### API Name
`soar_utils_get_task_contact_info_example_pb`

### Status
`enabled`

### Activation Type
`Manual`

### Activation Conditions
`-`

### Object Type
`task`

### Description
Get owner and member contact information for a task in an Incident.


---
## Function - SOAR Utilities: Get Contact Info

### API Name
`soar_utils_get_contact_info`

### Output Name
`get_task_contact_info_result`

### Message Destination
`fn_soar_utils`

### Function-Input Script
```python
inputs.incident_id = incident.id
inputs.task_id = task.id
```

---

## Local script - Soar Utils: Get task contact info

### Description
Get owner and member contact information for a task in an Incident.

### Script Type
`Local script`

### Object Type
`task`

### Script Content
```python
results = playbook.functions.results.get_task_contact_info_result


owner_data = results.get('owner') or {}
owner_type = owner_data.get('owner_type')

if owner_type == "individual":
    owner_info = owner_data.get('owner_info', {})
    owner_name = owner_info.get('display_name', 'Unknown')
    owner_email = owner_info.get('email', 'N/A')
    owner = f"{owner_name} ({owner_email})"
elif owner_type == "group":
    group_name = owner_data.get('group_name', 'Unnamed Group')
    member_names = ", ".join(owner_data.get('members', []))
    owner = f"{group_name} (Group Owner: {member_names})"

else:
    owner = "Unassigned"

# Format members list
members = "\n".join(
    f"{member.get('display_name', 'Unknown')} ({member.get('email', 'N/A')})"
    for member in results.get('members', [])
)

note_text = (
    f"<b>Soar Utils: Get Task contact Info - Example (PB):</b>\n"
    f"Owner: {owner}\nMembers:\n{members}"
)

task.addNote(note_text)

```

---

