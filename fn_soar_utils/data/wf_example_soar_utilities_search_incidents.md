<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-sdk codegen
-->

# Example: SOAR Utilities Search Incidents

## Function - SOAR Utilities: Search Incidents

### API Name
`soar_utils_search_incidents`

### Output Name
``

### Message Destination
`fn_soar_utils`

### Pre-Processing Script
```python
inputs.soar_utils_filter_conditions = rule.properties.soar_utils_search_fields.content
inputs.soar_utils_sort_fields = rule.properties.soar_utils_sort_fields.content
```

### Post-Processing Script
```python
msgs = [u"Filter conditions: {}".format(results.inputs['soar_utils_filter_conditions'])]
if results.success:
  for inc in results.content['data']:
    msgs.append(u"id: <a target='blank' href='/#incidents/{0}'>{0}</a> Name: {1}".format(inc['id'], inc['name']))
  incident.addNote(helper.createRichText(u"Found {} incidents<br>{}".format(results.content['recordsTotal'], '<br>'.join(msgs))))

else:
  incident.addNote(u"Search error found: {}<br>Filter conditions: {}<br>Sort Fields conditions: {}".format(results.reason, 
      results.inputs.get("soar_utils_filter_conditions"), results.inputs.get("soar_utils_sort_fields")))

```

---

